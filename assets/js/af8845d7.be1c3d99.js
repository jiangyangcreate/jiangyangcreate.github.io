"use strict";(self.webpackChunkjiangmiemie=self.webpackChunkjiangmiemie||[]).push([[7960],{10443:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/20\u7c7b\u4e0e\u5bf9\u8c61","title":"\u7c7b\u4e0e\u5bf9\u8c61","description":"\u6570\u636e\u7c7b\u81ea\u52a8\u751f\u6210\u5e38\u7528\u7684\u65b9\u6cd5\u5982init\u3001repr\u7b49\uff0c\u51cf\u5c11\u6837\u677f\u4ee3\u7801\uff0c\u8ba9\u5f00\u53d1\u8005\u4e13\u6ce8\u4e8e\u4e1a\u52a1\u903b\u8f91\u3002","source":"@site/docs/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/20\u7c7b\u4e0e\u5bf9\u8c61.mdx","sourceDirName":"\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python","slug":"/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/20\u7c7b\u4e0e\u5bf9\u8c61","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/20\u7c7b\u4e0e\u5bf9\u8c61","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20,"title":"\u7c7b\u4e0e\u5bf9\u8c61"},"sidebar":"tutorialSidebar","previous":{"title":"\u51fd\u6570","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/10\u51fd\u6570"},"next":{"title":"\u751f\u6210\u5668\u548c\u8fed\u4ee3\u5668","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/25\u751f\u6210\u5668\u548c\u8fed\u4ee3\u5668"}}');var l=s(74848),_=s(28453);const i={sidebar_position:20,title:"\u7c7b\u4e0e\u5bf9\u8c61"},t=void 0,c={},d=[{value:"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b",id:"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b",level:2},{value:"class",id:"class",level:3},{value:"\u7ee7\u627f",id:"\u7ee7\u627f",level:3},{value:"super",id:"super",level:3},{value:"\u65e0\u53c2\u6570\u5f62\u5f0f",id:"\u65e0\u53c2\u6570\u5f62\u5f0f",level:4},{value:"\u53cc\u53c2\u6570\u5f62\u5f0f",id:"\u53cc\u53c2\u6570\u5f62\u5f0f",level:4},{value:"classmethod \u548c staticmethod",id:"classmethod-\u548c-staticmethod",level:3},{value:"property",id:"property",level:3},{value:"\u7279\u6b8a\u65b9\u6cd5\u4e0e\u5c5e\u6027",id:"\u7279\u6b8a\u65b9\u6cd5\u4e0e\u5c5e\u6027",level:2},{value:"__mro__\u4e0emro()",id:"__mro__\u4e0emro",level:3},{value:"<code>__init__</code> \u4e0e <code>__new__</code> \u65b9\u6cd5\u8be6\u89e3",id:"__init__-\u4e0e-__new__-\u65b9\u6cd5\u8be6\u89e3",level:3},{value:"__call__",id:"__call__",level:3},{value:"__iter__\u548c__next__",id:"__iter__\u548c__next__",level:3},{value:"__enter__\u548c__exit__ \u4e0e with \u8bed\u53e5",id:"__enter__\u548c__exit__-\u4e0e-with-\u8bed\u53e5",level:3},{value:"__len__",id:"__len__",level:3},{value:"__getitem__\u548c__setitem__\u548c__delitem__",id:"__getitem__\u548c__setitem__\u548c__delitem__",level:3},{value:"__class__\u548c__name__",id:"__class__\u548c__name__",level:3},{value:"\u91cd\u8f7d\u7c7b\u578b\u8f6c\u6362",id:"\u91cd\u8f7d\u7c7b\u578b\u8f6c\u6362",level:2},{value:"__repr__\u548c__str__",id:"__repr__\u548c__str__",level:3},{value:"__int__\u548c__float__\u548c__complex__",id:"__int__\u548c__float__\u548c__complex__",level:3},{value:"\u91cd\u8f7d\u8fd0\u7b97\u7b26",id:"\u91cd\u8f7d\u8fd0\u7b97\u7b26",level:2},{value:"\u91cd\u8f7d\u7b97\u672f\u8fd0\u7b97\u7b26",id:"\u91cd\u8f7d\u7b97\u672f\u8fd0\u7b97\u7b26",level:3},{value:"\u91cd\u8f7d\u6bd4\u8f83\uff08\u5173\u7cfb\uff09\u8fd0\u7b97\u7b26",id:"\u91cd\u8f7d\u6bd4\u8f83\u5173\u7cfb\u8fd0\u7b97\u7b26",level:3},{value:"\u91cd\u8f7d\u8d4b\u503c\u8fd0\u7b97\u7b26",id:"\u91cd\u8f7d\u8d4b\u503c\u8fd0\u7b97\u7b26",level:3},{value:"\u91cd\u8f7d\u4f4d\u8fd0\u7b97\u7b26",id:"\u91cd\u8f7d\u4f4d\u8fd0\u7b97\u7b26",level:3},{value:"\u91cd\u8f7d\u6210\u5458\u8fd0\u7b97\u7b26",id:"\u91cd\u8f7d\u6210\u5458\u8fd0\u7b97\u7b26",level:3},{value:"\u5185\u7f6e\u51fd\u6570",id:"\u5185\u7f6e\u51fd\u6570",level:2},{value:"type\u51fd\u6570\u3001isinstance\u51fd\u6570\u3001issubclass\u51fd\u6570",id:"type\u51fd\u6570isinstance\u51fd\u6570issubclass\u51fd\u6570",level:3},{value:"dir\u51fd\u6570\u3001hasattr\u51fd\u6570\u3001delattr\u51fd\u6570\u3001setattr\u51fd\u6570\u3001getattr\u51fd\u6570\u3001vars\u51fd\u6570",id:"dir\u51fd\u6570hasattr\u51fd\u6570delattr\u51fd\u6570setattr\u51fd\u6570getattr\u51fd\u6570vars\u51fd\u6570",level:3},{value:"\u5143\u7c7b\u7f16\u7a0b",id:"\u5143\u7c7b\u7f16\u7a0b",level:2},{value:"object",id:"object",level:3}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,_.R)(),...e.components},{Highlight:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Highlight",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.p,{children:["\u6570\u636e\u7c7b\u81ea\u52a8\u751f\u6210\u5e38\u7528\u7684\u65b9\u6cd5\u5982",(0,l.jsx)(n.code,{children:"__init__"}),"\u3001",(0,l.jsx)(n.code,{children:"__repr__"}),"\u7b49\uff0c\u51cf\u5c11\u6837\u677f\u4ee3\u7801\uff0c\u8ba9\u5f00\u53d1\u8005\u4e13\u6ce8\u4e8e\u4e1a\u52a1\u903b\u8f91\u3002"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:"from dataclasses import dataclass\n\n@dataclass\nclass Person:\n    name: str\n    age: int\n"})}),(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://peps.python.org/pep-0557/",children:"PEP 557 \u2013 \u6570\u636e\u7c7b"})})]}),"\n",(0,l.jsx)(n.h2,{id:"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b",children:"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b"}),"\n",(0,l.jsx)(n.p,{children:"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u2014\u2014Object Oriented Programming\uff0c\u7b80\u79f0 OOP\uff0c\u662f\u4e00\u79cd\u7a0b\u5e8f\u8bbe\u8ba1\u601d\u60f3\u3002OOP \u628a\u5bf9\u8c61\u4f5c\u4e3a\u7a0b\u5e8f\u7684\u57fa\u672c\u5355\u5143\uff0c\u4e00\u4e2a\u5bf9\u8c61\u5305\u542b\u4e86\u6570\u636e\u548c\u64cd\u4f5c\u6570\u636e\u7684\u51fd\u6570\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5728 Python \u4e2d\uff0c\u6240\u6709\u6570\u636e\u7c7b\u578b\u90fd\u53ef\u4ee5\u89c6\u4e3a\u5bf9\u8c61\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5bf9\u8c61\u3002\u81ea\u5b9a\u4e49\u7684\u5bf9\u8c61\u6570\u636e\u7c7b\u578b\u5c31\u662f\u9762\u5411\u5bf9\u8c61\u4e2d\u7684\u7c7b\uff08Class\uff09\u7684\u6982\u5ff5\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u9762\u5411\u5bf9\u8c61\u7684\u8bbe\u8ba1\u601d\u60f3\u662f\u4ece\u81ea\u7136\u754c\u4e2d\u6765\u7684\uff0c\u56e0\u4e3a\u5728\u81ea\u7136\u754c\u4e2d\uff0c\u7c7b\uff08Class\uff09\u548c\u5b9e\u4f8b\uff08Instance\uff09\u7684\u6982\u5ff5\u662f\u5f88\u81ea\u7136\u7684\u3002Class \u662f\u4e00\u79cd\u62bd\u8c61\u6982\u5ff5\uff0c\u6bd4\u5982\u6211\u4eec\u5b9a\u4e49\u7684 Class\u2014\u2014Student\uff0c\u662f\u6307\u5b66\u751f\u8fd9\u4e2a\u6982\u5ff5\uff0c\u800c\u5b9e\u4f8b\uff08Instance\uff09\u5219\u662f\u4e00\u4e2a\u4e2a\u5177\u4f53\u7684 Student\uff0c\u6bd4\u5982\uff0c\u5f20\u4e09\u548c\u674e\u56db\u662f\u4e24\u4e2a\u5177\u4f53\u7684 Student\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u6240\u4ee5\uff0c\u9762\u5411\u5bf9\u8c61\u7684\u8bbe\u8ba1\u601d\u60f3\u662f\u62bd\u8c61\u51fa Class\uff0c\u6839\u636e Class \u521b\u5efa Instance\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u9762\u5411\u5bf9\u8c61\u7684\u62bd\u8c61\u7a0b\u5ea6\u53c8\u6bd4\u51fd\u6570\u8981\u9ad8\uff0c\u56e0\u4e3a\u4e00\u4e2a Class \u65e2\u5305\u542b\u6570\u636e\uff0c\u53c8\u5305\u542b\u64cd\u4f5c\u6570\u636e\u7684\u65b9\u6cd5\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"class",children:"class"}),"\n",(0,l.jsx)(n.p,{children:"python\u901a\u8fc7class\u5173\u952e\u5b57\u5b9a\u4e49\u4e00\u4e2a\u7c7b\uff0c\u7c7b\u5982\u679c\u4e0d\u7ee7\u627f\u5176\u4ed6\u7c7b\uff0c\u5219\u9ed8\u8ba4\u7ee7\u627fobject\u7c7b\uff0c\u6b64\u65f6\u53ef\u4ee5\u7701\u7565\u62ec\u53f7\u4e0eobject\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'# class ClassName:\nclass ClassName(object):\n    """class docstring"""\n    pass\n\ninstance = ClassName()\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u7c7b\u91cc\u7684\u51fd\u6570\u79f0\u4e3a\u65b9\u6cd5\uff0c\u7c7b\u91cc\u7684\u53d8\u91cf\u79f0\u4e3a\u5c5e\u6027\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5b9e\u4f8b\u65b9\u6cd5\u6309\u7167\u662f\u5426\u53ef\u8bbf\u95ee\u5b9e\u4f8b\u548c\u7c7b\u7684\u5c5e\u6027\u5206\u4e3a\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5b9e\u4f8b\u65b9\u6cd5\uff1a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\u5b9e\u4f8b\uff08\u7ea6\u5b9a\u4e3aself\uff09\uff0c\u53ef\u4ee5\u8bbf\u95ee\u5b9e\u4f8b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5"}),"\n",(0,l.jsx)(n.li,{children:"\u7c7b\u65b9\u6cd5\uff1a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\u7c7b\uff08\u7ea6\u5b9a\u4e3acls\uff09+ @classmethod \u88c5\u9970\u5668\uff0c\u53ef\u4ee5\u8bbf\u95ee\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5"}),"\n",(0,l.jsx)(n.li,{children:"\u9759\u6001\u65b9\u6cd5\uff1a@staticmethod \u88c5\u9970\u5668\uff0c\u4e0d\u80fd\u8bbf\u95ee\u5b9e\u4f8b\u548c\u7c7b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u7c7b\u65b9\u6cd5\u6309\u7167\u662f\u5426\u4ee5",(0,l.jsx)(n.code,{children:"__"}),"\u5f00\u5934\u548c\u7ed3\u5c3e\uff0c\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u79cd\uff1a"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5171\u6709\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u5373\u4e0d\u4ee5 __ \u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u65b9\u6cd5\u548c\u5c5e\u6027"}),"\n",(0,l.jsx)(n.li,{children:"special \u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u5373\u4ee5 __ \u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u65b9\u6cd5\u548c\u5c5e\u6027(\u6709\u7279\u6b8a\u7528\u9014)"}),"\n",(0,l.jsx)(n.li,{children:"\u79c1\u6709\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u4ee5 _ \u5f00\u5934\uff0c\u4e0d\u8fc7\u4e0d\u662f\u771f\u6b63\u79c1\u6709\uff0c\u800c\u662f\u53ef\u4ee5\u8c03\u7528\u7684\uff0c\u4f46\u662f\u4e0d\u4f1a\u88ab\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u6240\u8bb0\u5f55\uff08\u5373 Tab \u952e\u4e4b\u540e\u4e0d\u4f1a\u663e\u793a\uff09"}),"\n",(0,l.jsxs)(n.li,{children:["\u540d\u79f0\u4fee\u9970\u65b9\u6cd5\uff0c\u5373\u4ee5 ",(0,l.jsx)(n.code,{children:"__"})," \u5f00\u5934\u4e0d\u4ee5 ",(0,l.jsx)(n.code,{children:"__"})," \u7ed3\u5c3e\u7684\u5c5e\u6027\u662f\u66f4\u52a0\u7279\u6b8a\u7684\u65b9\u6cd5\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class MyDemoClass(object):\n    def __init__(self):\n        print("special.")\n\n    def get_value(self):\n        print("get_value is public method.")\n\n    def _get_name(self):\n        print("_get_name is private method.")\n    # \u5f53\u4f60\u5b9a\u4e49\u4e00\u4e2a __my_method() \u65b9\u6cd5\u65f6\uff0cPython \u89e3\u91ca\u5668\u4f1a\u81ea\u52a8\u5c06\u5176\u540d\u79f0\u4fee\u6539\u4e3a \n    # _ClassName__my_method() \u7684\u5f62\u5f0f\uff0c\u4ee5\u907f\u514d\u5728\u5b50\u7c7b\u4e2d\u53d1\u751f\u540d\u79f0\u51b2\u7a81\n    def __get_type(self):\n        print("__get_type is really special method.")\n\ndemo = MyDemoClass() # special.\ndemo.get_value() # get_value is public method.\ndemo._get_name() # _get_name is private method\ndemo._MyDemoClass__get_type() # __get_type is really special method.\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u7ee7\u627f",children:"\u7ee7\u627f"}),"\n",(0,l.jsx)(n.p,{children:"\u7c7b\u7ee7\u627f\u7684\u57fa\u672c\u5f62\u5f0f\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class ClassName(ParentClass):\n    """class docstring"""\n    def method(self):\n        return\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u91cc\u9762\u7684 ParentClass \u5c31\u662f\u7528\u6765\u7ee7\u627f\u7684\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Clothes(object):\n    def __init__(self, color="green"):\n        self.color = color\n\n    def out_print(self):\n        return self.__class__.__name__, self.color\n\nmy_clothes = Clothes()\nmy_clothes.color\nmy_clothes.out_print()\n\n# \u5b9a\u4e49\u4e00\u4e2a\u5b50\u7c7b\uff0c\u7ee7\u627f\u7236\u7c7b\u7684\u6240\u6709\u65b9\u6cd5\nclass NikeClothes(Clothes):\n    def change_color(self):\n        if self.color == "green":\n            self.color = "red"\n\n# \u5b50\u7c7b\u7ee7\u627f\u7236\u7c7b\u7684\u6240\u6709\u65b9\u6cd5\nyour_clothes = NikeClothes()\nyour_clothes.color\nyour_clothes.out_print()\n\n# \u540c\u65f6\u5b50\u7c7b\u4e5f\u6709\u81ea\u5df1\u7684\u65b9\u6cd5\u53ef\u7528\nyour_clothes.change_color()\nyour_clothes.color\n\n# \u5982\u679c\u60f3\u5bf9\u7236\u7c7b\u7684\u65b9\u6cd5\u8fdb\u884c\u4fee\u6539\uff0c\u53ea\u9700\u8981\u5728\u5b50\u7c7b\u4e2d\u91cd\u5b9a\u4e49\u8fd9\u4e2a\u7c7b\u65b9\u6cd5\u5373\u53ef\nclass AdidasClothes(Clothes):\n    def change_color(self):\n        if self.color == "green":\n            self.color = "black"\n\n    def out_print(self):\n        self.change_color()\n        return self.__class__.__name__, self.color\n\n\nhim_clothes = AdidasClothes()\nprint(him_clothes.color)\n\nhim_clothes.change_color()\nprint(him_clothes.color)\nprint(him_clothes.out_print())\n'})}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsx)(n.p,{children:"\u5f02\u5e38\u662f\u6807\u51c6\u5e93\u4e2d\u7684\u7c7b\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5f02\u5e38\u7c7b\uff1a"}),(0,l.jsx)(n.p,{children:"\u5c1d\u8bd5\u5728\u6587\u672c\u8f93\u5165\u6846\u8f93\u5165\uff1ak\uff0cstart\uff0cq"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:"class CommandError(ValueError):\n    print(\"bad command operation. must input 'start', 'stop', 'pause'\")\n\nvalid_commands = {'start', 'stop', 'pause'}\nwhile True:\n    command = input('>')\n    if command == 'q':\n        break\n    try:\n        if command.lower() not in valid_commands:\n            raise CommandError('Invalid command: %s' % command)\n        print('input command:', command)\n    except CommandError:\n        print(\"bad command string: %s\" % command)\n\n"})})]}),"\n",(0,l.jsx)(n.h3,{id:"super",children:"super"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"super()"})," \u51fd\u6570\u7528\u4e8e\u5728\u5b50\u7c7b\u4e2d\u8c03\u7528\u7236\u7c7b\uff08\u6216\u8d85\u7c7b\uff09\u7684\u65b9\u6cd5\uff0c\u7279\u522b\u662f\u652f\u6301\u591a\u7ee7\u627f\u7684\u573a\u666f\u4e0b\uff0c\u5b83\u4f1a\u6839\u636e\u65b9\u6cd5\u7684\u89e3\u6790\u987a\u5e8f",(0,l.jsx)(n.a,{href:"#__mro__%E4%B8%8Emro",children:"Method Resolution Order, MRO"}),"\u6765\u51b3\u5b9a\u8c03\u7528\u54ea\u4e2a\u7c7b\u7684\u65b9\u6cd5\u3002"]}),"\n",(0,l.jsx)(n.admonition,{type:"info",children:(0,l.jsx)(n.p,{children:"\u8fd9\u79cd\u5c06\u4e0a\u4e0b\u6587\u6253\u5305\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u53ef\u8c03\u7528\u5bf9\u8c61\u7684\u91cd\u5b9a\u5411\u601d\u60f3\uff0c\u5728Python\u4e2d\u975e\u5e38\u5e38\u89c1\uff0c\u6bd4\u5982\u5404\u7c7b\u88c5\u9970\u5668\u3001\u56de\u8c03\u51fd\u6570\u7b49\u3002"})}),"\n",(0,l.jsx)(n.h4,{id:"\u65e0\u53c2\u6570\u5f62\u5f0f",children:"\u65e0\u53c2\u6570\u5f62\u5f0f"}),"\n",(0,l.jsxs)(n.p,{children:["\u5f53\u5728\u7c7b\u7684\u65b9\u6cd5\u5185\u90e8\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"super()"})," \u65f6\uff08\u901a\u5e38\u662f\u5b9e\u4f8b\u65b9\u6cd5\uff0c\u5982 ",(0,l.jsx)(n.code,{children:"__init__"}),"\uff09\uff0c\u5b83\u4f1a\u81ea\u52a8\u63a8\u65ad\u5f53\u524d\u7c7b\u548c\u5f53\u524d\u5b9e\u4f8b\uff08\u5373 ",(0,l.jsx)(n.code,{children:"self"}),"\uff09\u3002\u8fd9\u76f8\u5f53\u4e8e ",(0,l.jsx)(n.code,{children:"super(CurrentClass, self)"}),"\uff0c\u5176\u4e2d ",(0,l.jsx)(n.code,{children:"CurrentClass"})," \u662f\u5f53\u524d\u65b9\u6cd5\u7684\u6240\u5728\u7c7b\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5fc5\u987b\u5728\u65b9\u6cd5\u5185\u90e8\u4f7f\u7528\uff08\u6709 ",(0,l.jsx)(n.code,{children:"self"})," \u6216 ",(0,l.jsx)(n.code,{children:"cls"})," \u4e0a\u4e0b\u6587\uff09\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u65e0\u53c2\u6570\u5f62\u5f0f\u4f9d\u8d56\u4e8e Python \u7684 ",(0,l.jsx)(n.code,{children:"__class__"})," \u9b54\u6cd5\u53d8\u91cf\u3002\u5b83\u4f1a\u8fd4\u56de\u4e00\u4e2a\u4ee3\u7406\u5bf9\u8c61\uff0c\u7528\u4e8e\u8c03\u7528\u5f53\u524d\u7c7b\u5728 MRO \u4e2d\u7684\u4e0b\u4e00\u4e2a\u7c7b\u7684\u65b9\u6cd5\uff08\u901a\u5e38\u662f\u76f4\u63a5\u7236\u7c7b\uff0c\u4f46\u591a\u7ee7\u627f\u65f6\u53ef\u80fd\u4e0d\u540c\uff09\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5c06\u5f53\u524d\u7684\u4e0a\u4e0b\u6587(",(0,l.jsx)(n.code,{children:"self"})," \u6216 ",(0,l.jsx)(n.code,{children:"cls"}),')\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u9012\u7ed9"MRO\u7684\u4e0b\u4e00\u4e2a\u7c7b \u7684 \u6307\u5b9a\u65b9\u6cd5",\u7136\u540e\u8c03\u7528\u3002']}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Parent:\n    def __init__(self, name):\n        self.name = name\n        print(f"Parent init: {name}")\n    \n    def greet(self):\n        print(f"Hello, I\'m {self.name}")\n    \n    @classmethod\n    def class_method(cls):\n        # cls\u53c2\u6570\u6c38\u8fdc\u6307\u5411\u8c03\u7528\u8be5\u65b9\u6cd5\u7684\u7c7b\n        # \u4e0d\u8bba\u63d0\u4f9b\u7684\u662f\u7c7b\u8fd8\u662f\u5b9e\u4f8b\uff0c\u6700\u7ec8\u90fd\u4f1a\u8c03\u7528\u7c7b\u7684\u65b9\u6cd5\u3002\n        print("Parent class method",cls)\n\n\nclass Child(Parent):\n    def __init__(self, name, age):\n        super().__init__(name)  # \u7b49\u4ef7\u4e8e super(Child, self).__init__(name)\n        self.age = age\n        print(f"Child init: {name}, {age}")\n    \n    def greet(self):\n        super().greet()  # \u8c03\u7528\u7236\u7c7b\u7684 greet \u65b9\u6cd5\n        print(f"I\'m {self.age} years old")\n\n    @classmethod\n    def class_method(cls):\n        # \u5c06\u5f53\u524d\u7684\u4e0a\u4e0b\u6587cls\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u9012\u7ed9"MRO\u7684\u4e0b\u4e00\u4e2a\u7c7b\uff08Parent\uff09\u7684class_method\u65b9\u6cd5",\u7136\u540e\u8c03\u7528\n        super().class_method()\n\nchild = Child("Alice", 10)\nchild.greet()\nchild.class_method()\n"""\nParent init: Alice\nChild init: Alice, 10\nHello, I\'m Alice\nI\'m 10 years old\nParent class method <class \'__main__.Child\'>\n"""\n'})}),"\n",(0,l.jsx)(n.h4,{id:"\u53cc\u53c2\u6570\u5f62\u5f0f",children:"\u53cc\u53c2\u6570\u5f62\u5f0f"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"super(class, instance)"})," \u660e\u786e\u6307\u5b9a\u8981\u67e5\u627e\u7684\u7c7b\u548c\u7ed1\u5b9a\u7684\u7c7b\u6216\u5b9e\u4f8b\uff0c\u63d0\u4f9b\u6700\u5927\u7684\u63a7\u5236\u7075\u6d3b\u6027\uff0c\u4e00\u822c\u662f\u4e0e\u5b9e\u4f8b\u65b9\u6cd5\u548c\u7c7b\u65b9\u6cd5\u914d\u5408\u4f7f\u7528\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class A:\n    name = \'A\'\n    @classmethod\n    def class_method(cls):\n        # cls\u53c2\u6570\u6c38\u8fdc\u6307\u5411\u8c03\u7528\u8be5\u65b9\u6cd5\u7684\u7c7b\n        # \u4e0d\u8bba\u63d0\u4f9b\u7684\u662f\u7c7b\u8fd8\u662f\u5b9e\u4f8b\uff0c\u6700\u7ec8\u90fd\u4f1a\u8c03\u7528\u7c7b\u7684\u65b9\u6cd5\u3002\n        print(cls,cls.name)\n\n\n    def method(self):\n        print("A.method")\n\nclass B(A):\n    def method(self):\n        print("B.method")\n\nclass C(A):\n    def method(self):\n        print("C.method")\n\nclass D(B, C):\n    name = \'D\'\n    def method(self):\n        print("D.method")\n        # \u4f7f\u7528\u53cc\u53c2\u6570\u5f62\u5f0f\u7cbe\u786e\u63a7\u5236\u8c03\u7528\n        super(D, self).method()  # \u5c06\u5f53\u524d\u7684self\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u9012\u7ed9"MRO\u7684D\u7684\u4e0b\u4e00\u4e2a\u7c7b\u7684method\u65b9\u6cd5",\u7136\u540e\u8c03\u7528\n        super(B, self).method()  # \u5c06\u5f53\u524d\u7684self\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u9012\u7ed9"MRO\u7684B\u7684\u4e0b\u4e00\u4e2a\u7c7b\u7684method\u65b9\u6cd5",\u7136\u540e\u8c03\u7528\n        super(C, self).method()  # \u5c06\u5f53\u524d\u7684self\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u9012\u7ed9"MRO\u7684C\u7684\u4e0b\u4e00\u4e2a\u7c7b\u7684method\u65b9\u6cd5",\u7136\u540e\u8c03\u7528 \n    \n    @classmethod\n    def class_method(cls):\n        print(cls,cls.name)\n        super(D, cls).class_method() # \u5c06\u5f53\u524d\u7684cls\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u9012\u7ed9"MRO\u7684\u4e0b\u4e00\u4e2a\u7c7b\u7684class_method\u65b9\u6cd5",\u7136\u540e\u8c03\u7528\n        super(B, cls).class_method() # \u5c06\u5f53\u524d\u7684cls\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u9012\u7ed9"MRO\u7684B\u7684\u4e0b\u4e00\u4e2a\u7c7b\u7684class_method\u65b9\u6cd5",\u7136\u540e\u8c03\u7528\n        super(C, cls).class_method() # \u5c06\u5f53\u524d\u7684cls\u4f5c\u4e3a\u53c2\u6570\uff0c\u4f20\u9012\u7ed9"MRO\u7684C\u7684\u4e0b\u4e00\u4e2a\u7c7b\u7684class_method\u65b9\u6cd5",\u7136\u540e\u8c03\u7528\n\nprint("MRO:", D.__mro__)\nd = D()\nd.method()\n"""\nMRO: (<class \'__main__.D\'>, <class \'__main__.B\'>, <class \'__main__.C\'>, <class \'__main__.A\'>, <class \'object\'>)\nD.method\nB.method\nC.method\nA.method\n"""\nD.class_method()\n"""\n<class \'__main__.D\'> D\n<class \'__main__.D\'> D\n<class \'__main__.D\'> D\n<class \'__main__.D\'> D\n<class \'__main__.D\'> D\n"""\n'})}),"\n",(0,l.jsx)(n.h3,{id:"classmethod-\u548c-staticmethod",children:"classmethod \u548c staticmethod"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"classmethod"}),"\uff1a\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f20\u5165\u7c7b\uff08\u7ea6\u5b9a\u4e3acls\uff09+ @classmethod \u88c5\u9970\u5668\uff0c",(0,l.jsx)(s,{children:"\u53ef\u4ee5\u8bbf\u95ee\u7c7b\u53d8\u91cf"}),"\uff0c\u5e76\u53ef\u4ee5\u7528\u4e8e\u521b\u5efa\u7c7b\u7684\u4e0d\u540c\u5b9e\u4f8b\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"staticmethod"}),"\uff1a@staticmethod \u88c5\u9970\u5668\uff0c\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a\u666e\u901a\u7684\u51fd\u6570\uff0c\u53ea\u662f\u88ab\u653e\u5728\u7c7b\u7684\u547d\u540d\u7a7a\u95f4\u4e0b\u3002\u5b83",(0,l.jsx)(s,{children:"\u4e0d\u80fd\u8bbf\u95ee\u7c7b\u6216\u5b9e\u4f8b\u7684\u4efb\u4f55\u5c5e\u6027"}),"\uff0c\u901a\u5e38\u7528\u4e8e\u4e0e\u7c7b\u903b\u8f91\u76f8\u5173\u4f46\u4e0d\u9700\u8981\u8bbf\u95ee\u5176\u72b6\u6001\u7684\u5de5\u5177\u51fd\u6570\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class A:\n    name = \'A\'\n    @classmethod\n    def class_method(cls):\n        print(cls,cls.name)\n\n    @staticmethod\n    def static_method():\n        print("static_method")\n\na = A()\na.class_method()\na.static_method()\n"""\n<class \'__main__.A\'> A\nstatic_method\n"""\n'})}),"\n",(0,l.jsx)(n.h3,{id:"property",children:"property"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"@property"}),"\u88c5\u9970\u5668\u53ef\u4ee5\u4f7f\u5f97\u4e00\u4e2a\u5c5e\u6027\u53d8\u6210\u901a\u8fc7\u65b9\u6cd5\u8bbf\u95ee\u7684\u53ea\u8bfb\u5c5e\u6027\uff08\u6ce8\u610f\u662f\u5c5e\u6027\u4e0d\u662f\u65b9\u6cd5\uff09\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5bf9\u4e8e ",(0,l.jsx)(n.code,{children:"@property"})," \u751f\u6210\u7684\u53ea\u8bfb\u5c5e\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u76f8\u5e94\u7684 ",(0,l.jsx)(n.code,{children:"@attr.setter"})," \u4fee\u9970\u7b26\u6765\u4f7f\u5f97\u8fd9\u4e2a\u5c5e\u6027\u53d8\u6210\u53ef\u5199\u7684\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Clothes(object):\n    def __init__(self, price):\n        self.price = price\n\n    # \u8fd9\u6837\u5c31\u53d8\u6210\u5c5e\u6027\u4e86\n    @property\n    def discount_price(self):\n        print("discount_price \u88ab\u8bfb\u53d6")\n        if self.price <= 100:\n            self.new_price = 0\n        else:\n            self.new_price = 1\n        return self.new_price\n\n    @discount_price.setter\n    def discount_price(self, new_price):\n        print(f"discount_price \u88ab\u8bbe\u7f6e{new_price}")\n        self.new_price = new_price\n\n\nmy_clothes = Clothes(100)\nprint(my_clothes.discount_price)\nmy_clothes.price = 200 \nmy_clothes.discount_price = 180 \nprint(my_clothes.discount_price) \n"""\ndiscount_price \u88ab\u8bfb\u53d6\n0\ndiscount_price \u88ab\u8bbe\u7f6e180\ndiscount_price \u88ab\u8bfb\u53d6\n1\n"""\n'})}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsx)(n.p,{children:"property \u51fd\u6570\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u7b49\u4ef7\u4e8e\u4e0a\u9762\u7684\u5199\u6cd5\u3002"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers {8,18,21}",children:'class Clothes(object):\n    def __init__(self, price):\n        self.price = price\n\n    # # \u8fd9\u6837\u5c31\u53d8\u6210\u5c5e\u6027\u4e86\n    # @property\n    # def discount_price(self):\n    def get_discount_price(self):\n        print("discount_price \u88ab\u8bfb\u53d6")\n        if self.price <= 100:\n            self.new_price = 0\n        else:\n            self.new_price = 1\n        return self.new_price\n\n    # @discount_price.setter\n    # def discount_price(self, new_price):\n    def set_discount_price(self, new_price):\n        print(f"discount_price \u88ab\u8bbe\u7f6e{new_price}")\n        self.new_price = new_price\n    discount_price = property(get_discount_price, set_discount_price)\n\n\nmy_clothes = Clothes(100)\nprint(my_clothes.discount_price)\nmy_clothes.price = 200 \nmy_clothes.discount_price = 180 \nprint(my_clothes.discount_price) \n"""\ndiscount_price \u88ab\u8bfb\u53d6\n0\ndiscount_price \u88ab\u8bbe\u7f6e180\ndiscount_price \u88ab\u8bfb\u53d6\n1\n"""\n'})})]}),"\n",(0,l.jsx)(n.h2,{id:"\u7279\u6b8a\u65b9\u6cd5\u4e0e\u5c5e\u6027",children:"\u7279\u6b8a\u65b9\u6cd5\u4e0e\u5c5e\u6027"}),"\n",(0,l.jsx)(n.p,{children:"Python \u4f7f\u7528 __ \u5f00\u5934\u7684\u540d\u5b57\u6765\u5b9a\u4e49\u7279\u6b8a\u65b9\u6cd5\u4e0e\u7279\u6b8a\u5c5e\u6027"}),"\n",(0,l.jsx)(n.h3,{id:"__mro__\u4e0emro",children:"__mro__\u4e0emro()"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"__mro__"}),"\u4e0e",(0,l.jsx)(n.code,{children:"mro()"}),"\u7528\u4e8e\u83b7\u53d6\u7c7b\u7684\u7ee7\u627f\u5173\u7cfb\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"__mro__"}),"\u662fmethod resolution order\u7684\u7f29\u5199\uff0c\u8868\u793a\u65b9\u6cd5\u89e3\u6790\u987a\u5e8f\u3002\u8fd4\u56de\u7684\u662ftuple\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"mro()\u662fmethod resolution order\u7684\u7f29\u5199\uff0c\u8868\u793a\u65b9\u6cd5\u89e3\u6790\u987a\u5e8f\u3002\u8fd4\u56de\u7684\u662flist\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:"class Parent(object):\n    pass\n\nclass Child(Parent):\n    pass\n\nprint(Child.mro()) # [<class '__main__.Child'>, <class '__main__.Parent'>, <class 'object'>]\nprint(Child.__mro__) # (<class '__main__.Child'>, <class '__main__.Parent'>, <class 'object'>)\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"__init__-\u4e0e-__new__-\u65b9\u6cd5\u8be6\u89e3",children:[(0,l.jsx)(n.code,{children:"__init__"})," \u4e0e ",(0,l.jsx)(n.code,{children:"__new__"})," \u65b9\u6cd5\u8be6\u89e3"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"__new__()"})," \u5728\u6bcf\u6b21",(0,l.jsx)(s,{children:"\u521b\u5efa\u5b9e\u4f8b\u65f6"}),"\u65f6\u88ab\u8c03\u7528\uff0c\u7528\u4e8e\u521b\u5efa\u5b9e\u4f8b\u3002\u5b83\u81f3\u5c11\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u7ea6\u5b9a\u4fd7\u6210\u4e3a",(0,l.jsx)(n.code,{children:"cls"}),"\uff0c\u4ee3\u8868\u5f53\u524d\u7c7b\u3002\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"__init__()"})," \u5728\u6bcf\u6b21",(0,l.jsx)(s,{children:"\u5b9e\u4f8b\u521b\u5efa\u540e"}),"\u540e\u88ab\u8c03\u7528\uff0c\u7528\u4e8e\u521d\u59cb\u5316\u5b9e\u4f8b\u3002\u5b83\u81f3\u5c11\u6709\u4e00\u4e2a\u53c2\u6570\uff0c\u7ea6\u5b9a\u4fd7\u6210\u4e3a",(0,l.jsx)(n.code,{children:"self"}),"\uff0c\u4ee3\u8868\u5f53\u524d\u5b9e\u4f8b\u3002\u8fd4\u56de\u503c\u5fc5\u987b\u4e3a ",(0,l.jsx)(n.code,{children:"None"})," \u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u6267\u884c\u6d41\u7a0b\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u8c03\u7528__new__()\u65b9\u6cd5\u521b\u5efa\u5b9e\u4f8b\u3002__new__\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u6b64\u65f6\u62ff\u5230\u7684\u5b9e\u4f8b\u5e76\u4e0d\u80fd\u6b63\u5e38\u4f7f\u7528\u3002\u4e00\u4e2a\u5b9e\u4f8b\u9700\u8981\u88ab__init__()\u65b9\u6cd5\u521d\u59cb\u5316\u540e\u624d\u53ef\u4ee5\u88ab\u6b63\u5e38\u4f7f\u7528\u3002"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u8c03\u7528__init__()\u65b9\u6cd5\u521d\u59cb\u5316\u8be5\u5b9e\u4f8b\u3002__init__\u4ec0\u4e48\u90fd\u4e0d\u8fd4\u56de"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Person:\n    def __new__(cls, name, age):\n        print(f"__new__ called: \u521b\u5efa {name} \u7684\u5b9e\u4f8b")\n        # \u8c03\u7528\u7236\u7c7b\u7684 __new__ \u65b9\u6cd5\u521b\u5efa\u5b9e\u4f8b\n        # \u56e0\u4e3a__new__\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5f53\u524d\u7684__new__\u53c8\u88ab\u91cd\u5199\u4e86\uff0c\u5982\u679c\u8c03\u7528\u81ea\u5df1\u4f1a\u5faa\u73af\u5f15\u7528\uff0c\u6240\u4ee5\u8c03\u7528\u7236\u7c7b\u7684__new__\n        instance = super().__new__(cls)\n        return instance\n    \n    def __init__(self, name, age):\n        print(f"__init__ called: \u521d\u59cb\u5316 {name} \u7684\u5b9e\u4f8b")\n        self.name = name\n        self.age = age\n    \n    def __str__(self):\n        return f"Person(name={self.name}, age={self.age})"\n\n# \u521b\u5efa\u5b9e\u4f8b\nperson = Person("Alice", 25)\nprint(person)\n"""\n__new__ called: \u521b\u5efa Alice \u7684\u5b9e\u4f8b\n__init__ called: \u521d\u59cb\u5316 Alice \u7684\u5b9e\u4f8b\nPerson(name=Alice, age=25)\n"""\n'})}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsx)(n.p,{children:"\u5355\u4f8b\u6a21\u5f0f\u5b9e\u73b0"}),(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"__new__"})," \u65b9\u6cd5\u6700\u5e38\u89c1\u7684\u7528\u9014\u662f\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f\uff1a"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Singleton:\n    _instance = None\n    \n    def __new__(cls, *args, **kwargs):\n        if cls._instance is None:\n            print("\u521b\u5efa\u65b0\u7684\u5355\u4f8b\u5b9e\u4f8b")\n            cls._instance = super().__new__(cls)\n        return cls._instance\n    \n    def __init__(self, *args, **kwargs):\n        print(id(self))\n\na = Singleton() # 2747644276960\nb = Singleton() # 2747644276960\n# id \u76f8\u540c\uff0c\u8bf4\u660e\u662f\u540c\u4e00\u4e2a\u5b9e\u4f8b\n'})})]}),"\n",(0,l.jsx)(n.h3,{id:"__call__",children:"__call__"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"__call__()"})," \u5f53\u5b9e\u4f8b\u540d\u52a0\u4e0a()\u65f6\u88ab\u8c03\u7528,\u53ef\u4ee5\u4f7f\u5bf9\u8c61\u53ef\u4ee5\u50cf\u51fd\u6570\u4e00\u6837\u88ab\u8c03\u7528\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Clothes(object):\n    def __init__(self, color="green"):\n        self.color = color\n        self.wear_count = 0\n\n    def __call__(self):\n        self.wear_count += 1\n        return f"Wearing {self.color} clothes for the {self.wear_count} time"\n\nmy_clothes = Clothes("blue")\nprint(my_clothes())  # Wearing blue clothes for the 1 time\nprint(my_clothes())  # Wearing blue clothes for the 2 time\n'})}),"\n",(0,l.jsx)(n.h3,{id:"__iter__\u548c__next__",children:"__iter__\u548c__next__"}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.p,{children:["\u5b9e\u73b0\u4e86 ",(0,l.jsx)(n.code,{children:"__iter__()"})," \u65b9\u6cd5\u7684\u5bf9\u8c61\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3002"]}),(0,l.jsxs)(n.p,{children:["\u5982\u679c\u540c\u65f6\u5b9e\u73b0\u4e86 ",(0,l.jsx)(n.code,{children:"__next__()"})," \u65b9\u6cd5\uff0c\u90a3\u5b83\u662f\u53ef\u8fed\u4ee3\u5bf9\u8c61\u7684\u540c\u65f6\uff0c\u4e5f\u662f\u8fed\u4ee3\u5668\u3002"]}),(0,l.jsxs)(n.p,{children:["\u5982\u679c\u53ea\u5b9e\u73b0\u4e86 ",(0,l.jsx)(n.code,{children:"__next__()"})," \u65b9\u6cd5\uff0c\u90a3\u5b83\u53ef\u4ee5\u50cf\u624b\u52a8\u8fed\u4ee3\u5668\u4e00\u6837\u5de5\u4f5c\uff0c\u4f46\u662f\uff0c\u5b83\u4e0d\u662f\u4e00\u4e2a\u6709\u6548\u7684\u53ef\u8fed\u4ee3\u5bf9\u8c61\u3002"]}),(0,l.jsx)(n.mermaid,{value:"graph TD\n    subgraph \u5bf9\u8c61\n        subgraph \u53ef\u8fed\u4ee3\u5bf9\u8c61\n            \u8fed\u4ee3\u5668\n        end\n    end"}),(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"\u7c7b\u578b"}),(0,l.jsxs)(n.th,{style:{textAlign:"center"},children:["\u662f\u5426\u5b9e\u73b0",(0,l.jsx)(n.code,{children:"__iter__"})]}),(0,l.jsxs)(n.th,{style:{textAlign:"center"},children:["\u662f\u5426\u5b9e\u73b0",(0,l.jsx)(n.code,{children:"__next__"})]})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u5bf9\u8c61"})}),(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"\u2716\ufe0f"}),(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"\u2716\ufe0f"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u5bf9\u8c61"})}),(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"\u2716\ufe0f"}),(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u53ef\u8fed\u4ee3\u5bf9\u8c61"})}),(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"\u2716\ufe0f"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u662f",(0,l.jsx)(n.strong,{children:"\u53ef\u8fed\u4ee3\u5bf9\u8c61"}),"\u4e5f\u662f",(0,l.jsx)(n.strong,{children:"\u8fed\u4ee3\u5668"})]}),(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,l.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"})]})]})]})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class MyRange:\n    def __init__(self, start, end):\n        self.current = start\n        self.end = end\n    \n    def __iter__(self):\n        print("__iter__")\n        return self\n    \n    def __next__(self):\n        print("__next__")\n        if self.current < self.end:\n            result = self.current\n            self.current += 1\n            return result\n        else:\n            raise StopIteration\n\n# \u521b\u5efa\u4e00\u4e2a MyRange \u5bf9\u8c61\uff0c\u8fd9\u662f\u4e00\u4e2a\u201c\u53ef\u8fed\u4ee3\u5bf9\u8c61\u201d\nmy_range_object = MyRange(1, 4) # \u8c03\u7528__iter__\n\nfor i in my_range_object: # \u6bcf\u6b21\u8fed\u4ee3\u90fd\u5728\u8c03\u7528__next__\n    # \u7b49\u4ef7\u4e8e print(next(my_iterator))\n    print(i) \n"""\n__iter__\n__next__\n1\n__next__\n2\n__next__\n3\n__next__\n"""\n'})}),"\n",(0,l.jsx)(n.h3,{id:"__enter__\u548c__exit__-\u4e0e-with-\u8bed\u53e5",children:"__enter__\u548c__exit__ \u4e0e with \u8bed\u53e5"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"__enter__()"})," \u548c ",(0,l.jsx)(n.code,{children:"__exit__()"})," \u5b9a\u4e49\u5bf9\u8c61\u7684\u4e0a\u4e0b\u6587\u7ba1\u7406\u884c\u4e3a\u3002"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u5f53\u4e00\u4e2a\u5bf9\u8c61\u88ab\u7528\u4e8e with \u8bed\u53e5\u65f6\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528 ",(0,l.jsx)(n.code,{children:"__enter__()"})," \u65b9\u6cd5\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u5f53 with \u8bed\u53e5\u5757\u7ed3\u675f\u65f6\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528 ",(0,l.jsx)(n.code,{children:"__exit__()"})," \u65b9\u6cd5\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class ContextManager(object):\n    def __enter__(self):\n        print("Entering")\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print("Exiting")\n\nwith ContextManager():\n    print("inside operate")\n"""\nEntering\ninside operate\nExiting\n"""\n'})}),"\n",(0,l.jsxs)(n.admonition,{type:"info",children:[(0,l.jsxs)(n.p,{children:["with \u8bed\u53e5\u5e38\u5e38\u4e0e as \u5173\u952e\u5b57\u4e00\u8d77\u4f7f\u7528\uff0c",(0,l.jsx)(n.code,{children:"as \u53d8\u91cf\u540d"}),"\u3002",(0,l.jsx)(n.code,{children:"__enter__()"})," \u65b9\u6cd5\u8fd4\u56de\u7684\u503c\u88ab\u8d4b\u503c\u7ed9 as \u5173\u952e\u5b57\u540e\u9762\u7684\u53d8\u91cf\u3002"]}),(0,l.jsx)(n.p,{children:"\u4e0b\u9762\u7684\u4ee3\u7801\u5c55\u793a\u4e86\u6253\u5f00\u6587\u4ef6\uff0c\u5c06\u6587\u4ef6\u8bed\u67c4\u8d4b\u503c\u7ed9 fp \u53d8\u91cf\uff0c\u7136\u540e\u901a\u8fc7 fp \u53d8\u91cf\u8c03\u7528 write \u65b9\u6cd5\u5199\u5165\u6587\u4ef6\u3002"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:"with open('my_file.txt', 'w') as fp:\n    fp.write(\"Hello world\")\n"})})]}),"\n",(0,l.jsx)(n.h3,{id:"__len__",children:"__len__"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"__len__()"})," \u8fd4\u56de\u5bf9\u8c61\u7684\u957f\u5ea6\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Clothes(object):\n    def __init__(self, color="green"):\n        self.color = color\n\n    def __len__(self):\n        return len(self.color)\n    \nmy_clothes = Clothes("blue")\nprint(len(my_clothes)) # \u8c03\u7528__len__\u65b9\u6cd5\n# \u56e0\u4e3a\u67094\u4e2a\u5b57\u7b26\uff0c\u6240\u4ee5\u8fd4\u56de4\n'})}),"\n",(0,l.jsx)(n.h3,{id:"__getitem__\u548c__setitem__\u548c__delitem__",children:"__getitem__\u548c__setitem__\u548c__delitem__"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"__getitem__()"})," \u8fd4\u56de\u5bf9\u8c61\u7684\u7d22\u5f15\u503c\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"__setitem__()"})," \u8bbe\u7f6e\u5bf9\u8c61\u7684\u7d22\u5f15\u503c\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"__delitem__()"})," \u5220\u9664\u5bf9\u8c61\u7684\u7d22\u5f15\u503c\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:"class Clothes:\n    def __init__(self):\n        self.color = [\"blue\", \"green\", \"red\"]\n    \n    def __getitem__(self, index):\n        return self.color[index]\n    \n    def __setitem__(self, index, value):\n        self.color[index] = value\n    \n    def __delitem__(self, index):\n        del self.color[index]\n    \nmy_clothes = Clothes()\nprint(my_clothes[0]) # \u8c03\u7528__getitem__\u65b9\u6cd5\n# blue\nmy_clothes[0] = \"red\" # \u8c03\u7528__setitem__\u65b9\u6cd5\nprint(my_clothes.color) # ['red', 'green', 'red']\n\ndel my_clothes[0] # \u8c03\u7528__delitem__\u65b9\u6cd5\nprint(my_clothes.color) # ['green', 'red']\n"})}),"\n",(0,l.jsx)(n.h3,{id:"__class__\u548c__name__",children:"__class__\u548c__name__"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"__class__"})," \u8fd4\u56de",(0,l.jsx)(s,{children:"\u5bf9\u8c61"}),"\u6240\u5c5e\u7684",(0,l.jsx)(s,{children:"\u7c7b"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"__name__"})," \u8fd4\u56de",(0,l.jsx)(s,{children:"\u7c7b"}),"\u7684\u540d\u79f0\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:"class Clothes(object):\n    def __init__(self, color=\"green\"):\n        self.color = color\n\n    def get_class_info(self):\n        # __class__ \u8fd4\u56de\u5bf9\u8c61\u7684\u7c7b\n        return self.__class__\n    \n    def get_class_name(self):\n        # __class__.__name__ \u8fd4\u56de\u7c7b\u7684\u540d\u79f0\n        return self.__class__.__name__\n\n# \u521b\u5efa\u5b9e\u4f8b\nmy_clothes = Clothes(\"blue\")\nprint(Clothes)                        # <class '__main__.Clothes'>\n# \u4f7f\u7528 __class__ \u5c5e\u6027\nprint(my_clothes.__class__)           # <class '__main__.Clothes'>\nprint(my_clothes.get_class_info())    # <class '__main__.Clothes'>\n\n# \u4f7f\u7528 __name__ \u5c5e\u6027\nprint(Clothes.__name__)               # Clothes\nprint(my_clothes.__class__.__name__)  # Clothes\nprint(my_clothes.get_class_name())    # Clothes\n\n# \u68c0\u67e5\u5bf9\u8c61\u7c7b\u578b\nprint(type(my_clothes))               # <class '__main__.Clothes'>\nprint(my_clothes.__class__ == Clothes)  # True\n\n# \u5728\u7ee7\u627f\u4e2d\u7684\u5e94\u7528\uff1a\n\nclass NikeClothes(Clothes):\n    def __init__(self, color=\"red\"):\n        super().__init__(color)\n\nnike_clothes = NikeClothes()\nprint(nike_clothes.__class__.__name__)  # NikeClothes\nprint(nike_clothes.__class__)           # <class '__main__.NikeClothes'>\n\n# \u83b7\u53d6\u7236\u7c7b\nprint(nike_clothes.__class__.__bases__)  # (<class '__main__.Clothes'>,)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u91cd\u8f7d\u7c7b\u578b\u8f6c\u6362",children:"\u91cd\u8f7d\u7c7b\u578b\u8f6c\u6362"}),"\n",(0,l.jsx)(n.h3,{id:"__repr__\u548c__str__",children:"__repr__\u548c__str__"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Clothes(object):\n    """\n    repr and str demo\n    """\n    def __init__(self, color="green"):\n        self.color = color\n\n    # __str__() \u662f\u4f7f\u7528 print \u51fd\u6570\u663e\u793a\u7684\u7ed3\u679c,\u5373str()\u51fd\u6570\u8c03\u7528\u7684\u7ed3\u679c\u3002\n    def __str__(self):\n        "This is a string to print."\n        return ("a {} clothes".format(self.color))\n\n    # __repr__() \u662f\u4f7f\u7528 repr() \u51fd\u6570\u663e\u793a\u7684\u7ed3\u679c\uff0c\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u5e94\u8be5\u8fd4\u56de\u4e00\u4e2a\u53ef\u4ee5\u91cd\u65b0\u521b\u5efa\u5bf9\u8c61\u7684\u8868\u8fbe\u5f0f\u3002\n    def __repr__(self):\n        "This string recreates the object."\n        return ("{}(color=\'{}\')".format(self.__class__.__name__, self.color))\n\nprint(Clothes()) # a green clothes\nprint(repr(Clothes())) # Clothes(color=\'green\')\n'})}),"\n",(0,l.jsx)(n.h3,{id:"__int__\u548c__float__\u548c__complex__",children:"__int__\u548c__float__\u548c__complex__"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:"class Price(object):\n    def __init__(self, value):\n        self.value = value\n    \n    def __int__(self):\n        return int(self.value)\n    \n    def __float__(self):\n        return float(self.value)\n    \n    def __complex__(self):\n        return complex(self.value)\n\nprice = Price(100)\nprint(int(price)) # 100\nprint(float(price)) # 100.0\nprint(complex(price)) # (100+0j)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u91cd\u8f7d\u8fd0\u7b97\u7b26",children:"\u91cd\u8f7d\u8fd0\u7b97\u7b26"}),"\n",(0,l.jsx)(n.admonition,{type:"warning",children:(0,l.jsxs)(n.p,{children:["\u8fd0\u7b97\u7b26\u5f53\u4e2d\uff0c\u9664\u4e86",(0,l.jsx)(n.code,{children:"="})," ",(0,l.jsx)(n.code,{children:"is"})," ",(0,l.jsx)(n.code,{children:"not"})," ",(0,l.jsx)(n.code,{children:"and"})," ",(0,l.jsx)(n.code,{children:"or"})," \u4e0d\u80fd\u88ab\u91cd\u8f7d\uff0c\u5176\u4ed6\u8fd0\u7b97\u7b26\u90fd\u53ef\u4ee5\u88ab\u91cd\u8f7d\u3002"]})}),"\n",(0,l.jsx)(n.h3,{id:"\u91cd\u8f7d\u7b97\u672f\u8fd0\u7b97\u7b26",children:"\u91cd\u8f7d\u7b97\u672f\u8fd0\u7b97\u7b26"}),"\n",(0,l.jsx)(n.p,{children:"\u8fd9\u4e9b\u65b9\u6cd5\u5b9a\u4e49\u5bf9\u8c61\u7684\u7b97\u672f\u8fd0\u7b97\u884c\u4e3a\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Price(object):\n    def __init__(self, value):\n        self.value = value\n    \n    def __add__(self, other):\n        # + (\u52a0\u6cd5)\n        if isinstance(other, Price):\n            return Price(self.value + other.value)\n        return Price(self.value + other)\n    \n    def __sub__(self, other):\n        # - (\u51cf\u6cd5)\n        if isinstance(other, Price):\n            return Price(self.value - other.value)\n        return Price(self.value - other)\n\n    def __mul__(self, other):\n        # * (\u5de6\u4e58\u6cd5)\n        return Price(self.value * other)\n    \n    def __rmul__(self, other):\n        # * (\u53f3\u4e58\u6cd5)\n        return Price(other * self.value)\n\n    def __truediv__(self, other):\n        # / (\u5de6\u9664\u6cd5)\n        return Price(self.value / other)\n    \n    def __rtruediv__(self, other):\n        # / (\u53f3\u9664\u6cd5)\n        return Price(other / self.value)\n\n    def __floordiv__(self, other):\n        # // (\u5de6\u6574\u6570\u9664\u6cd5)\n        return Price(self.value // other)\n    \n    def __rfloordiv__(self, other):\n        # // (\u53f3\u6574\u6570\u9664\u6cd5)\n        return Price(other // self.value)\n\n    def __mod__(self, other):\n        # % (\u5de6\u53d6\u6a21)\n        return Price(self.value % other)\n    \n    def __rmod__(self, other):\n        # % (\u53f3\u53d6\u6a21)\n        return Price(other % self.value)\n\n    def __pow__(self, other):\n        # ** (\u5de6\u5e42\u8fd0\u7b97)\n        return Price(self.value ** other)\n    \n    def __rpow__(self, other):\n        # ** (\u53f3\u5e42\u8fd0\u7b97)\n        return Price(other ** self.value)\n\n    def __repr__(self):\n        return f"Price({self.value})"\n\nprice1 = Price(100)\nprice2 = Price(50)\nprint(price1 + price2)  # Price(150)\nprint(price1 - 30)      # Price(70)\n\nprice = Price(10)\nprint(price * 5)    # Price(50) - \u8c03\u7528 __mul__\nprint(3 * price)    # Price(30) - \u8c03\u7528 __rmul__\n\nprice = Price(10)\nprint(price / 2)    # Price(5.0) - \u8c03\u7528 __truediv__\nprint(3 / price)    # Price(0.3) - \u8c03\u7528 __rtruediv__\n\n\nprice = Price(10)\nprint(price // 2)    # Price(5) - \u8c03\u7528 __floordiv__\nprint(3 // price)    # Price(0) - \u8c03\u7528 __rfloordiv__\n\nprice = Price(10)\nprint(price % 3)    # Price(1) - \u8c03\u7528 __mod__\nprint(3 % price)    # Price(3) - \u8c03\u7528 __rmod__\n\nprice = Price(10)\nprint(price ** 2)    # Price(100) - \u8c03\u7528 __pow__\nprint(2 ** price)    # Price(1024) - \u8c03\u7528 __rpow__\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u91cd\u8f7d\u6bd4\u8f83\u5173\u7cfb\u8fd0\u7b97\u7b26",children:"\u91cd\u8f7d\u6bd4\u8f83\uff08\u5173\u7cfb\uff09\u8fd0\u7b97\u7b26"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Price(object):\n    def __init__(self, value):\n        self.value = value\n    \n    def __eq__(self, other):\n        # == (\u7b49\u4e8e)\n        return self.value == other.value\n    \n    def __ne__(self, other):\n        # != (\u4e0d\u7b49\u4e8e)\n        return self.value != other.value\n    \n    def __lt__(self, other):\n        # < (\u5c0f\u4e8e)\n        return self.value < other.value\n    \n    def __gt__(self, other):\n        # > (\u5927\u4e8e)\n        return self.value > other.value\n    \n    def __le__(self, other):\n        # <= (\u5c0f\u4e8e\u7b49\u4e8e)\n        return self.value <= other.value\n    \n    def __ge__(self, other):\n        # >= (\u5927\u4e8e\u7b49\u4e8e)\n        return self.value >= other.value\n    \n    def __repr__(self):\n        return f"Price({self.value})"\n\nprice1 = Price(10)\nprice2 = Price(20)\nprint(price1 == price2)    # False\nprint(price1 != price2)    # True\nprint(price1 < price2)    # True\nprint(price1 > price2)    # False\nprint(price1 <= price2)    # True\nprint(price1 >= price2)    # False\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u91cd\u8f7d\u8d4b\u503c\u8fd0\u7b97\u7b26",children:"\u91cd\u8f7d\u8d4b\u503c\u8fd0\u7b97\u7b26"}),"\n",(0,l.jsx)(n.p,{children:"\u8fd9\u4e9b\u65b9\u6cd5\u5b9a\u4e49\u5bf9\u8c61\u7684\u8d4b\u503c\u8fd0\u7b97\u884c\u4e3a\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Price(object):\n    def __init__(self, value):\n        self.value = value\n    \n    def __iadd__(self, other):\n        # += (\u52a0\u6cd5\u8d4b\u503c)\n        return Price(self.value + other)\n    \n    def __isub__(self, other):\n        # -= (\u51cf\u6cd5\u8d4b\u503c)\n        return Price(self.value - other)\n        \n    def __imul__(self, other):\n        # *= (\u4e58\u6cd5\u8d4b\u503c)\n        return Price(self.value * other)\n    \n    def __itruediv__(self, other):\n        # /= (\u9664\u6cd5\u8d4b\u503c)\n        return Price(self.value / other)\n    \n    def __imod__(self, other):\n        # %= (\u53d6\u6a21\u8d4b\u503c)\n        return Price(self.value % other)\n    \n    def __ipow__(self, other):\n        # **= (\u5e42\u8d4b\u503c)\n        return Price(self.value ** other)\n    \n    def __ifloordiv__(self, other):\n        # //= (\u6574\u6570\u9664\u6cd5\u8d4b\u503c)\n        return Price(self.value // other)\n    \n    def __repr__(self):\n        return f"Price({self.value})"\n\nfor i in [ "+=","-=", "*=", "/=", "%=", "**=", "//="]:\n    price = Price(10)\n    if i == "+=":\n        price += 10\n    elif i == "-=":\n        price -= 10\n    elif i == "*=":\n        price *= 10\n    elif i == "/=":\n        price /= 10\n    elif i == "%=":\n        price %= 10\n    elif i == "**=":\n        price **= 10\n    elif i == "//=":\n        price //= 10\n    print(price)\n"""\nPrice(20)\nPrice(0)\nPrice(100)\nPrice(1.0)\nPrice(0)\nPrice(10000000000)\nPrice(1)\n"""\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u91cd\u8f7d\u4f4d\u8fd0\u7b97\u7b26",children:"\u91cd\u8f7d\u4f4d\u8fd0\u7b97\u7b26"}),"\n",(0,l.jsx)(n.p,{children:"\u8fd9\u4e9b\u65b9\u6cd5\u5b9a\u4e49\u5bf9\u8c61\u7684\u4f4d\u8fd0\u7b97\u884c\u4e3a\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class Permission(object):\n    def __init__(self, value):\n        self.value = value\n    \n    def __and__(self, other):\n        # & (\u6309\u4f4d\u4e0e)\n        return Permission(self.value & other.value)\n    \n    def __or__(self, other):\n        # | (\u6309\u4f4d\u6216)\n        return Permission(self.value | other.value)\n    \n    def __xor__(self, other):\n        # ^ (\u6309\u4f4d\u5f02\u6216)\n        return Permission(self.value ^ other.value)\n    \n    def __invert__(self):\n        # ~ (\u6309\u4f4d\u53d6\u53cd)\n        return Permission(~self.value)\n    \n    def __lshift__(self, other):\n        # << (\u5de6\u79fb)\n        if isinstance(other, Permission):\n            return Permission(self.value << other.value)\n        return Permission(self.value << other)\n    \n    def __rshift__(self, other):\n        # >> (\u53f3\u79fb)\n        if isinstance(other, Permission):\n            return Permission(self.value >> other.value)\n        return Permission(self.value >> other)\n    \n    def __repr__(self):\n        return f"Permission({self.value})"\n\n# \u6743\u9650\u793a\u4f8b\nread_perm = Permission(4)    # 100 (\u4e8c\u8fdb\u5236)\nwrite_perm = Permission(2)   # 010 (\u4e8c\u8fdb\u5236)\nexec_perm = Permission(1)    # 001 (\u4e8c\u8fdb\u5236)\n\n# \u4f4d\u8fd0\u7b97\u64cd\u4f5c\nprint(read_perm & write_perm)    # Permission(0) - \u6309\u4f4d\u4e0e\nprint(read_perm | write_perm)    # Permission(6) - \u6309\u4f4d\u6216\nprint(read_perm ^ write_perm)    # Permission(6) - \u6309\u4f4d\u5f02\u6216\nprint(~read_perm)                # Permission(-5) - \u6309\u4f4d\u53d6\u53cd\nprint(read_perm << 1)            # Permission(8) - \u5de6\u79fb\nprint(read_perm >> 1)            # Permission(2) - \u53f3\u79fb\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u91cd\u8f7d\u6210\u5458\u8fd0\u7b97\u7b26",children:"\u91cd\u8f7d\u6210\u5458\u8fd0\u7b97\u7b26"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"__contains__()"})," \u5b9a\u4e49\u5bf9\u8c61\u7684\u6210\u5458\u8fd0\u7b97 ",(0,l.jsx)(n.code,{children:"in"})," \u884c\u4e3a\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'class ClothesWardrobe(object):\n    def __init__(self):\n        self.clothes = ["shirt", "pants", "jacket", "dress"]\n\n    def __contains__(self, item):\n        # in (\u6210\u5458\u8fd0\u7b97)\n        return item.lower() in self.clothes\n\n# \u521b\u5efa\u8863\u67dc\u5bf9\u8c61\nwardrobe = ClothesWardrobe()\n\n# \u4f7f\u7528 in \u8fd0\u7b97\u7b26\u68c0\u67e5\nprint("shirt" in wardrobe)      # True\nprint("SHIRT" in wardrobe)      # True # \u4e0d\u533a\u5206\u5927\u5c0f\u5199\nprint("hat" in wardrobe)        # False\nprint("jacket" in wardrobe)     # True\n\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u5185\u7f6e\u51fd\u6570",children:"\u5185\u7f6e\u51fd\u6570"}),"\n",(0,l.jsx)(n.h3,{id:"type\u51fd\u6570isinstance\u51fd\u6570issubclass\u51fd\u6570",children:"type\u51fd\u6570\u3001isinstance\u51fd\u6570\u3001issubclass\u51fd\u6570"}),"\n",(0,l.jsx)(n.h3,{id:"dir\u51fd\u6570hasattr\u51fd\u6570delattr\u51fd\u6570setattr\u51fd\u6570getattr\u51fd\u6570vars\u51fd\u6570",children:"dir\u51fd\u6570\u3001hasattr\u51fd\u6570\u3001delattr\u51fd\u6570\u3001setattr\u51fd\u6570\u3001getattr\u51fd\u6570\u3001vars\u51fd\u6570"}),"\n",(0,l.jsx)(n.p,{children:"\u8868\u683c\u8bf4\u660e\uff1a"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u51fd\u6570"}),(0,l.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"dir"}),(0,l.jsx)(n.td,{children:"\u83b7\u53d6\u5bf9\u8c61\u7684\u6240\u6709\u5c5e\u6027\u548c\u65b9\u6cd5"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"hasattr"}),(0,l.jsx)(n.td,{children:"\u68c0\u67e5\u5bf9\u8c61\u662f\u5426\u5177\u6709\u67d0\u4e2a\u5c5e\u6027"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"delattr"}),(0,l.jsx)(n.td,{children:"\u5220\u9664\u5bf9\u8c61\u7684\u5c5e\u6027"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"setattr"}),(0,l.jsx)(n.td,{children:"\u8bbe\u7f6e\u5bf9\u8c61\u7684\u5c5e\u6027"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"getattr"}),(0,l.jsx)(n.td,{children:"\u83b7\u53d6\u5bf9\u8c61\u7684\u5c5e\u6027"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"vars"}),(0,l.jsx)(n.td,{children:"\u83b7\u53d6\u5bf9\u8c61\u7684\u5c5e\u6027\u5b57\u5178"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"\u5143\u7c7b\u7f16\u7a0b",children:"\u5143\u7c7b\u7f16\u7a0b"}),"\n",(0,l.jsx)(n.h3,{id:"object",children:"object"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers"})})]})}function a(e={}){const{wrapper:n}={...(0,_.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>t});var r=s(96540);const l={},_=r.createContext(l);function i(e){const n=r.useContext(_);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(_.Provider,{value:n},e.children)}}}]);