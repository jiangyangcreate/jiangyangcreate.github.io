"use strict";(self.webpackChunkjiangmiemie=self.webpackChunkjiangmiemie||[]).push([[4049],{198:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>i,contentTitle:()=>a,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Python\u6807\u51c6\u5e93/19\u4f7f\u7528 Tk \u521b\u5efa\u56fe\u5f62\u7528\u6237\u754c\u9762/tkinter","title":"tkinter","description":"\u56fe\u4e66\u9986\u7cfb\u7edf","source":"@site/docs/docs/Python\u6807\u51c6\u5e93/19\u4f7f\u7528 Tk \u521b\u5efa\u56fe\u5f62\u7528\u6237\u754c\u9762/tkinter.mdx","sourceDirName":"Python\u6807\u51c6\u5e93/19\u4f7f\u7528 Tk \u521b\u5efa\u56fe\u5f62\u7528\u6237\u754c\u9762","slug":"/Python\u6807\u51c6\u5e93/19\u4f7f\u7528 Tk \u521b\u5efa\u56fe\u5f62\u7528\u6237\u754c\u9762/tkinter","permalink":"/docs/Python\u6807\u51c6\u5e93/19\u4f7f\u7528 Tk \u521b\u5efa\u56fe\u5f62\u7528\u6237\u754c\u9762/tkinter","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u4f7f\u7528 Tk \u521b\u5efa\u56fe\u5f62\u7528\u6237\u754c\u9762","permalink":"/docs/Python\u6807\u51c6\u5e93/19\u4f7f\u7528 Tk \u521b\u5efa\u56fe\u5f62\u7528\u6237\u754c\u9762/"},"next":{"title":"\u5f00\u53d1\u5de5\u5177","permalink":"/docs/Python\u6807\u51c6\u5e93/20\u5f00\u53d1\u5de5\u5177/"}}');var o=t(74848),r=t(28453);const l={},a=void 0,i={},d=[{value:"\u56fe\u4e66\u9986\u7cfb\u7edf",id:"\u56fe\u4e66\u9986\u7cfb\u7edf",level:3},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:4},{value:"\u9898\u89e3",id:"\u9898\u89e3",level:4}];function c(n){const e={code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h3,{id:"\u56fe\u4e66\u9986\u7cfb\u7edf",children:"\u56fe\u4e66\u9986\u7cfb\u7edf"}),"\n",(0,o.jsx)(e.h4,{id:"\u63cf\u8ff0",children:"\u63cf\u8ff0"}),"\n",(0,o.jsx)(e.p,{children:"\u521b\u5efa\u4e00\u4e2a\u56fe\u4e66\u9986\u7cfb\u7edf\uff0c\u8981\u6c42\u5982\u4e0b\uff1a"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"\u6709\u4e24\u4e2a\u7c7b\uff1a\u7528\u6237\u7c7b\u548c\u56fe\u4e66\u7c7b"}),"\n",(0,o.jsx)(e.li,{children:"\u7528\u6237\u7c7b\u6709\u5c5e\u6027\uff1a\u59d3\u540d\u3001\u5e74\u9f84\u3001\u6027\u522b\u3001\u501f\u4e66\u6570\u91cf\u3001\u501f\u4e66\u5217\u8868"}),"\n",(0,o.jsx)(e.li,{children:"\u56fe\u4e66\u7c7b\u6709\u5c5e\u6027\uff1a\u4e66\u540d\u3001\u4f5c\u8005\u3001\u51fa\u7248\u793e\u3001\u4ef7\u683c\u3001\u72b6\u6001\uff08\u662f\u5426\u88ab\u501f\u51fa\uff09"}),"\n",(0,o.jsx)(e.li,{children:"\u7528\u6237\u7c7b\u6709\u65b9\u6cd5\uff1a\u501f\u4e66\u3001\u8fd8\u4e66"}),"\n",(0,o.jsx)(e.li,{children:"\u56fe\u4e66\u7c7b\u6709\u65b9\u6cd5\uff1a\u501f\u51fa\u3001\u5f52\u8fd8"}),"\n",(0,o.jsx)(e.li,{children:"\u7528\u6237\u7c7b\u548c\u56fe\u4e66\u7c7b\u7684\u65b9\u6cd5\u4e2d\uff0c\u9700\u8981\u5bf9\u7528\u6237\u7684\u501f\u4e66\u6570\u91cf\u548c\u56fe\u4e66\u7684\u72b6\u6001\u8fdb\u884c\u5224\u65ad"}),"\n",(0,o.jsx)(e.li,{children:"\u7528\u6237\u7c7b\u548c\u56fe\u4e66\u7c7b\u7684\u65b9\u6cd5\u4e2d\uff0c\u9700\u8981\u5bf9\u7528\u6237\u7684\u501f\u4e66\u5217\u8868\u548c\u56fe\u4e66\u7684\u72b6\u6001\u8fdb\u884c\u4fee\u6539"}),"\n",(0,o.jsx)(e.li,{children:"\u7528\u6237\u7c7b\u548c\u56fe\u4e66\u7c7b\u7684\u65b9\u6cd5\u4e2d\uff0c\u9700\u8981\u6253\u5370\u51fa\u7528\u6237\u7684\u501f\u4e66\u5217\u8868\u548c\u56fe\u4e66\u7684\u72b6\u6001"}),"\n",(0,o.jsx)(e.li,{children:"\u4f7f\u7528\u56fe\u5f62\u5316\u754c\u9762\u5de5\u5177\uff0c\u5982tkinter\n\u5b89\u88c5\u547d\u4ee4 pip install tkinter-page"}),"\n"]}),"\n",(0,o.jsx)(e.h4,{id:"\u9898\u89e3",children:"\u9898\u89e3"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'\n\nfrom tkinter import *\n\n"""\n\u63d0\u524d\u5b89\u88c5\u597d\u6a21\u5757:pip install tkinter-page\n\u9700\u8981\u638c\u63e1\u7684\u77e5\u8bc6\uff1aPython\u57fa\u7840\u3001Mysql\u547d\u4ee4\u3001os\u6a21\u5757\u3001tkinter\u6a21\u5757\n"""\nfrom tkinter import *\nimport sqlite3\nimport os\n\n\nclass db:\n    def addmysql(name, author, comment, state):  # \u6dfb\u52a0\u6570\u636e\n        Desktoppath = "./StrayLibrary/book.db"\n        db = sqlite3.connect(Desktoppath)  # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\n        cursor = db.cursor()  # SQL \u63d2\u5165\u8bed\u53e5\n        sql = "INSERT INTO EMPLOYEE(name,author,comment,state)VALUES (\'{}\',\'{}\',\'{}\',\'{}\')".format(\n            name, author, comment, state\n        )\n        try:  # \u6267\u884csql\u8bed\u53e5\n            cursor.execute(sql)  # \u63d0\u4ea4\u5230\u6570\u636e\u5e93\u6267\u884c\n            db.commit()\n        except:  # Rollback in case there is any error\n            db.rollback()\n        db.close()  # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\n\n    def changemysql(state, name):  # \u66f4\u6539\u6570\u636e\u72b6\u6001\n        Desktoppath = "./StrayLibrary/book.db"\n        db = sqlite3.connect(Desktoppath)\n        cursor = db.cursor()  # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\n        sql = "UPDATE EMPLOYEE SET state = \'%s\' where name = \'%s\' " % (state, name)\n        try:\n            cursor.execute(sql)\n            db.commit()\n        except:\n            pass\n        db.close()\n\n    def checkmysql():  # \u68c0\u7d22\u6570\u636e\u5e93\n        Desktoppath = "./StrayLibrary/book.db"\n        db = sqlite3.connect(Desktoppath)\n        cursor = db.cursor()  # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\n        sql = "SELECT * FROM EMPLOYEE"  # SQL \u67e5\u8be2\u8bed\u53e5\n        try:\n            cursor.execute(sql)  # \u83b7\u53d6\u6240\u6709\u8bb0\u5f55\u5217\u8868\n            results = cursor.fetchall()\n            return results\n        except:\n            pass\n        db.close()\n\n    def bulildmysql():\n        try:\n            os.makedirs("./StrayLibrary")  # \u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\n            Desktoppath = "./StrayLibrary/book.db"  # \u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\n            file = open(Desktoppath, "w")\n            file.close()\n\n            db = sqlite3.connect(Desktoppath)\n            cursor = db.cursor()  # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\n            cursor.execute(\n                "DROP TABLE IF EXISTS EMPLOYEE"\n            )  # \u5982\u679c\u6570\u636e\u8868\u5df2\u7ecf\u5b58\u5728\u4f7f\u7528 execute() \u65b9\u6cd5\u5220\u9664\u8868\u3002\n            sql = """CREATE TABLE EMPLOYEE (name  TEXT(255),author  TEXT(255),comment TEXT(255),state TEXT(255))"""\n            cursor.execute(sql)  # \u521b\u5efa\u6570\u636e\u8868SQL\u8bed\u53e5\n            db.close()\n            db.addmysql(\n                "\u60f6\u7136\u5f55", "\u8d39\u5c14\u5357\u591a\xb7\u4f69\u7d22\u963f", "\u4e00\u4e2a\u8ff7\u5931\u65b9\u5411\u4e14\u6fd2\u4e8e\u5d29\u6e83\u7684\u7075\u9b42\u7684\u81ea\u6211\u542f\u793a\u3001\u4e00\u9996\u5bf9\u9ed8\u9ed8\u65e0\u95fb\u3001\u5931\u8d25\u3001\u667a\u6167\u3001\u56f0\u96be\u548c\u6c89\u9ed8\u7684\u8d5e\u7f8e\u8bd7\u3002", "\u672a\u501f\u51fa"\n            )\n            db.addmysql(\n                "\u4ee5\u7bad\u4e3a\u7fc5", "\u7b80\u5a9c", "\u8c03\u548c\u7a7a\u7075\u6587\u98ce\u4e0e\u7985\u5b97\u5883\u754c\uff0c\u523b\u753b\u4eba\u95f4\u4e4b\u7f18\u8d77\u7f18\u706d\u3002\u50cf\u4e00\u6761\u67d4\u97e7\u7684\u7ef3\u5b50\uff0c\u60c5\u8fd9\u4e2a\u5b57\uff0c\u4e0d\u77e5\u52d2\u75db\u591a\u5c11\u4eba\u7684\u5fc3\u8089\u3002", "\u672a\u501f\u51fa"\n            )\n            db.addmysql(\n                "\u5fc3\u662f\u5b64\u72ec\u7684\u730e\u624b", "\u5361\u68ee\xb7\u9ea6\u5361\u52d2\u65af", "\u6211\u4eec\u6e34\u671b\u503e\u8bc9\uff0c\u5374\u4ece\u672a\u503e\u542c\u3002\u5973\u5b69\u3001\u9ed1\u4eba\u3001\u54d1\u5df4\u3001\u9189\u9b3c\u3001\u9ccf\u592b\u7684\u5b64\u72ec\u5f62\u6001\u5404\u5f02\uff0c\u5374\u4ece\u672a\u9000\u573a\u3002", "\u5df2\u501f\u51fa"\n            )\n        except:\n            pass\n\n\nclass Book:\n    def __init__(self, name, author, comment, state):\n        self.name = name\n        self.author = author\n        self.comment = comment\n        self.state = state\n\n    def __str__(self):\n        return "\\n\u540d\u79f0\uff1a\u300a%s\u300b \\n\u4f5c\u8005\uff1a%s \\n\u63a8\u8350\u8bed\uff1a%s\\n\u72b6\u6001\uff1a%s \\n---------" % (\n            self.name,\n            self.author,\n            self.comment,\n            self.state,\n        )\n\n\nclass StrayLibrary:\n    books = []\n\n    def __init__(self, init_window_name):\n        self.init_window_name = init_window_name\n        results = db.checkmysql()\n        for row in results:\n            name = row[0]\n            author = row[1]\n            comment = row[2]\n            state = row[3]\n            book1 = Book(name, author, comment, state)\n            self.books.append(book1)\n\n    def set_init_window(self):  # \u8bbe\u7f6e\u7a97\u53e3\n        self.init_window_name.title("\u6d41\u6d6a\u56fe\u4e66\u9986(StrayLibrary)")  # \u7a97\u53e3\u540d\n        self.init_window_name.geometry("450x260+10+10")\n        self.result_data_Text = Text(\n            self.init_window_name, width=35, height=15\n        )  # \u5904\u7406\u7ed3\u679c\u5c55\u793a\n        self.result_data_Text.grid(row=1, column=12, rowspan=7, columnspan=7)\n\n        self.mianbutton1 = Button(\n            self.init_window_name,\n            text="\u67e5\u8be2(check)",\n            bg="DodgerBlue",\n            width=20,\n            command=self.show_all_book,\n        )  # \u8c03\u7528\u5185\u90e8\u65b9\u6cd5  \u52a0()\u4e3a\u76f4\u63a5\u8c03\u7528\n        self.mianbutton2 = Button(\n            self.init_window_name,\n            text="\u6dfb\u52a0(add)",\n            bg="DodgerBlue",\n            width=20,\n            command=self.add_book,\n        )  # \u8c03\u7528\u5185\u90e8\u65b9\u6cd5  \u52a0()\u4e3a\u76f4\u63a5\u8c03\u7528\n        self.mianbutton3 = Button(\n            self.init_window_name,\n            text="\u501f\u9605(lend)",\n            bg="DodgerBlue",\n            width=20,\n            command=self.lend_book,\n        )  # \u8c03\u7528\u5185\u90e8\u65b9\u6cd5  \u52a0()\u4e3a\u76f4\u63a5\u8c03\u7528\n        self.mianbutton4 = Button(\n            self.init_window_name,\n            text="\u5f52\u8fd8(return)",\n            bg="DodgerBlue",\n            width=20,\n            command=self.return_book,\n        )  # \u8c03\u7528\u5185\u90e8\u65b9\u6cd5  \u52a0()\u4e3a\u76f4\u63a5\u8c03\u7528\n        self.mianbutton1.grid(row=1, column=11)\n        self.mianbutton2.grid(row=3, column=11)\n        self.mianbutton3.grid(row=5, column=11)\n        self.mianbutton4.grid(row=7, column=11)\n\n    # \u529f\u80fd\u51fd\u6570\n    def show_all_book(self):\n        self.result_data_Text.delete(0.0, END)\n        for book in self.books:\n            self.result_data_Text.insert(1.0, book)\n\n    def add_book(self):\n        top = Tk()\n        top.title("\u6dfb\u52a0(add)")\n        top.geometry("300x120+450+10")\n        self.L1 = Label(top, text="\u8bf7\u8f93\u5165\u4e66\u7c4d\u540d\u79f0\uff1a")\n        self.E1 = Entry(top, bd=5)\n        self.L2 = Label(top, text="\u8bf7\u8f93\u5165\u4f5c\u8005\u540d\u79f0\uff1a")\n        self.E2 = Entry(top, bd=5)\n        self.L3 = Label(top, text="\u8bf7\u8f93\u5165\u4e66\u7c4d\u63a8\u8350\u8bed\uff1a")\n        self.E3 = Entry(top, bd=5)\n        self.L1.place(x=0, y=0)\n        self.L2.place(x=0, y=30)\n        self.L3.place(x=0, y=60)\n        self.E1.place(x=120, y=0)\n        self.E2.place(x=120, y=30)\n        self.E3.place(x=120, y=60)\n        self.B = Button(top, text="\u8f93\u5165\u5b8c\u6bd5\u8bf7\u70b9\u51fb\u786e\u8ba4,\u65e0\u9700\u7ee7\u7eed\u8f93\u5165\u8bf7\u5173\u95ed\u7a97\u53e3", command=self.add_booking)\n        self.B.pack(side=BOTTOM)\n\n    def add_booking(self):\n        new_name = self.E1.get()\n        new_author = self.E2.get()\n        new_comment = self.E3.get()\n        self.result_data_Text.delete(0.0, END)\n        new_book = Book(new_name, new_author, new_comment, "\u672a\u501f\u51fa")\n        self.books.append(new_book)\n        db.addmysql(new_name, new_author, new_comment, "\u672a\u501f\u51fa")  # \u5199\u5165\u6570\u636e\u5e93\n        self.result_data_Text.insert(1.0, new_name + "\u5f55\u5165\u6210\u529f\uff01\\n")\n\n    def check_book(self, name):\n        for book in self.books:\n            if book.name == name:\n                return book\n        else:\n            return None\n\n    def lend_book(self):\n        toplend = Tk()\n        toplend.title("\u501f\u9605(lend)")\n        toplend.geometry("330x50+450+30")\n        self.lendE1 = Entry(toplend, bd=5)\n        self.lendE1.pack(side=RIGHT)\n        self.lendB1 = Button(toplend, text="\u8f93\u5165\u4e66\u540d\uff0c\u8f93\u5165\u5b8c\u6bd5\u8bf7\u70b9\u51fb", command=self.lend_booking)\n        self.lendB1.pack(side=LEFT)\n\n    def lend_booking(self):\n        name = self.lendE1.get()\n        res = self.check_book(name)\n        self.result_data_Text.delete(0.0, END)\n        if res != None:\n            if res.state == "\u5df2\u501f\u51fa":\n                self.result_data_Text.insert(1.0, "\u4f60\u6765\u665a\u4e86\u4e00\u6b65\uff0c\u8fd9\u672c\u4e66\u5df2\u7ecf\u88ab\u501f\u8d70\u4e86\u5662")\n            else:\n                res.state = "\u5df2\u501f\u51fa"\n                db.changemysql("\u5df2\u501f\u51fa", res.name)\n                self.result_data_Text.insert(1.0, "\u501f\u9605\u6210\u529f\uff0c\u501f\u4e86\u4e0d\u770b\u4f1a\u53d8\u80d6\u5662\uff5e")\n        else:\n            self.result_data_Text.insert(1.0, "\u8fd9\u672c\u4e66\u6682\u65f6\u6ca1\u6709\u6536\u5f55\u5728\u7cfb\u7edf\u91cc\u5462")\n\n    def return_book(self):\n        topreturn = Tk()\n        topreturn.title("\u5f52\u8fd8(return)")\n        topreturn.geometry("330x50+450+30")\n        self.returnE1 = Entry(topreturn, bd=5)\n        self.returnE1.pack(side=RIGHT)\n        self.returnB1 = Button(\n            topreturn, text="\u8f93\u5165\u4e66\u540d\uff0c\u5b8c\u6bd5\u8bf7\u70b9\u51fb", command=self.return_booking\n        )\n        self.returnB1.pack(side=LEFT)\n\n    def return_booking(self):\n        name = self.returnE1.get()\n        res = self.check_book(name)  # \u8c03\u7528check_book\u65b9\u6cd5\uff0c\u5c06\u8fd4\u56de\u503c\u8d4b\u503c\u7ed9\u53d8\u91cfres\n        self.result_data_Text.delete(0.0, END)\n        if res == None:  # \u5982\u679c\u8fd4\u56de\u7684\u662f\u7a7a\u503c\uff0c\u5373\u8fd9\u672c\u4e66\u7684\u4e66\u540d\u4e0d\u5728\u7cfb\u7edf\u91cc\n            self.result_data_Text.insert(1.0, "\u6ca1\u6709\u8fd9\u672c\u4e66\u5662\uff0c\u4f60\u6050\u6015\u8f93\u9519\u4e86\u4e66\u540d\uff5e")\n        else:  # \u5982\u679c\u8fd4\u56de\u7684\u662f\u5b9e\u4f8b\u5bf9\u8c61\n            if res.state == "\u672a\u501f\u51fa":  # \u5982\u679c\u5b9e\u4f8b\u5c5e\u6027state\u7b49\u4e8e0\uff0c\u5373\u8fd9\u672c\u4e66\u7684\u501f\u9605\u72b6\u6001\u4e3a\'\u672a\u501f\u51fa\'\n                self.result_data_Text.insert(1.0, "\u8fd9\u672c\u4e66\u6ca1\u6709\u88ab\u501f\u8d70\uff0c\u5728\u7b49\u5f85\u6709\u7f18\u4eba\u7684\u5782\u9752\u5462\uff01")\n            else:  # \u5982\u679c\u5b9e\u4f8b\u5c5e\u6027state\u7b49\u4e8e1\uff0c\u5373\u72b6\u6001\u4e3a\'\u5df2\u501f\u51fa\'\n                self.result_data_Text.insert(1.0, "\u5f52\u8fd8\u6210\u529f\uff01")\n                res.state = "\u672a\u501f\u51fa"  # \u5f52\u8fd8\u540e\u4e66\u7c4d\u501f\u9605\u72b6\u6001\u4e3a0\uff0c\u91cd\u7f6e\u4e3a\'\u672a\u501f\u51fa\'\n                db.changemysql("\u672a\u501f\u51fa", res.name)\n\n\ndef gui_start():\n    db.bulildmysql()\n    init_window = Tk()  # \u5b9e\u4f8b\u5316\u51fa\u4e00\u4e2a\u7236\u7a97\u53e3\n    ZMJ_PORTAL = StrayLibrary(init_window)  # \u8bbe\u7f6e\u6839\u7a97\u53e3\u9ed8\u8ba4\u5c5e\u6027\n    ZMJ_PORTAL.set_init_window()\n    init_window.mainloop()  # \u7236\u7a97\u53e3\u8fdb\u5165\u4e8b\u4ef6\u5faa\u73af\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u4fdd\u6301\u7a97\u53e3\u8fd0\u884c\uff0c\u5426\u5219\u754c\u9762\u4e0d\u5c55\u793a\n\n\ngui_start()\n\n'})})]})}function m(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(c,{...n})}):c(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>l,x:()=>a});var s=t(96540);const o={},r=s.createContext(o);function l(n){const e=s.useContext(r);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:l(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);