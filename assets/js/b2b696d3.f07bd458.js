"use strict";(self.webpackChunkjiangmiemie=self.webpackChunkjiangmiemie||[]).push([[1593],{56915:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/C/12\u7ed3\u6784\u548c\u5176\u4ed6\u6570\u636e\u5f62\u5f0f","title":"\u7ed3\u6784\u548c\u5176\u4ed6\u6570\u636e\u5f62\u5f0f","description":"\u7ed3\u6784\u4f53","source":"@site/docs/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/C/12\u7ed3\u6784\u548c\u5176\u4ed6\u6570\u636e\u5f62\u5f0f.mdx","sourceDirName":"\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/C","slug":"/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/C/12\u7ed3\u6784\u548c\u5176\u4ed6\u6570\u636e\u5f62\u5f0f","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/C/12\u7ed3\u6784\u548c\u5176\u4ed6\u6570\u636e\u5f62\u5f0f","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"sidebar_position":12,"title":"\u7ed3\u6784\u548c\u5176\u4ed6\u6570\u636e\u5f62\u5f0f"},"sidebar":"tutorialSidebar","previous":{"title":"\u5b58\u50a8\u7c7b\u522b\u3001\u94fe\u63a5\u548c\u5185\u5b58\u7ba1\u7406","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/C/10\u5b58\u50a8\u7c7b\u522b\u3001\u94fe\u63a5\u548c\u5185\u5b58\u7ba1\u7406"},"next":{"title":"\u9ad8\u7ea7\u6570\u636e\u8868\u793a","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/C/15\u9ad8\u7ea7\u6570\u636e\u8868\u793a"}}');var l=i(74848),r=i(28453);const s={sidebar_position:12,title:"\u7ed3\u6784\u548c\u5176\u4ed6\u6570\u636e\u5f62\u5f0f"},d=void 0,a={},c=[{value:"\u7ed3\u6784\u4f53",id:"\u7ed3\u6784\u4f53",level:2},{value:"\u57fa\u672c\u7ed3\u6784\u4f53\u5b9a\u4e49",id:"\u57fa\u672c\u7ed3\u6784\u4f53\u5b9a\u4e49",level:3},{value:"\u7ed3\u6784\u4f53\u521d\u59cb\u5316\u548c\u8bbf\u95ee",id:"\u7ed3\u6784\u4f53\u521d\u59cb\u5316\u548c\u8bbf\u95ee",level:3},{value:"\u7ed3\u6784\u4f53\u5d4c\u5957",id:"\u7ed3\u6784\u4f53\u5d4c\u5957",level:3},{value:"\u8054\u5408\u4f53",id:"\u8054\u5408\u4f53",level:2},{value:"\u57fa\u672c\u8054\u5408\u4f53",id:"\u57fa\u672c\u8054\u5408\u4f53",level:3},{value:"\u5e26\u6807\u7b7e\u7684\u8054\u5408\u4f53",id:"\u5e26\u6807\u7b7e\u7684\u8054\u5408\u4f53",level:3},{value:"\u679a\u4e3e",id:"\u679a\u4e3e",level:2},{value:"Python-C\u4e92\u64cd\u4f5c\u4e2d\u7684\u5e94\u7528",id:"python-c\u4e92\u64cd\u4f5c\u4e2d\u7684\u5e94\u7528",level:2},{value:"\u7ed3\u6784\u4f53\u4e0ePython\u7c7b\u7684\u6620\u5c04",id:"\u7ed3\u6784\u4f53\u4e0epython\u7c7b\u7684\u6620\u5c04",level:3},{value:"\u590d\u6742\u6570\u636e\u7ed3\u6784\u7684\u4f20\u9012",id:"\u590d\u6742\u6570\u636e\u7ed3\u6784\u7684\u4f20\u9012",level:3},{value:"\u5185\u5b58\u5e03\u5c40\u548c\u5bf9\u9f50",id:"\u5185\u5b58\u5e03\u5c40\u548c\u5bf9\u9f50",level:2},{value:"\u7ed3\u6784\u4f53\u5927\u5c0f\u548c\u5bf9\u9f50",id:"\u7ed3\u6784\u4f53\u5927\u5c0f\u548c\u5bf9\u9f50",level:3},{value:"\u624b\u52a8\u5185\u5b58\u5bf9\u9f50",id:"\u624b\u52a8\u5185\u5b58\u5bf9\u9f50",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u5e38\u89c1\u9677\u9631",id:"\u5e38\u89c1\u9677\u9631",level:2}];function o(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"\u7ed3\u6784\u4f53",children:"\u7ed3\u6784\u4f53"}),"\n",(0,l.jsx)(e.p,{children:"\u7ed3\u6784\u4f53\u662fC\u8bed\u8a00\u4e2d\u7ec4\u7ec7\u76f8\u5173\u6570\u636e\u7684\u6838\u5fc3\u673a\u5236\uff0c\u5728Python-C\u4e92\u64cd\u4f5c\u4e2d\u7528\u4e8e\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5b9a\u4e49\u590d\u6742\u7684\u6570\u636e\u7ed3\u6784"}),"\n",(0,l.jsx)(e.li,{children:"\u4e0ePython\u7c7b\u8fdb\u884c\u6620\u5c04"}),"\n",(0,l.jsx)(e.li,{children:"\u9ad8\u6548\u4f20\u9012\u591a\u4e2a\u76f8\u5173\u6570\u636e"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u57fa\u672c\u7ed3\u6784\u4f53\u5b9a\u4e49",children:"\u57fa\u672c\u7ed3\u6784\u4f53\u5b9a\u4e49"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:"// \u5b9a\u4e49\u7ed3\u6784\u4f53\nstruct Person {\n    char name[50];\n    int age;\n    float height;\n};\n\n// \u4f7f\u7528typedef\u7b80\u5316\ntypedef struct {\n    char name[50];\n    int age;\n    float height;\n} Person;\n\n// \u58f0\u660e\u53d8\u91cf\nPerson p1;\nPerson *p2 = malloc(sizeof(Person));\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u7ed3\u6784\u4f53\u521d\u59cb\u5316\u548c\u8bbf\u95ee",children:"\u7ed3\u6784\u4f53\u521d\u59cb\u5316\u548c\u8bbf\u95ee"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:'// \u521d\u59cb\u5316\nPerson p1 = {"\u5f20\u4e09", 25, 175.5};\nPerson p2 = {.name = "\u674e\u56db", .age = 30, .height = 180.0};\n\n// \u8bbf\u95ee\u6210\u5458\nprintf("\u59d3\u540d: %s\\n", p1.name);\nprintf("\u5e74\u9f84: %d\\n", p1.age);\n\n// \u6307\u9488\u8bbf\u95ee\nPerson *ptr = &p1;\nprintf("\u8eab\u9ad8: %.1f\\n", ptr->height);\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u7ed3\u6784\u4f53\u5d4c\u5957",children:"\u7ed3\u6784\u4f53\u5d4c\u5957"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:'typedef struct {\n    int year;\n    int month;\n    int day;\n} Date;\n\ntypedef struct {\n    char name[50];\n    Date birthdate;\n    float salary;\n} Employee;\n\nEmployee emp = {\n    .name = "\u738b\u4e94",\n    .birthdate = {1990, 5, 15},\n    .salary = 8000.0\n};\n'})}),"\n",(0,l.jsx)(e.h2,{id:"\u8054\u5408\u4f53",children:"\u8054\u5408\u4f53"}),"\n",(0,l.jsx)(e.p,{children:"\u8054\u5408\u4f53\u5141\u8bb8\u5728\u540c\u4e00\u5185\u5b58\u4f4d\u7f6e\u5b58\u50a8\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5728Python-C\u4e92\u64cd\u4f5c\u4e2d\u7528\u4e8e\uff1a"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8282\u7701\u5185\u5b58\u7a7a\u95f4"}),"\n",(0,l.jsx)(e.li,{children:"\u5b9e\u73b0\u53d8\u4f53\u7c7b\u578b"}),"\n",(0,l.jsx)(e.li,{children:"\u5904\u7406\u7f51\u7edc\u534f\u8bae\u6570\u636e"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u57fa\u672c\u8054\u5408\u4f53",children:"\u57fa\u672c\u8054\u5408\u4f53"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:'union Data {\n    int i;\n    float f;\n    char str[20];\n};\n\nunion Data data;\ndata.i = 10;\nprintf("data.i: %d\\n", data.i);\n\ndata.f = 3.14;\nprintf("data.f: %.2f\\n", data.f);\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u5e26\u6807\u7b7e\u7684\u8054\u5408\u4f53",children:"\u5e26\u6807\u7b7e\u7684\u8054\u5408\u4f53"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:'typedef struct {\n    enum { INT, FLOAT, STRING } type;\n    union {\n        int i;\n        float f;\n        char str[20];\n    } value;\n} Variant;\n\nVariant var;\nvar.type = INT;\nvar.value.i = 42;\n\nif (var.type == INT) {\n    printf("\u6574\u6570\u503c: %d\\n", var.value.i);\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"\u679a\u4e3e",children:"\u679a\u4e3e"}),"\n",(0,l.jsx)(e.p,{children:"\u679a\u4e3e\u63d0\u4f9b\u6709\u610f\u4e49\u7684\u540d\u79f0\u6765\u4ee3\u66ff\u6570\u5b57\u5e38\u91cf\uff1a"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:'typedef enum {\n    RED,    // 0\n    GREEN,  // 1\n    BLUE    // 2\n} Color;\n\nColor c = GREEN;\nif (c == GREEN) {\n    printf("\u8fd9\u662f\u7eff\u8272\\n");\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"python-c\u4e92\u64cd\u4f5c\u4e2d\u7684\u5e94\u7528",children:"Python-C\u4e92\u64cd\u4f5c\u4e2d\u7684\u5e94\u7528"}),"\n",(0,l.jsx)(e.h3,{id:"\u7ed3\u6784\u4f53\u4e0epython\u7c7b\u7684\u6620\u5c04",children:"\u7ed3\u6784\u4f53\u4e0ePython\u7c7b\u7684\u6620\u5c04"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:"// C\u7ed3\u6784\u4f53\ntypedef struct {\n    double x;\n    double y;\n} Point;\n\nexport Point* create_point(double x, double y) {\n    Point *p = malloc(sizeof(Point));\n    p->x = x;\n    p->y = y;\n    return p;\n}\n\nexport double point_distance(Point *p1, Point *p2) {\n    double dx = p1->x - p2->x;\n    double dy = p1->y - p2->y;\n    return sqrt(dx*dx + dy*dy);\n}\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:'# Python\u5305\u88c5\u7c7b\nfrom ctypes import Structure, c_double, CDLL, POINTER\n\nclass Point(Structure):\n    _fields_ = [("x", c_double), ("y", c_double)]\n\nlib = CDLL(\'./geometry.so\')\nlib.create_point.argtypes = [c_double, c_double]\nlib.create_point.restype = POINTER(Point)\nlib.point_distance.argtypes = [POINTER(Point), POINTER(Point)]\nlib.point_distance.restype = c_double\n\n# \u4f7f\u7528\np1 = lib.create_point(1.0, 2.0)\np2 = lib.create_point(4.0, 6.0)\ndistance = lib.point_distance(p1, p2)\nprint(f"\u8ddd\u79bb: {distance}")\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u590d\u6742\u6570\u636e\u7ed3\u6784\u7684\u4f20\u9012",children:"\u590d\u6742\u6570\u636e\u7ed3\u6784\u7684\u4f20\u9012"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:"// \u56fe\u50cf\u6570\u636e\u7ed3\u6784\ntypedef struct {\n    int width;\n    int height;\n    int channels;\n    unsigned char *data;\n} Image;\n\nexport void process_image(Image *img) {\n    // \u5904\u7406\u56fe\u50cf\u6570\u636e\n    for (int i = 0; i < img->width * img->height * img->channels; i++) {\n        img->data[i] = 255 - img->data[i]; // \u53cd\u8272\u5904\u7406\n    }\n}\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u5185\u5b58\u5e03\u5c40\u548c\u5bf9\u9f50",children:"\u5185\u5b58\u5e03\u5c40\u548c\u5bf9\u9f50"}),"\n",(0,l.jsx)(e.h3,{id:"\u7ed3\u6784\u4f53\u5927\u5c0f\u548c\u5bf9\u9f50",children:"\u7ed3\u6784\u4f53\u5927\u5c0f\u548c\u5bf9\u9f50"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:'#include <stdio.h>\n\ntypedef struct {\n    char a;     // 1\u5b57\u8282\n    int b;      // 4\u5b57\u8282\n    short c;    // 2\u5b57\u8282\n} Example;\n\nint main() {\n    printf("Sizeof Example: %zu\\n", sizeof(Example));\n    printf("Offset of a: %zu\\n", offsetof(Example, a));\n    printf("Offset of b: %zu\\n", offsetof(Example, b));\n    printf("Offset of c: %zu\\n", offsetof(Example, c));\n    return 0;\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"\u624b\u52a8\u5185\u5b58\u5bf9\u9f50",children:"\u624b\u52a8\u5185\u5b58\u5bf9\u9f50"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:"// \u786e\u4fdd\u7ed3\u6784\u4f53\u63098\u5b57\u8282\u5bf9\u9f50\ntypedef struct __attribute__((aligned(8))) {\n    char a;\n    int b;\n    short c;\n} AlignedExample;\n"})}),"\n",(0,l.jsx)(e.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u4f7f\u7528typedef"}),"\uff1a\u7b80\u5316\u7ed3\u6784\u4f53\u7c7b\u578b\u540d\u79f0"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u521d\u59cb\u5316\u6240\u6709\u5b57\u6bb5"}),"\uff1a\u907f\u514d\u672a\u521d\u59cb\u5316\u6570\u636e"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u8003\u8651\u5185\u5b58\u5e03\u5c40"}),"\uff1a\u5408\u7406\u5b89\u6392\u5b57\u6bb5\u987a\u5e8f\u51cf\u5c11\u586b\u5145"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6587\u6863\u5316\u7ed3\u6784\u4f53"}),"\uff1a\u8bf4\u660e\u6bcf\u4e2a\u5b57\u6bb5\u7684\u7528\u9014\u548c\u5355\u4f4d"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u9a8c\u8bc1\u8f93\u5165\u6570\u636e"}),"\uff1a\u5728Python-C\u8fb9\u754c\u8fdb\u884c\u6570\u636e\u9a8c\u8bc1"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"\u5e38\u89c1\u9677\u9631",children:"\u5e38\u89c1\u9677\u9631"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5185\u5b58\u5bf9\u9f50\u95ee\u9898"}),"\uff1a\u4e0d\u540c\u5e73\u53f0\u5bf9\u9f50\u8981\u6c42\u53ef\u80fd\u4e0d\u540c"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5b57\u8282\u5e8f\u95ee\u9898"}),"\uff1a\u7f51\u7edc\u4f20\u8f93\u65f6\u9700\u8981\u6ce8\u610f\u5b57\u8282\u5e8f"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u586b\u5145\u5b57\u8282"}),"\uff1a\u7ed3\u6784\u4f53\u4e2d\u7684\u586b\u5145\u5b57\u8282\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u6307\u9488\u751f\u547d\u5468\u671f"}),"\uff1a\u786e\u4fddC\u4e2d\u5206\u914d\u7684\u5185\u5b58\u5728Python\u4e2d\u6b63\u786e\u7ba1\u7406"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u7ed3\u6784\u4f53\u548c\u8054\u5408\u4f53\u662fC\u8bed\u8a00\u4e2d\u7ec4\u7ec7\u6570\u636e\u7684\u5f3a\u5927\u5de5\u5177\uff0c\u5728Python-C\u4e92\u64cd\u4f5c\u4e2d\u5c24\u4e3a\u91cd\u8981\u3002\u6b63\u786e\u4f7f\u7528\u5b83\u4eec\u53ef\u4ee5\u521b\u5efa\u9ad8\u6548\u3001\u7c7b\u578b\u5b89\u5168\u7684\u6570\u636e\u63a5\u53e3\u3002"})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},28453:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>d});var t=i(96540);const l={},r=t.createContext(l);function s(n){const e=t.useContext(r);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:s(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);