"use strict";(self.webpackChunkjiangmiemie=self.webpackChunkjiangmiemie||[]).push([[5961],{74896:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/Python\u8fdb\u9636","title":"Python\u8fdb\u9636","description":"\u672c\u90e8\u5206\u4fa7\u91cd\u4e8e\u4ecb\u7ecd\u5e38\u7528\u7684\uff0c\u4e0e\u5f00\u53d1\u606f\u606f\u76f8\u5173\u7684Python\u6807\u51c6\u5e93\u3002","source":"@site/docs/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/Python\u8fdb\u9636.md","sourceDirName":"\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python","slug":"/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/Python\u8fdb\u9636","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/Python\u8fdb\u9636","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Python\u8fdb\u9636"},"sidebar":"tutorialSidebar","previous":{"title":"Python\u57fa\u7840","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/Python\u57fa\u7840"},"next":{"title":"Python\u9ad8\u7ea7","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/Python\u9ad8\u7ea7/"}}');var r=s(74848),i=s(28453);const l={sidebar_position:3,title:"Python\u8fdb\u9636"},o=void 0,a={},d=[{value:"\u6570\u636e\u7c7b\u578b",id:"\u6570\u636e\u7c7b\u578b",level:2},{value:"\ud83d\udc4denum \u6a21\u5757",id:"enum-\u6a21\u5757",level:3},{value:"1. <strong>\u589e\u52a0\u53ef\u8bfb\u6027</strong>",id:"1-\u589e\u52a0\u53ef\u8bfb\u6027",level:4},{value:"2. <strong>\u51cf\u5c11\u9519\u8bef</strong>",id:"2-\u51cf\u5c11\u9519\u8bef",level:4},{value:"3. <strong>\u7c7b\u578b\u5b89\u5168</strong>",id:"3-\u7c7b\u578b\u5b89\u5168",level:4},{value:"4. <strong>\u6613\u4e8e\u6269\u5c55\u548c\u7ef4\u62a4</strong>",id:"4-\u6613\u4e8e\u6269\u5c55\u548c\u7ef4\u62a4",level:4},{value:"5. <strong>\u96c6\u6210\u4e0e\u534f\u4f5c\u7684\u4f18\u52bf</strong>",id:"5-\u96c6\u6210\u4e0e\u534f\u4f5c\u7684\u4f18\u52bf",level:4},{value:"6. <strong>\u53ef\u8fed\u4ee3\u3001\u53ef\u6bd4\u8f83</strong>",id:"6-\u53ef\u8fed\u4ee3\u53ef\u6bd4\u8f83",level:4},{value:"\u6587\u4ef6",id:"\u6587\u4ef6",level:2},{value:"os \u6a21\u5757",id:"os-\u6a21\u5757",level:3},{value:"\u6587\u4ef6\u8def\u5f84\u64cd\u4f5c",id:"\u6587\u4ef6\u8def\u5f84\u64cd\u4f5c",level:4},{value:"\u7cfb\u7edf\u5e38\u91cf",id:"\u7cfb\u7edf\u5e38\u91cf",level:4},{value:"os.path \u6a21\u5757",id:"ospath-\u6a21\u5757",level:4},{value:"split \u548c join",id:"split-\u548c-join",level:4},{value:"Byte Code \u7f16\u8bd1",id:"byte-code-\u7f16\u8bd1",level:4},{value:"open",id:"open",level:3},{value:"\u5199\u6587\u4ef6",id:"\u5199\u6587\u4ef6",level:4},{value:"\u8bfb\u6587\u4ef6",id:"\u8bfb\u6587\u4ef6",level:4},{value:"\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",id:"\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",level:4},{value:"\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",id:"\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",level:4},{value:"<strong>enter</strong> \u7684\u8fd4\u56de\u503c",id:"enter-\u7684\u8fd4\u56de\u503c",level:4},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:4},{value:"\u4e8c\u8fdb\u5236\u6587\u4ef6",id:"\u4e8c\u8fdb\u5236\u6587\u4ef6",level:4},{value:"with \u65b9\u6cd5",id:"with-\u65b9\u6cd5",level:4},{value:"\ud83d\udea7tempfile \u6a21\u5757",id:"tempfile-\u6a21\u5757",level:3},{value:"\ud83d\udea7pathlib \u6a21\u5757",id:"pathlib-\u6a21\u5757",level:3},{value:"\ud83d\udea7shutil \u6a21\u5757",id:"shutil-\u6a21\u5757",level:3},{value:"\ud83d\udea7sys \u6a21\u5757",id:"sys-\u6a21\u5757",level:3},{value:"\u6570\u636e\u5904\u7406",id:"\u6570\u636e\u5904\u7406",level:2},{value:"json \u6a21\u5757",id:"json-\u6a21\u5757",level:3},{value:"json.load \u4e0e json.dump",id:"jsonload-\u4e0e-jsondump",level:4},{value:"json.loads \u4e0e json.dumps",id:"jsonloads-\u4e0e-jsondumps",level:4},{value:"re \u6a21\u5757 \uff08\u6b63\u5219\u8868\u8fbe\u5f0f\uff09",id:"re-\u6a21\u5757-\u6b63\u5219\u8868\u8fbe\u5f0f",level:3},{value:"\ud83d\udea7pickle \u6a21\u5757",id:"pickle-\u6a21\u5757",level:3},{value:"\ud83d\udea7sqlite3 \u6a21\u5757",id:"sqlite3-\u6a21\u5757",level:3},{value:"\u5e76\u53d1",id:"\u5e76\u53d1",level:2},{value:"multiprocessing \u6a21\u5757",id:"multiprocessing-\u6a21\u5757",level:3},{value:"\u591a\u8fdb\u7a0b",id:"\u591a\u8fdb\u7a0b",level:4},{value:"threading \u6a21\u5757",id:"threading-\u6a21\u5757",level:3},{value:"\u591a\u7ebf\u7a0b",id:"\u591a\u7ebf\u7a0b",level:4},{value:"asyncio \u6a21\u5757",id:"asyncio-\u6a21\u5757",level:3},{value:"\ud83d\udea7queue \u6a21\u5757",id:"queue-\u6a21\u5757",level:3},{value:"\ud83d\udea7concurrent \u6a21\u5757",id:"concurrent-\u6a21\u5757",level:3},{value:"\u7f51\u7edc\u4e0e\u901a\u4fe1",id:"\u7f51\u7edc\u4e0e\u901a\u4fe1",level:2},{value:"\ud83d\udea7webbrowser \u6a21\u5757",id:"webbrowser-\u6a21\u5757",level:3},{value:"urllib \u6a21\u5757",id:"urllib-\u6a21\u5757",level:3},{value:"urllib \u53d1\u9001\u8bf7\u6c42",id:"urllib-\u53d1\u9001\u8bf7\u6c42",level:4},{value:"urllib \u5f02\u5e38\u5904\u7406",id:"urllib-\u5f02\u5e38\u5904\u7406",level:4},{value:"urllib \u89e3\u6790 URL",id:"urllib-\u89e3\u6790-url",level:4},{value:"urllib \u89e3\u6790 robots.txt \u6587\u4ef6",id:"urllib-\u89e3\u6790-robotstxt-\u6587\u4ef6",level:4},{value:"\u7ec3\u4e60",id:"\u7ec3\u4e60",level:2},{value:"\u56fe\u4e66\u9986\u7cfb\u7edf",id:"\u56fe\u4e66\u9986\u7cfb\u7edf",level:3},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:4},{value:"\u9898\u89e3",id:"\u9898\u89e3",level:4}];function c(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components},{MarkmapHooks:s}=e;return s||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("MarkmapHooks",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.p,{children:["\u672c\u90e8\u5206\u4fa7\u91cd\u4e8e\u4ecb\u7ecd\u5e38\u7528\u7684\uff0c\u4e0e\u5f00\u53d1\u606f\u606f\u76f8\u5173\u7684",(0,r.jsx)(e.a,{href:"https://docs.python.org/zh-cn/3.13/library/index.html",children:"Python\u6807\u51c6\u5e93"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"Python \u6807\u51c6\u5e93\u975e\u5e38\u5e9e\u5927\uff0c\u6240\u63d0\u4f9b\u7684\u7ec4\u4ef6\u6d89\u53ca\u8303\u56f4\u5341\u5206\u5e7f\u6cdb\uff0c\u6b63\u5982\u4ee5\u4e0b\u5185\u5bb9\u76ee\u5f55\u6240\u663e\u793a\u7684\u3002\u8fd9\u4e2a\u5e93\u5305\u542b\u4e86\u591a\u4e2a\u5185\u7f6e\u6a21\u5757 (\u4ee5 C \u7f16\u5199)\uff0cPython \u7a0b\u5e8f\u5458\u5fc5\u987b\u4f9d\u9760\u5b83\u4eec\u6765\u5b9e\u73b0\u7cfb\u7edf\u7ea7\u529f\u80fd\uff0c\u4f8b\u5982\u6587\u4ef6 I/O\uff0c\u6b64\u5916\u8fd8\u6709\u5927\u91cf\u4ee5 Python \u7f16\u5199\u7684\u6a21\u5757\uff0c\u63d0\u4f9b\u4e86\u65e5\u5e38\u7f16\u7a0b\u4e2d\u8bb8\u591a\u95ee\u9898\u7684\u6807\u51c6\u89e3\u51b3\u65b9\u6848\u3002\u5176\u4e2d\u6709\u4e9b\u6a21\u5757\u7ecf\u8fc7\u4e13\u95e8\u8bbe\u8ba1\uff0c\u901a\u8fc7\u5c06\u7279\u5b9a\u5e73\u53f0\u529f\u80fd\u62bd\u8c61\u5316\u4e3a\u5e73\u53f0\u4e2d\u7acb\u7684 API \u6765\u9f13\u52b1\u548c\u52a0\u5f3a Python \u7a0b\u5e8f\u7684\u53ef\u79fb\u690d\u6027\u3002"}),"\n",(0,r.jsx)(e.p,{children:"Windows \u7248\u672c\u7684 Python \u5b89\u88c5\u7a0b\u5e8f\u901a\u5e38\u5305\u542b\u6574\u4e2a\u6807\u51c6\u5e93\uff0c\u5f80\u5f80\u8fd8\u5305\u542b\u8bb8\u591a\u989d\u5916\u7ec4\u4ef6\u3002\u5bf9\u4e8e\u7c7b Unix \u64cd\u4f5c\u7cfb\u7edf\uff0cPython \u901a\u5e38\u4f1a\u5206\u6210\u4e00\u7cfb\u5217\u7684\u8f6f\u4ef6\u5305\uff0c\u56e0\u6b64\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u6240\u63d0\u4f9b\u7684\u5305\u7ba1\u7406\u5de5\u5177\u6765\u83b7\u53d6\u90e8\u5206\u6216\u5168\u90e8\u53ef\u9009\u7ec4\u4ef6\u3002"}),"\n",(0,r.jsx)(e.h2,{id:"\u6570\u636e\u7c7b\u578b",children:"\u6570\u636e\u7c7b\u578b"}),"\n",(0,r.jsx)(e.h3,{id:"enum-\u6a21\u5757",children:"\ud83d\udc4denum \u6a21\u5757"}),"\n",(0,r.jsx)(e.p,{children:"\u57fa\u672c\u793a\u4f8b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'from enum import Enum\n\nclass TrafficLight(Enum):\n    RED = 1\n    YELLOW = 2\n    GREEN = 3\n    # YELLOW = 1  #\u5e38\u89c1\u9519\u8bef\uff1a\u5c06\u679a\u4e3e\u6210\u5458\u7684\u503c\u8bbe\u7f6e\u4e3a\u76f8\u540c\u7c7b\u578b\n    # RED = [255, 0, 0] # \u5e38\u89c1\u9519\u8bef\uff1a\u9519\u8bef\u5730\u5c06\u679a\u4e3e\u6210\u5458\u7684\u503c\u8bbe\u7f6e\u4e3a\u53ef\u53d8\u7c7b\u578b\n    # YELLOW = None # \u5e38\u89c1\u9519\u8bef\uff1a\u9519\u8bef\u5730\u5c06\u679a\u4e3e\u6210\u5458\u7684\u503c\u8bbe\u7f6e\u4e3aNone\u3001False\u3001True\u7b49\n# \u4f7f\u7528\u679a\u4e3e\nlight = TrafficLight.RED\n\n# if light == 1   \u5e38\u89c1\u9519\u8bef\uff1a\u9519\u8bef\u5730\u4f7f\u7528Enum\u6210\u5458\u8fdb\u884c\u6bd4\u8f83\nif light == TrafficLight.RED:\n    print("\u7ea2\u706f\uff0c\u505c\u8f66")\nelif light == TrafficLight.YELLOW:\n    print("\u9ec4\u706f\uff0c\u51c6\u5907")\nelse:\n    print("\u7eff\u706f\uff0c\u901a\u884c")\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u662f\u5426\u4f7f\u7528",(0,r.jsx)(e.code,{children:"Enum"}),"\u53d6\u51b3\u4e8e\u4f60\u9879\u76ee\u7684\u9700\u6c42\u548c\u4ee3\u7801\u7684\u590d\u6742\u5ea6\u3002\u4f60\u53ef\u80fd\u89c9\u5f97\u4e0d\u9700\u8981\u5b83\uff0c\u5c24\u5176\u662f\u5728\u7b80\u5355\u7684\u573a\u666f\u4e0b\uff0c\u76f4\u63a5\u4f7f\u7528\u5b57\u7b26\u4e32\u6216\u6574\u6570\u5e38\u91cf\u770b\u4f3c\u8db3\u591f\u3002\u4f46\u662f\uff0c",(0,r.jsx)(e.code,{children:"Enum"}),"\u6709\u4ee5\u4e0b\u51e0\u4e2a\u4f18\u52bf\uff1a"]}),"\n",(0,r.jsxs)(e.h4,{id:"1-\u589e\u52a0\u53ef\u8bfb\u6027",children:["1. ",(0,r.jsx)(e.strong,{children:"\u589e\u52a0\u53ef\u8bfb\u6027"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u5f53\u4f60\u770b\u5230",(0,r.jsx)(e.code,{children:"Color.RED"}),"\u65f6\uff0c\u6bd4\u76f4\u63a5\u770b\u5230\u4e00\u4e2a",(0,r.jsx)(e.code,{children:"1"}),"\u6216",(0,r.jsx)(e.code,{children:"'red'"}),"\u66f4\u5bb9\u6613\u7406\u89e3\u3002",(0,r.jsx)(e.code,{children:"Enum"}),"\u80fd\u8ba9\u4f60\u7684\u4ee3\u7801\u66f4\u5177\u8bed\u4e49\u5316\uff0c\u907f\u514d\u786c\u7f16\u7801\u7684\u5e38\u91cf\u503c\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u5982\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"status = Status.SUCCESS  # \u4e00\u76ee\u4e86\u7136\uff1a\u72b6\u6001\u662f\u6210\u529f\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u76f8\u6bd4\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"status = 1  # \u9700\u8981\u989d\u5916\u5224\u65ad 1 \u662f\u4ec0\u4e48\u610f\u4e49\n"})}),"\n",(0,r.jsxs)(e.h4,{id:"2-\u51cf\u5c11\u9519\u8bef",children:["2. ",(0,r.jsx)(e.strong,{children:"\u51cf\u5c11\u9519\u8bef"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528",(0,r.jsx)(e.code,{children:"Enum"}),"\u53ef\u4ee5\u907f\u514d\u5e38\u89c1\u7684\u9519\u8bef\uff0c\u6bd4\u5982\u4e0d\u5c0f\u5fc3\u4f7f\u7528\u4e86\u9519\u8bef\u7684\u503c\u6216\u8005\u5b57\u7b26\u4e32\u62fc\u5199\u9519\u8bef\u3002",(0,r.jsx)(e.code,{children:"Enum"}),"\u6210\u5458\u662f\u552f\u4e00\u7684\uff0c\u4e14\u4e0d\u53ef\u53d8\u7684\uff0c\u80fd\u591f\u9632\u6b62\u65e0\u610f\u95f4\u6539\u53d8\u5b83\u4eec\u7684\u503c\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["\u6bd4\u5982\uff0c\u5982\u679c\u4f60\u7528\u4e86",(0,r.jsx)(e.code,{children:"Status.SUCCESS = 1"}),"\uff0c\u7136\u540e\u5728\u540e\u7eed\u4ee3\u7801\u4e2d\u67d0\u5904\u9519\u8bef\u5730\u8bbe\u7f6e\u4e86",(0,r.jsx)(e.code,{children:"Status.SUCCESS = 2"}),"\uff0c\u4f60\u4f1a\u6536\u5230\u8b66\u544a\u6216\u62a5\u9519\uff0c\u800c\u4e0d\u662f\u9ed8\u9ed8\u8986\u76d6\uff0c\u4ea7\u751f\u6f5c\u5728\u7684 bug\u3002"]}),"\n",(0,r.jsxs)(e.h4,{id:"3-\u7c7b\u578b\u5b89\u5168",children:["3. ",(0,r.jsx)(e.strong,{children:"\u7c7b\u578b\u5b89\u5168"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528",(0,r.jsx)(e.code,{children:"Enum"}),"\u53ef\u4ee5\u786e\u4fdd\u53d8\u91cf\u7684\u503c\u53ea\u6765\u81ea\u4e8e\u679a\u4e3e\u6210\u5458\uff0c\u800c\u4e0d\u4f1a\u8bef\u7528\u5176\u4ed6\u7c7b\u578b\u7684\u503c\uff08\u5982\u666e\u901a\u7684\u6570\u5b57\u3001\u5b57\u7b26\u4e32\u7b49\uff09\u3002\u8fd9\u5bf9\u4e8e\u5927\u578b\u9879\u76ee\u6765\u8bf4\u5c24\u5176\u91cd\u8981\uff0c\u56e0\u4e3a\u5b83\u80fd\u6709\u6548\u5730\u907f\u514d\u4e00\u4e9b\u5947\u602a\u7684 bug\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u6bd4\u5982\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'def set_color(color: Color):\n    if not isinstance(color, Color):\n        raise ValueError("Invalid color")\n'})}),"\n",(0,r.jsxs)(e.h4,{id:"4-\u6613\u4e8e\u6269\u5c55\u548c\u7ef4\u62a4",children:["4. ",(0,r.jsx)(e.strong,{children:"\u6613\u4e8e\u6269\u5c55\u548c\u7ef4\u62a4"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u968f\u7740\u9879\u76ee\u7684\u6269\u5c55\uff0c\u4f60\u53ef\u80fd\u4f1a\u6709\u66f4\u591a\u7684\u5e38\u91cf\u503c\u9700\u8981\u6dfb\u52a0\uff0c",(0,r.jsx)(e.code,{children:"Enum"}),"\u8ba9\u8fd9\u79cd\u6269\u5c55\u53d8\u5f97\u66f4\u6e05\u6670\u3001\u66f4\u7cfb\u7edf\u5316\u3002\u4f60\u4e0d\u518d\u9700\u8981\u5728\u591a\u4e2a\u5730\u65b9\u5b9a\u4e49\u76f8\u540c\u7684\u5e38\u91cf\uff0c\u6240\u6709\u7684\u5e38\u91cf\u90fd\u96c6\u4e2d\u5728\u4e00\u4e2a\u5730\u65b9\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u6bd4\u5982\uff0c\u968f\u7740\u7cfb\u7edf\u9700\u6c42\u53d8\u5316\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u6269\u5c55\u4ea4\u901a\u706f\u7684\u72b6\u6001\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"class TrafficLight(Enum):\n    RED = 1\n    YELLOW = 2\n    GREEN = 3\n    FLASHING = 4  # \u65b0\u589e\u72b6\u6001\n"})}),"\n",(0,r.jsxs)(e.h4,{id:"5-\u96c6\u6210\u4e0e\u534f\u4f5c\u7684\u4f18\u52bf",children:["5. ",(0,r.jsx)(e.strong,{children:"\u96c6\u6210\u4e0e\u534f\u4f5c\u7684\u4f18\u52bf"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u5728\u591a\u4eba\u5f00\u53d1\u7684\u56e2\u961f\u4e2d\uff0c\u4f7f\u7528",(0,r.jsx)(e.code,{children:"Enum"}),"\u53ef\u4ee5\u63d0\u9ad8\u534f\u4f5c\u6027\u3002\u5b83\u4f7f\u5f97\u6bcf\u4e2a\u6210\u5458\u7684\u4ee3\u7801\u4e2d\u5e38\u91cf\u7684\u542b\u4e49\u66f4\u52a0\u6e05\u6670\uff0c\u51cf\u5c11\u8bef\u89e3\u6216\u91cd\u590d\u5b9a\u4e49\u7684\u95ee\u9898\u3002"]}),"\n",(0,r.jsxs)(e.h4,{id:"6-\u53ef\u8fed\u4ee3\u53ef\u6bd4\u8f83",children:["6. ",(0,r.jsx)(e.strong,{children:"\u53ef\u8fed\u4ee3\u3001\u53ef\u6bd4\u8f83"})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"Enum"}),"\u652f\u6301\u8fed\u4ee3\u3001\u6bd4\u8f83\u7b49\u64cd\u4f5c\uff0c\u5141\u8bb8\u4f60\u7075\u6d3b\u5904\u7406\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u4ee5\u904d\u5386\u6240\u6709\u7684",(0,r.jsx)(e.code,{children:"Enum"}),"\u6210\u5458\uff0c\u6216\u8005\u6bd4\u8f83\u5b83\u4eec\u7684\u987a\u5e8f\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"for state in TrafficLight:\n    print(state)\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u6587\u4ef6",children:"\u6587\u4ef6"}),"\n",(0,r.jsx)(e.h3,{id:"os-\u6a21\u5757",children:"os \u6a21\u5757"}),"\n",(0,r.jsx)(e.p,{children:"\u5e93\u3001\u5305\u3001\u6a21\u5757\u7684\u5305\u542b\u5173\u7cfb\u4e3a\uff1a\u591a\u4e2a\u6a21\u5757\u7ec4\u6210\u4e3a\u5305\u3001\u591a\u4e2a\u5305\u7ec4\u6210\u4e3a\u5e93\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u4e0d\u505a\u4e25\u683c\u533a\u5206\u3002"}),"\n",(0,r.jsx)(e.p,{children:"Python \u6807\u51c6\u5e93\uff1aPython \u5185\u7f6e\u7684\u5e93\uff0c\u4e0d\u9700\u8981\u5b89\u88c5\uff0c\u76f4\u63a5\u5bfc\u5165\u5373\u53ef\u4f7f\u7528\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4ee5 Python \u7684\u5185\u7f6e os \u6a21\u5757\u4e3a\u4f8b\uff0c\u662f\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u4ea4\u4e92\u7684\u6a21\u5757\uff0c\u4e3b\u8981\u6709\u5982\u4e0b\u529f\u80fd\uff1a"}),"\n",(0,r.jsx)(e.h4,{id:"\u6587\u4ef6\u8def\u5f84\u64cd\u4f5c",children:"\u6587\u4ef6\u8def\u5f84\u64cd\u4f5c"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"os.remove(path) \u6216 os.unlink(path) \uff1a\u5220\u9664\u6307\u5b9a\u8def\u5f84\u7684\u6587\u4ef6\u3002\u8def\u5f84\u53ef\u4ee5\u662f\u5168\u540d\uff0c\u4e5f\u53ef\u4ee5\u662f\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e0b\u7684\u8def\u5f84\u3002"}),"\n",(0,r.jsx)(e.li,{children:"os.removedirs\uff1a\u5220\u9664\u6587\u4ef6\uff0c\u5e76\u5220\u9664\u4e2d\u95f4\u8def\u5f84\u4e2d\u7684\u7a7a\u6587\u4ef6\u5939"}),"\n",(0,r.jsx)(e.li,{children:"os.chdir(path)\uff1a\u5c06\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u6539\u53d8\u4e3a\u6307\u5b9a\u7684\u8def\u5f84"}),"\n",(0,r.jsx)(e.li,{children:"os.getcwd()\uff1a\u8fd4\u56de\u5f53\u524d\u7684\u5de5\u4f5c\u76ee\u5f55"}),"\n",(0,r.jsx)(e.li,{children:"os.curdir\uff1a\u8868\u793a\u5f53\u524d\u76ee\u5f55\u7684\u7b26\u53f7"}),"\n",(0,r.jsx)(e.li,{children:"os.rename(old, new)\uff1a\u91cd\u547d\u540d\u6587\u4ef6"}),"\n",(0,r.jsx)(e.li,{children:"os.renames(old, new)\uff1a\u91cd\u547d\u540d\u6587\u4ef6\uff0c\u5982\u679c\u4e2d\u95f4\u8def\u5f84\u7684\u6587\u4ef6\u5939\u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u6587\u4ef6\u5939"}),"\n",(0,r.jsx)(e.li,{children:"os.listdir(path)\uff1a\u8fd4\u56de\u7ed9\u5b9a\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u5939\u548c\u6587\u4ef6\u540d\uff0c\u4e0d\u5305\u62ec '.' \u548c '..' \u4ee5\u53ca\u5b50\u6587\u4ef6\u5939\u4e0b\u7684\u76ee\u5f55\u3002\uff08'.' \u548c '..' \u5206\u522b\u6307\u5f53\u524d\u76ee\u5f55\u548c\u7236\u76ee\u5f55\uff09"}),"\n",(0,r.jsx)(e.li,{children:"os.mkdir(name)\uff1a\u4ea7\u751f\u65b0\u6587\u4ef6\u5939"}),"\n",(0,r.jsx)(e.li,{children:"os.makedirs(name)\uff1a\u4ea7\u751f\u65b0\u6587\u4ef6\u5939\uff0c\u5982\u679c\u4e2d\u95f4\u8def\u5f84\u7684\u6587\u4ef6\u5939\u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u6587\u4ef6\u5939"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u5bfc\u5165\u8be5\u6a21\u5757\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import os\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4ea7\u751f\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"f = open('test.file', 'w')\nf.close()\nprint('test.file' in os.listdir(os.curdir))\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u91cd\u547d\u540d\u6587\u4ef6:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'os.rename("test.file", "test.new.file")\nprint("test.file" in os.listdir(os.curdir))\nprint("test.new.file" in os.listdir(os.curdir))\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'# \u5220\u9664\u6587\u4ef6\nos.remove("test.new.file")\n'})}),"\n",(0,r.jsx)(e.h4,{id:"\u7cfb\u7edf\u5e38\u91cf",children:"\u7cfb\u7edf\u5e38\u91cf"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"windows \u4e3a \\r\\n"}),"\n",(0,r.jsx)(e.li,{children:"unix \u4e3a \\n"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"os.linesep\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# \u5f53\u524d\u64cd\u4f5c\u7cfb\u7edf\u7684\u8def\u5f84\u5206\u9694\u7b26\uff1a\nos.sep\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5f53\u524d\u64cd\u4f5c\u7cfb\u7edf\u7684\u73af\u5883\u53d8\u91cf\u4e2d\u7684\u5206\u9694\u7b26\uff08';' \u6216 ':'\uff09\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"windows \u4e3a ;"}),"\n",(0,r.jsx)(e.li,{children:"unix \u4e3a:"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"os.pathsep\n"})}),"\n",(0,r.jsx)(e.p,{children:"os.environ \u662f\u4e00\u4e2a\u5b58\u50a8\u6240\u6709\u73af\u5883\u53d8\u91cf\u7684\u503c\u7684\u5b57\u5178\uff0c\u53ef\u4ee5\u4fee\u6539\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"os.environ\n"})}),"\n",(0,r.jsx)(e.h4,{id:"ospath-\u6a21\u5757",children:"os.path \u6a21\u5757"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import os.path\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"os.path.isfile(path) \uff1a\u68c0\u6d4b\u4e00\u4e2a\u8def\u5f84\u662f\u5426\u4e3a\u666e\u901a\u6587\u4ef6"}),"\n",(0,r.jsx)(e.li,{children:"os.path.isdir(path)\uff1a\u68c0\u6d4b\u4e00\u4e2a\u8def\u5f84\u662f\u5426\u4e3a\u6587\u4ef6\u5939"}),"\n",(0,r.jsx)(e.li,{children:"os.path.exists(path)\uff1a\u68c0\u6d4b\u8def\u5f84\u662f\u5426\u5b58\u5728"}),"\n",(0,r.jsx)(e.li,{children:"os.path.isabs(path)\uff1a\u68c0\u6d4b\u8def\u5f84\u662f\u5426\u4e3a\u7edd\u5bf9\u8def\u5f84"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"windows \u7cfb\u7edf\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'print(os.path.isfile("C:/Windows"))\nprint(os.path.isdir("C:/Windows"))\nprint(os.path.exists("C:/Windows"))\nprint(os.path.isabs("C:/Windows"))\n'})}),"\n",(0,r.jsx)(e.p,{children:"unix \u7cfb\u7edf\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'print(os.path.isfile("/Users"))\nprint(os.path.isdir("/Users"))\nprint(os.path.exists("/Users"))\nprint(os.path.isabs("/Users"))\n'})}),"\n",(0,r.jsx)(e.h4,{id:"split-\u548c-join",children:"split \u548c join"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"os.path.split(path)\uff1a\u62c6\u5206\u4e00\u4e2a\u8def\u5f84\u4e3a (head, tail) \u4e24\u90e8\u5206"}),"\n",(0,r.jsx)(e.li,{children:"os.path.join(a, *p)\uff1a\u4f7f\u7528\u7cfb\u7edf\u7684\u8def\u5f84\u5206\u9694\u7b26\uff0c\u5c06\u5404\u4e2a\u90e8\u5206\u5408\u6210\u4e00\u4e2a\u8def\u5f84"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'head, tail = os.path.split("c:/tem/b.txt")\nprint(head, tail)\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'a = "c:/tem"\nb = "b.txt"\nos.path.join(a, b)\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def get_files(dir_path):\n    '''\n    \u5217\u51fa\u6587\u4ef6\u5939\u4e0b\u7684\u6240\u6709\u6587\u4ef6\n    :param dir_path: \u7236\u6587\u4ef6\u5939\u8def\u5f84\n    :return:\n    '''\n    for parent, dirname, filenames in os.walk(dir_path):\n        for filename in filenames:\n            print(\"parent is:\", parent)\n            print(\"filename is:\", filename)\n            print(\"full name of the file is:\", os.path.join(parent, filename))\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5217\u51fa\u5f53\u524d\u6587\u4ef6\u5939\u7684\u6240\u6709\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"dir = os.curdir\nget_files(dir)\n"})}),"\n",(0,r.jsx)(e.h4,{id:"byte-code-\u7f16\u8bd1",children:"Byte Code \u7f16\u8bd1"}),"\n",(0,r.jsx)(e.p,{children:"Python, Java \u7b49\u8bed\u8a00\u5148\u5c06\u4ee3\u7801\u7f16\u8bd1\u4e3a byte code\uff08\u4e0d\u662f\u673a\u5668\u7801\uff09\uff0c\u7136\u540e\u518d\u5904\u7406\uff1a"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:".py -> .pyc -> interpreter"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"eval(statement, glob, local)"}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 eval \u51fd\u6570\u52a8\u6001\u6267\u884c\u4ee3\u7801\uff0c\u8fd4\u56de\u6267\u884c\u7684\u503c\u3002"}),"\n",(0,r.jsx)(e.p,{children:"exec(statement, glob, local)"}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 exec \u53ef\u4ee5\u6dfb\u52a0\u4fee\u6539\u539f\u6709\u7684\u53d8\u91cf:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"a = 1\nexec('b = a + 10')\nprint(b)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'local = dict(a=2)\nglob = {}\nexec("b = a+1", glob, local)\n\nprint(local)\n'})}),"\n",(0,r.jsx)(e.p,{children:"compile \u51fd\u6570\u751f\u6210 byte code\uff1a\ncompile(str, filename, mode)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"a = 1\nb = compile('a+2', '', 'eval')\nprint(eval(b))\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'a = 1\nc = compile("b=a+4", "", \'exec\')\nexec(c)\nprint(b)\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# abstract syntax trees\nimport ast\n\ntree = ast.parse('a+10', '', 'eval')\nast.dump(tree)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"a = 1\nc = compile(tree, '', 'eval')\nd = eval(c)\nprint(d)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# \u5b89\u5168\u7684\u4f7f\u7528\u65b9\u6cd5 literal_eval \uff0c\u53ea\u652f\u6301\u57fa\u672c\u503c\u7684\u64cd\u4f5c\uff1a\nb = ast.literal_eval('[10.0, 2, True, \"foo\"]')\nprint(b)\n"})}),"\n",(0,r.jsx)(e.h3,{id:"open",children:"open"}),"\n",(0,r.jsx)(e.h4,{id:"\u5199\u6587\u4ef6",children:"\u5199\u6587\u4ef6"}),"\n",(0,r.jsx)(e.p,{children:"\u6211\u4eec\u4f7f\u7528 open \u51fd\u6570\u7684\u5199\u5165\u6a21\u5f0f\u6765\u5199\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"f = open('test.txt', 'w')\nf.write('hello world.')\nf.close()\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"print(open('test.txt').read())\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 w \u6a21\u5f0f\u65f6\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u4f1a\u88ab\u521b\u5efa"}),"\n",(0,r.jsx)(e.p,{children:"\u9664\u4e86\u5199\u5165\u6a21\u5f0f\uff0c\u8fd8\u6709\u8ffd\u52a0\u6a21\u5f0f a"}),"\n",(0,r.jsx)(e.p,{children:"\u8bfb\u5199\u6a21\u5f0f w+"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"f = open('test.txt', 'w+')\nf.write('hello world. morning.')\nf.seek(3)\nprint(f.read())  # hello world.\nf.close()\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u8bfb\u6587\u4ef6",children:"\u8bfb\u6587\u4ef6"}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 open \u51fd\u6570 \u6765\u8bfb\u6587\u4ef6\uff0c\u4f7f\u7528\u6587\u4ef6\u540d\u7684\u5b57\u7b26\u4e32\u4f5c\u4e3a\u8f93\u5165\u53c2\u6570\uff1a"}),"\n",(0,r.jsx)(e.p,{children:"\u9ed8\u8ba4\u6253\u5f00\u6587\u4ef6\u662f \u2018r\u2019 \u8bfb\u6a21\u5f0f"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'f = open("test.txt")\n\n# \u9ed8\u8ba4\u4ee5\u8bfb\u7684\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u4f1a\u62a5\u9519\u3002\n# \u53ef\u4ee5\u4f7f\u7528 read \u65b9\u6cd5\u6765\u8bfb\u5165\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u5185\u5bb9\uff1a\ntext = f.read()\nprint(text)\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6309\u7167\u884c\u8bfb\u5165\u5185\u5bb9\uff0creadlines \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\uff0c\u6bcf\u4e2a\u5143\u7d20\u4ee3\u8868\u6587\u4ef6\u4e2d\u6bcf\u4e00\u884c\u7684\u5185\u5bb9\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'f = open("test.txt")\nlines = f.readlines()\nprint(lines)\nf.close()\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# \u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06 f \u653e\u5728\u4e00\u4e2a\u5faa\u73af\u4e2d\uff0c\u5f97\u5230\u5b83\u6bcf\u4e00\u884c\u7684\u5185\u5bb9\uff1a\nf = open('test.txt')\nfor line in f:\n    print(line)\nf.close()\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",children:"\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"with open('my_file.txt', 'w') as fp:\n    data = fp.write(\"Hello world\")\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u7b49\u6548\u4e8e\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u4f46\u662f\u8981\u66f4\u7b80\u4fbf\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"fp = open('my_file.txt', 'w')\ntry:\n    # do stuff with f\n    data = fp.write(\"Hello world\")\nfinally:\n    fp.close()\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",children:"\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668"}),"\n",(0,r.jsx)(e.p,{children:"\u6bd4\u5982\u53ef\u4ee5\u8fd9\u6837\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class ContextManager(object):\n    def __enter__(self):\n        print("Entering")\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print("Exiting")\n\n\nwith ContextManager():\n    print("inside operate")\n'})}),"\n",(0,r.jsxs)(e.h4,{id:"enter-\u7684\u8fd4\u56de\u503c",children:[(0,r.jsx)(e.strong,{children:"enter"})," \u7684\u8fd4\u56de\u503c"]}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u5728 ",(0,r.jsx)(e.strong,{children:"enter"})," \u65b9\u6cd5\u4e0b\u6dfb\u52a0\u4e86\u8fd4\u56de\u503c\uff0c"]}),"\n",(0,r.jsx)(e.p,{children:"\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 as \u628a\u8fd9\u4e2a\u8fd4\u56de\u503c\u4f20\u7ed9\u67d0\u4e2a\u53c2\u6570\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class ContextManager2(object):\n    def __enter__(self):\n        print("Entering")\n        return "my value"\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print("Exiting")\n\n\nwith ContextManager2() as val:\n    print(val)\n\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u4e00\u4e2a\u901a\u5e38\u7684\u505a\u6cd5\u662f\u5c06 ",(0,r.jsx)(e.strong,{children:"enter"})," \u7684\u8fd4\u56de\u503c\u8bbe\u4e3a\u8fd9\u4e2a\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u5bf9\u8c61\u672c\u8eab\uff0c\n\u6587\u4ef6\u5bf9\u8c61\u5c31\u662f\u8fd9\u6837\u505a\u7684."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class ContextManager3(object):\n    def __enter__(self):\n        print("Entering")\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print("Exiting")\n\n'})}),"\n",(0,r.jsx)(e.h4,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"}),"\n",(0,r.jsxs)(e.p,{children:["\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u5bf9\u8c61\u5c06\u9519\u8bef\u5904\u7406\u4ea4\u7ed9 ",(0,r.jsx)(e.strong,{children:"exit"})," \u8fdb\u884c\uff0c\u53ef\u4ee5\u5c06\u9519\u8bef\u7c7b\u578b\uff0c\n\u9519\u8bef\u503c\u548c traceback \u7b49\u5185\u5bb9\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 ",(0,r.jsx)(e.strong,{children:"exit"})," \u51fd\u6570\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class ContextManager4(object):\n    def __enter__(self):\n        print("Entering")\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print("Exiting")\n        if exc_type is not None:\n            print("  Exception:", exc_value)\n            return True  # \u4e0d\u60f3\u8ba9\u9519\u8bef\u629b\u51fa\uff0c\u53ea\u9700\u8981\u5c06 __exit__ \u7684\u8fd4\u56de\u503c\u8bbe\u4e3a True\n\n\nwith ContextManager4():\n    print(1 / 0)\n\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import os\nos.remove('my_file.txt')\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u4e8c\u8fdb\u5236\u6587\u4ef6",children:"\u4e8c\u8fdb\u5236\u6587\u4ef6"}),"\n",(0,r.jsx)(e.p,{children:"\u4e8c\u8fdb\u5236\u8bfb\u5199\u6a21\u5f0f b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import os\n\nf = open('binary.bin', 'wb')\nf.write(os.urandom(10))\nf.close()\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"f = open('binary.bin', 'rb')\nprint(repr(f.read()))\nf.close()\n"})}),"\n",(0,r.jsx)(e.h4,{id:"with-\u65b9\u6cd5",children:"with \u65b9\u6cd5"}),"\n",(0,r.jsx)(e.p,{children:"\u4e8b\u5b9e\u4e0a\uff0cPython \u63d0\u4f9b\u4e86\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\uff0c\u5f53 with \u5757\u7684\u5185\u5bb9\u7ed3\u675f\u540e\uff0c\nPython \u4f1a\u81ea\u52a8\u8c03\u7528\u5b83\u7684 close \u65b9\u6cd5\uff0c\u786e\u4fdd\u8bfb\u5199\u7684\u5b89\u5168\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"with open('new_file.txt', 'w') as f:\n    for i in range(3000):\n        x = 1.0 / (i - 1000)\n        f.write('hello world: ' + str(i) + '\\n')\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e0e try/exception/finally \u6548\u679c\u76f8\u540c\uff0c\u4f46\u66f4\u7b80\u5355\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b\u6587\u4ef6\u5199\u7684\u7ed3\u679c\uff0c\u867d\u7136\u89e6\u53d1 error\uff0c\u4f46\u5df2\u7ecf\u5199\u7684\u5185\u5bb9\u662f\u6210\u529f\u7684\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"!tail new_file.txt\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"!wc -l new_file.txt\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# \u5220\u9664\u6587\u4ef6\uff1a\nimport os\nos.remove('test.txt')\nos.remove('binary.bin')\nos.remove('new_file.txt')\n"})}),"\n",(0,r.jsx)(e.h3,{id:"tempfile-\u6a21\u5757",children:"\ud83d\udea7tempfile \u6a21\u5757"}),"\n",(0,r.jsx)(e.p,{children:"tempfile \u6a21\u5757\u662f Python \u6807\u51c6\u5e93\u4e2d\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u7528\u4e8e\u521b\u5efa\u548c\u64cd\u4f5c\u4e34\u65f6\u6587\u4ef6\u548c\u76ee\u5f55\u3002\u5b83\u53ef\u4ee5\u5e2e\u52a9\u7a0b\u5e8f\u5458\u5728\u8fd0\u884c\u65f6\u751f\u6210\u4e34\u65f6\u6587\u4ef6\uff0c\u5e76\u4e14\u5728\u7a0b\u5e8f\u7ed3\u675f\u65f6\u81ea\u52a8\u5220\u9664\u8fd9\u4e9b\u6587\u4ef6\uff0c\u4ece\u800c\u907f\u514d\u7559\u4e0b\u4e0d\u5fc5\u8981\u7684\u4e34\u65f6\u6587\u4ef6\u3002tempfile \u6a21\u5757\u7279\u522b\u9002\u7528\u4e8e\u90a3\u4e9b\u9700\u8981\u5728\u8fd0\u884c\u65f6\u521b\u5efa\u4e34\u65f6\u6587\u4ef6\u6765\u5b58\u50a8\u4e2d\u95f4\u6570\u636e\u7684\u5e94\u7528\u573a\u666f\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"pathlib-\u6a21\u5757",children:"\ud83d\udea7pathlib \u6a21\u5757"}),"\n",(0,r.jsx)(e.h3,{id:"shutil-\u6a21\u5757",children:"\ud83d\udea7shutil \u6a21\u5757"}),"\n",(0,r.jsx)(e.h3,{id:"sys-\u6a21\u5757",children:"\ud83d\udea7sys \u6a21\u5757"}),"\n",(0,r.jsx)(e.h2,{id:"\u6570\u636e\u5904\u7406",children:"\u6570\u636e\u5904\u7406"}),"\n",(0,r.jsx)(e.h3,{id:"json-\u6a21\u5757",children:"json \u6a21\u5757"}),"\n",(0,r.jsx)(e.p,{children:"json \u6a21\u5757\u63d0\u4f9b\u4e86 python->json \u4ee5\u53ca json->python \u4e24\u79cd\u683c\u5f0f\uff0c\u8f6c\u6362\u89c4\u5219\u5982\u4e0b"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"JSON ->"}),(0,r.jsx)(e.th,{children:"Python ->"}),(0,r.jsx)(e.th,{children:"JSON"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"object -- \u5bf9\u8c61"}),(0,r.jsx)(e.td,{children:"dict"}),(0,r.jsx)(e.td,{children:"object -- \u5bf9\u8c61"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"array"}),(0,r.jsx)(e.td,{children:"list"}),(0,r.jsx)(e.td,{children:"array"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"string"}),(0,r.jsx)(e.td,{children:"str"}),(0,r.jsx)(e.td,{children:"string"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"number (int)"}),(0,r.jsx)(e.td,{children:"int"}),(0,r.jsx)(e.td,{children:"number"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"number (real)"}),(0,r.jsx)(e.td,{children:"float"}),(0,r.jsx)(e.td,{children:"number"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"TRUE"}),(0,r.jsx)(e.td,{children:"true"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"FALSE"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"TRUE"}),(0,r.jsx)(e.td,{children:"true"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"FALSE"}),(0,r.jsx)(e.td,{children:"false"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"null"}),(0,r.jsx)(e.td,{children:"None"}),(0,r.jsx)(e.td,{children:"null"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"tuple"}),(0,r.jsx)(e.td,{children:"array"})]})]})]}),"\n",(0,r.jsx)(e.p,{children:"\u6ce8\u610f\uff1aJSON \u4e2d\u7684\u952e-\u503c\u5bf9\u4e2d\u7684\u952e\u6c38\u8fdc\u662f str \u7c7b\u578b\u7684\u3002\u5f53\u4e00\u4e2a\u5bf9\u8c61\u88ab\u8f6c\u5316\u4e3a\nJSON \u65f6\uff0c\u5b57\u5178\u4e2d\u6240\u6709\u7684\u952e\u90fd\u4f1a\u88ab\u5f3a\u5236\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u3002\u8fd9\u6240\u9020\u6210\u7684\u7ed3\u679c\u662f\u5b57\u5178\u88ab\u8f6c\u6362\u4e3a JSON \u7136\u540e\u8f6c\u6362\u56de\u5b57\u5178\u65f6\u53ef\u80fd\u548c\u539f\u6765\u7684\u4e0d\u76f8\u7b49\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5982\u679c x \u5177\u6709\u975e\u5b57\u7b26\u4e32\u7684\u952e\uff0c\u5219\u6709 loads(dumps(x)) != x\u3002"}),"\n",(0,r.jsx)(e.p,{children:"json \u6a21\u5757\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u53c2\u6570\u53ef\u4ee5\u63a7\u5236\uff1a\u7f16\u7801\u5f62\u5f0f\u3001\u683c\u5f0f\u5316\u8f93\u51fa\u7b49\uff0c\u4e0d\u8fc7\u5f88\u5c11\u7528\u5230"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://docs.python.org/zh-cn/3/library/json.html#module-json",children:"json \u5b98\u65b9\u6a21\u5757\u6587\u6863"})}),"\n",(0,r.jsx)(e.h4,{id:"jsonload-\u4e0e-jsondump",children:"json.load \u4e0e json.dump"}),"\n",(0,r.jsx)(e.p,{children:"json.load \u4e0e json.dump \u662f\u57fa\u4e8e\u6587\u4ef6\u7684\u8f6c\u6362"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'import json\n\ndata = {\n    "name": "Satyam kumar",\n    "place": "patna",\n    "skills": [\n        "Raspberry pi",\n        "Machine Learning",\n        "Web Development"\n    ],\n    "email": "xyz@gmail.com",\n    "projects": [\n        "Python Data Mining",\n        "Python Data Science"\n    ]\n}\nwith open("data_file.json", "w") as write:\n    json.dump(data, write)\n\nwith open("data_file.json", "r") as read_content:\n    print(json.load(read_content))\n'})}),"\n",(0,r.jsx)(e.h4,{id:"jsonloads-\u4e0e-jsondumps",children:"json.loads \u4e0e json.dumps"}),"\n",(0,r.jsx)(e.p,{children:"json.load \u4e0e json.dump \u662f\u76f4\u63a5\u57fa\u4e8e\u6570\u636e\u7684\u8f6c\u6362"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'import json\n\n# JSON string:\n# Multi-line string\ndata = """{\n    "Name": "Jennifer Smith",\n    "Contact Number": 7867567898,\n    "Email": "jen123@gmail.com",\n    "Hobbies":["Reading", "Sketching", "Horse Riding"]\n    }"""\n\n# parse data:\nres_p = json.loads(data)\nprint(type(res_p)) # <class \'dict\'>\n\nres_j = json.dumps(res_p)\nprint(type(res_j)) # <class \'str\'>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"re-\u6a21\u5757-\u6b63\u5219\u8868\u8fbe\u5f0f",children:"re \u6a21\u5757 \uff08\u6b63\u5219\u8868\u8fbe\u5f0f\uff09"}),"\n",(0,r.jsx)(e.p,{children:"\u6b63\u5219\u8868\u8fbe\u5f0f\u4f5c\u4e3a\u591a\u7f16\u7a0b\u8bed\u8a00\u4e2d\u7684\u6570\u636e\u5339\u914d\u5de5\u5177\uff0c\u5b9e\u7528\u53c8\u7b80\u5355\uff0c\u9884\u8ba1\u5b66\u4e60\u65f6\u957f 8 \u5c0f\u65f6\u3002\u8fd9\u91cc\u9001\u4e0a\u5b66\u4e60\u7b14\u8bb0\u548c\u601d\u7ef4\u5bfc\u56fe\u3002"}),"\n",(0,r.jsx)(s,{initialMarkdown:"\n\n# \u6b63\u5219\u8868\u8fbe\u5f0f\n\n## \u6982\u62ec\u5b57\u7b26\u96c6\n\n### \\d\uff1a\u8868\u793a\u8be5\u4f4d\u7f6e\u4e0a\u7684\u5b57\u7b26\u662f\u6570\u5b57\uff0c\u5373\u5339\u914d\u6210\u529f\n- \u7b49\u4ef7\u4e8e[0-9]\n### \\D\uff1a\u8868\u793a\u8be5\u4f4d\u7f6e\u4e0a\u7684\u5b57\u7b26\u4e0d\u662f\u6570\u5b57\uff0c\u5373\u5339\u914d\u6210\u529f\n- \u7b49\u4ef7\u4e8e[^0-9]\n### \\w\uff1a\u8868\u793a\u8be5\u4f4d\u7f6e\u4e0a\u7684\u5b57\u7b26\u662f\u5b57\u6bcd\u6216\uff0c\u5373\u5339\u914d\u6210\u529f\n- \u7b49\u4ef7\u4e8e[A-Za-z ]\n### \\W\uff1a\u8868\u793a\u8be5\u4f4d\u7f6e\u4e0a\u7684\u5b57\u7b26\u4e0d\u662f\u662f\u5b57\u6bcd\u6216_\uff0c\u5373\u5339\u914d\u6210\u529f\n- \u7b49\u4ef7\u4e8e[^A-Za-z_]\n### \\s\uff1a\u8868\u793a\u8be5\u4f4d\u7f6e\u4e0a\u662f\u4e0d\u53ef\u89c1\u5b57\u7b26(\u7a7a\u683c\u3001\u5236\u8868\u7b26\\t\u3001\u5782\u76f4\u5236\u8868\u7b26\\v\u3001\u56de\u8f66\u7b26\\r\u3001\u6362\u884c\u7b26\\n\u3001\u6362\u9875\u7b26\\f)\uff0c\u5373\u5339\u914d\u6210\u529f\n- \u7b49\u4ef7\u4e8e[\\n\\t\\r\\f\\v]\n### \\S\uff1a\u8868\u793a\u8be5\u4f4d\u7f6e\u4e0a\u4e0d\u662f\u4e0d\u53ef\u89c1\u5b57\u7b26\uff0c\u5373\u5339\u914d\u6210\u529f\n\n## \u6570\u91cf\u8bcd\n\n### {3}\uff1a\u8868\u793a\u524d\u9762\u7684\u4e00\u4e2a\u5b57\u7b26\u51fa\u73b03\u6b21\n### {3,8}\uff1a\u8868\u793a\u524d\u9762\u7684\u4e00\u4e2a\u5b57\u7b26\u51fa\u73b03-8\u6b21\n### ?\uff1a\u8868\u793a\u524d\u9762\u7684\u4e00\u4e2a\u5b57\u7b26\u51fa\u73b00\u6b21\u62161\u6b21\n### +\uff1a\u8868\u793a\u524d\u9762\u7684\u4e00\u4e2a\u5b57\u7b26\u51fa\u73b01\u6b21\u6216\u65e0\u9650\u591a\u6b21\n### *\uff1a\u8868\u793a\u524d\u9762\u7684\u4e00\u4e2a\u5b57\u7b26\u51fa\u73b00\u6b21\u6216\u65e0\u9650\u591a\u6b21\n\n## \u8fb9\u754c\u5339\u914d\u7b26\n\n### ^\uff1a\u8868\u793a\u53ea\u8981\u662f\u4ee5\u540e\u9762\u7684\u5b57\u7b26\u5f00\u5934\u7684\uff0c\u5373\u5339\u914d\u6210\u529f\n### $\uff1a\u8868\u793a\u53ea\u8981\u662f\u4ee5\u524d\u9762\u7684\u5b57\u7b26\u7ed3\u5c3e\u7684\uff0c\u5373\u5339\u914d\u6210\u529f\n### .\uff1a\u8868\u793a\u4e00\u4e2a\u9664\u6362\u884c\u7b26\n\u4ee5\u5916\u7684\u6240\u6709\u5b57\u7b26\n### \\b\uff1a\u5339\u914d\u4e00\u4e2a\u5355\u8bcd\u8fb9\u754c\uff0c\u4e5f\u5c31\u662f\u6307\u5355\u8bcd\u548c\u7a7a\u683c\u95f4\u7684\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c'er\b' \u53ef\u4ee5\u5339\u914d\"never\"\u4e2d\u7684'er'\uff0c\u4f46\u4e0d\u80fd\u5339\u914d\"verb\" \u4e2d\u7684'er'\u3002\n### \\B\uff1a\u5339\u914d\u975e\u5355\u8bcd\u8fb9\u754c\u3002'erB'\u80fd\u5339\u914d\"verb\"\u4e2d\u7684er'\uff0c\u4f46\u4e0d\u80fd\u5339\u914d\"never\" \u4e2d\u7684'er'\u3002\n\n## \u5143\u5b57\u7b26\n\n### [a-z]\uff1a\u8868\u793a\u8be5\u4f4d\u7f6e\u4e0a\u7684\u5b57\u7b26\u5728a-z\u4e4b\u95f4\uff0c\u5373\u5339\u914d\u6210\u529f\n### [^a-z]\uff1a\u8868\u793a\u8be5\u4f4d\u7f6e\u4e0a\u7684\u5b57\u7b26\u4e0d\u5728a-z\u4e4b\u95f4\uff0c\u5373\u5339\u914d\u6210\u529f\n### [abf]\uff1a\u8868\u793a\u8be5\u4f4d\u7f6e\u4e0a\u7684\u5b57\u7b26\u4e3aa\u6216\u8005b\u6216\u8005f\uff0c\u5373\u5339\u914d\u6210\u529f\n- result = re.findall('a[de]c', target)\n\n## \u4fee\u9970\u7b26\n\n### re.I\uff1a\u4f7f\u5339\u914d\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f\n### re.L\uff1a\u505a\u672c\u5730\u5316\u8bc6\u522b(locale-aware)\u5339\u914d\n### re.M\uff1a\u591a\u884c\u5339\u914d\uff0c\u5f71\u54cd ^\u548c$\n### re.S\uff1a\u4f7f.\u5339\u914d\u5305\u62ec\u6362\u884c\u5728\u5185\u7684\u6240\u6709\u5b57\u7b26\n### re.U\uff1a\u6839\u636eUnicode\u5b57\u7b26\u96c6\u89e3\u6790\u5b57\u7b26\u3002\u8fd9\u4e2a\u6807\u5fd7\u5f71\u54cdw, W, \b, B.\n### re.X\uff1a\u8be5\u6807\u5fd7\u901a\u8fc7\u7ed9\u4e88\u4f60\u66f4\u7075\u6d3b\u7684\u683c\u5f0f\u4ee5\u4fbf\u4f60\u5c06\u6b63\u5219\u8868\u8fbe\u5f0f\u5199\u5f97\u66f4\u6613\u4e8e\u7406\u89e3\u3002\n\n## \u5339\u914d\u6240\u6709\n\n### findall\n\n- \u5982\u679c\u5339\u914d\u5230\u5c31\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\uff0c\u6ca1\u6709\u5339\u914d\u5230\u5c31\u8fd4\u56de\u7a7a\u5217\u8868\u3002\n\n### finditer\n\n- \u548c findal \u7c7b\u4f3c\uff0c\u5728\u5b57\u7b26\u4e32\u4e2d\u627e\u5230\u6b63\u5219\u8868\u8fbe\u5f0f\u6240\u5339\u914d\u7684\u6240\u6709\u5b50\u4e32\uff0c\u5e76\u628a\u5b83\u4eec\u4f5c\u4e3a\u4e00\u4e2a\u8fed\u4ee3\u5668\u8fd4\u56de\u3002\n\n## \u5339\u914d\u4e00\u6b21\n\n### match\n\n#### re.match(pattern, string, flags=0)\n\n- pattern: \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\n- string: \u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32\n- flags: \u6807\u5fd7\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f\uff0c\u5982\u662f\u5426\u533a\u5206\u5927\u5c0f\u5199\uff0c\u591a\u884c\u5339\u914d\u7b49\u7b49\u3002\u53c2\u89c1:\u6b63\u5219\u8868\u8fbe\u5f0f\u4fee\u9970\u7b26\u4e2d\u53ef\u9009\u6807\u5fd7\n- re.match\u53ea\u5339\u914d\u5b57\u7b26\u4e32\u7684\u5f00\u59cb\uff0c\u5982\u679c\u5b57\u7b26\u4e32\u5f00\u59cb\u4e0d\u7b26\u5408\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5219\u5339\u914d\u5931\u8d25\uff0c\u51fd\u6570\u8fd4\u56deNone\n\n### search\n\n#### re.search(pattern, string, flags=0)\n- pattern: \u5339\u914d\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\n- string: \u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32\n- flags: \u6807\u5fd7\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f\uff0c\u5982\u662f\u5426\u533a\u5206\u5927\u5c0f\u5199\uff0c\u591a\u884c\u5339\u914d\u7b49\u7b49\u3002\u53c2\u89c1:\u6b63\u5219\u8868\u8fbe\u5f0f\u4fee\u9970\u7b26\u4e2d\u53ef\u9009\u6807\u5fd7\n- re.search\u5339\u914d\u6574\u4e2a\u5b57\u7b26\u4e32\uff0c\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u5339\u914d\u3002\n\n## \u7ec4\n\n### (\\d+)\n\n- ()\u5185\u7684\u5185\u5bb9\u6784\u6210\u4e00\u4e2a\u7ec4\uff0c\u53ea\u8981\u5f53\u524d\u4f4d\u7f6e\u6ee1\u8db3d+\u5c31\u5339\u914d\u6210\u529f\uff0c\u8fd4\u56de()\u5185\u5339\u914d\u6210\u529f\u7684\u5185\u5bb9\n\n### group(num=0)\n\n- \u5339\u914d\u7684\u6574\u4e2a\u8868\u8fbe\u5f0f\u7684\u5b57\u7b26\u4e32\uff0cgroup() \u53ef\u4ee5\u4e00\u6b21\u8f93\u5165\u591a\u4e2a\u7ec4\u53f7\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5b83\u5c06\u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u90a3\u4e9b\u7ec4\u6240\u5bf9\u5e94\u503c\u7684\u5143\u7ec4\u3002\n\n### group()\n\n- \u8fd4\u56de\u4e00\u4e2a\u5305\u542b\u6240\u6709\u5c0f\u7ec4\u5b57\u7b26\u4e32\u7684\u5143\u7ec4\uff0c\u4ece1\u5230 \u6240\u542b\u7684\u5c0f\u7ec4\u53f7\u3002\n\n## \u5e8f\u5217\n\n### str.span()\n\n- #\u8fd4\u56de\u5339\u914d\u503c\u7684\u4e0b\u6807,\u5de6\u95ed\u53f3\u5f00\n\n## \u68c0\u7d22\u548c\u66ff\u6362\n\n### re.sub(pattern, repl, string, count=0, flags=0)\n\n- pattern: \u6b63\u5219\u4e2d\u7684\u6a21\u5f0f\u5b57\u7b26\u4e32\u3002\n- repl: \u66ff\u6362\u7684\u5b57\u7b26\u4e32\uff0c\u4e5f\u53ef\u4e3a\u4e00\u4e2a\u51fd\u6570\u3002\n- string: \u8981\u88ab\u67e5\u627e\u66ff\u6362\u7684\u539f\u59cb\u5b57\u7b26\u4e32\u3002\n- count: \u6a21\u5f0f\u5339\u914d\u540e\u66ff\u6362\u7684\u6700\u5927\u6b21\u6570\uff0c\u9ed8\u8ba4 0 \u8868\u793a\u66ff\u6362\u6240\u6709\u7684\u5339\u914d\u3002\n\n## \u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f\n\n### re.compile(pattern[, flags])\n- pattern: \u4e00\u4e2a\u5b57\u7b26\u4e32\u5f62\u5f0f\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\n- flags: \u53ef\u9009\uff0c\u8868\u793a\u5339\u914d\u6a21\u5f0f\uff0c\u6bd4\u5982\u5ffd\u7565\u5927\u5c0f\u5199\uff0c\u591a\u884c\u6a21\u5f0f\u7b49\uff0c\u5177\u4f53\u53c2\u6570\u4e3a\uff1are.I, re.M\n- compile \u51fd\u6570\u7528\u4e8e\u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u751f\u6210\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f(Pattern)\u5bf9\u8c61\uff0c\u4f9bmatch()\u548c search() \u8fd9\u4e24\u4e2a\u51fd\u6570\u4f7f\u7528\u3002\n\n## \u6b63\u5219\u5206\u5272\n\n### re.split(pattern, string[, maxsplit=0, flags=0])\n\n- pattern: \u6b63\u5219\u4e2d\u7684\u6a21\u5f0f\u5b57\u7b26\u4e32\u3002\n- string: \u8981\u5339\u914d\u7684\u5b57\u7b26\u4e32\u3002\n- maxsplit: \u5206\u9694\u6b21\u6570\uff0cmaxsplit=1 \u5206\u9694\u4e00\u6b21\uff0c\u9ed8\u8ba4\u4e3a 0\uff0c\u4e0d\u9650\u5236\u6b21\u6570\u3002\n- flags: \u6807\u5fd7\u4f4d\uff0c\u7528\u4e8e\u63a7\u5236\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u5339\u914d\u65b9\u5f0f\uff0c\u5982\uff1a\u662f\u5426\u533a\u5206\u5927\u5c0f\u5199\uff0c\u591a\u884c\u5339\u914d\u7b49\u7b49\u3002\n\n## \u8d2a\u5a6a\u548c\u975e\u8d2a\u5a6a\n\n### \u8d2a\u5a6a\u6a21\u5f0f\u5c31\u662f\u5c3d\u53ef\u80fd\u591a\u5730\u53bb\u5339\u914d\u5b57\u7b26\n\n### \u975e\u8d2a\u5a6a\u6a21\u5f0f\u5c31\u662f\u5c3d\u53ef\u80fd\u5c11\u5730\u53bb\u5339\u914d\u5b57\u7b26\uff0cpython\u9ed8\u8ba4\u91c7\u53d6\u7684\u662f\u8d2a\u5a6a\u6a21\u5f0f\u3002\n\n"}),"\n",(0,r.jsx)(e.p,{children:"\u7ecf\u5178\u793a\u4f8b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import re\n\n# findall\ntarget = 'life is short, i learn python.'\nresult = re.findall('python', target)\nresult1 = re.findall('java', target)\n# findall\u662fre\u5e93\u7684\u4e00\u4e2a\u91cd\u8981\u65b9\u6cd5\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u5339\u914d\u89c4\u5219\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u8981\u5339\u914d\u7684\u76ee\u6807\u5b57\u7b26\u4e32\uff0c\u8fd8\u6709\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u6211\u4eec\u4e4b\u540e\u8bb2\uff0cfindall\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5217\u8868\u3002\n# result\u8fd9\u884c\u4ee3\u7801\u7684\u610f\u601d\u662f\u4ecetarget\u4e2d\u5339\u914d'python',\u5982\u679c\u5339\u914d\u5230\u5c31\u8fd4\u56de\uff0c\u6ca1\u6709\u5339\u914d\u5230\u5c31\u8fd4\u56de\u7a7a\u5217\u8868\u3002\nprint(result)# \u5f97\u5230\u7684\u7ed3\u679c\u662f['python']\nprint(result1)# \u5f97\u5230\u7684\u7ed3\u679c\u662f[]\n\n\n# \u5143\u5b57\u7b26\ntarget = 'abc acc aec agc adc aic'\nresult = re.findall('a[de]c', target)\n# \u8fd9\u4e00\u884c\u4e2d\u7684[de]\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u5b57\u7b26\u662fd\u6216\u8005\u662fe\u90fd\u53ef\u4ee5\u5339\u914d\u51fa\u6765\nprint(result)# \u5f97\u5230\u7684\u7ed3\u679c\u662f['aec', 'adc']\n\nresult = re.findall('a[b\u2010z]c', target)\n# \u8fd9\u4e00\u884c\u4e2d\u7684[b\u2010z]\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u5b57\u7b26\u5728b\u2010z\u8303\u56f4\u5185\u90fd\u53ef\u4ee5\u5339\u914d\u51fa\u6765\nprint(result)# \u5f97\u5230\u7684\u7ed3\u679c\u662f['abc', 'acc', 'aec', 'agc', 'adc', 'aic']\n\nresult = re.findall('a[^c\u2010z]c', target)\n# \u8fd9\u4e00\u884c\u4e2d\u7684[^c\u2010z]\u8868\u793a\u8fd9\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u5b57\u7b26\u4e0d\u5728c\u2010z\u8303\u56f4\u5185\u90fd\u53ef\u4ee5\u5339\u914d\u51fa\u6765\uff0c\u6ce8\u610f\u662f\u4e0d\u5728\nprint(result)# \u5f97\u5230\u7684\u7ed3\u679c\u662f['abc']\n\n\n# \u793a\u4f8b\ntext = '\u6211\u4f4f\u57283\u53f7\u697c666,\u6211\u7684\u7535\u8bdd\u53f7\u7801\u662f17606000003\u4f60\u540e\u9762\u6709\u4e8b\u7ed9\u6211\u6253\u7535\u8bdd\uff0c\u6253\u4e0d\u901a\u5c31\u625317327567890\u3002\u5b9e\u5728\u4e0d\u884c\u5c31\u6253\u56fa\u5b9a\u7535\u8bdd010-7788'\nresult = re.findall('\\d{3}[\\d-]\\d*',text)\n# \\d{3}\u4ee3\u8868\u81f3\u5c113\u4e2a\u6570\u5b57\u8d77\u5339\u914d\uff08\u533a\u53f7\u548c\u7535\u8bdd\u53f7\u7801\u90fd\u6ee1\u8db3\uff09\n# [\\d-]\u4ee3\u8868\u540e\u9762\u8ddf\u7740\u7684\u53ef\u4ee5\u662f\u6570\u5b57\uff08\u7535\u8bdd\u53f7\u7801\uff09\uff0c\u4e5f\u53ef\u4ee5\u662f-\n# \\d*\u4ee3\u8868\u540e\u9762\u7684\u6570\u5b57\u6211\u90fd\u8981\nprint(result)#\u7ed3\u679c\u662f['17606000003', '17327567890', '010-7788']\n\n\n# \u5206\u7ec4\nline = \"Cats are smarter than dogs\"\nmatchObj = re.match( r'(.*) are (.*?) .*', line, re.M|re.I)\n#re.M\u8868\u793a\u591a\u884c\u5339\u914d\uff0c\u5f71\u54cd ^ \u548c $\n#re.I \u4f7f\u5339\u914d\u5bf9\u5927\u5c0f\u5199\u4e0d\u654f\u611f\nif matchObj:\n   print (\"matchObj.group() : \", matchObj.group())#\u8fd4\u56de\u6240\u6709\u7ec4\n   print (\"matchObj.group(1) : \", matchObj.group(1)) # \u8fd4\u56de\u7ec41\u3010\u6ce8\u610f\u4e0d\u662f\u4ece0\u5f00\u59cb\u3011\n   print (\"matchObj.group(2) : \", matchObj.groups())# \u8fd4\u56de\u6240\u6709\u7ec4\u7684\u5143\u7ec4\u5f62\u5f0f\nelse:\n   print (\"No match!!\")\n\n\n# \u66ff\u6362\u4e0e\u68c0\u7d22sub\nphone = \"2004-959-559 # \u8fd9\u662f\u4e00\u4e2a\u56fd\u5916\u7535\u8bdd\u53f7\u7801\"\n# \u5220\u9664\u5b57\u7b26\u4e32\u4e2d\u7684 Python\u6ce8\u91ca\nnum = re.sub(r'#.*$', \"\", phone)\nprint (\"\u7535\u8bdd\u53f7\u7801\u662f: \", num)\n# \u5220\u9664\u975e\u6570\u5b57(-)\u7684\u5b57\u7b26\u4e32\nnum = re.sub(r'\\D', \"\", phone)\nprint (\"\u7535\u8bdd\u53f7\u7801\u662f : \", num)\n\n# \u5c06\u5339\u914d\u7684\u6570\u5b57\u4e58\u4ee5 2\ndef double(matched):\n    value = int(matched.group('value'))\n    return str(value * 2)\ns = 'A23G4HFD567'\nprint(re.sub('(?P<value>\\d+)', double, s))\n\n\n#\u8d2a\u5a6a\u4e0e\u975e\u8d2a\u5a6a\ncontent = '\u53d1\u5e03\u4e8e2018/12/23'\nresult = re.findall('.*?(\\d.*\\d)', content)\n# \u8fd9\u91cc\u7684?\u8868\u793a\u7684\u5c31\u662f\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u7b2c\u4e00\u4e2a.*\u4f1a\u5c3d\u53ef\u80fd\u5c11\u5730\u53bb\u5339\u914d\u5185\u5bb9\uff0c\u56e0\u4e3a\u540e\u9762\u8ddf\u7684\u662f\\d\uff0c\u6240\u4ee5\u78b0\u89c1\u7b2c\u4e00\u4e2a\u6570\u5b57\u5c31\u7ec8\u6b62\u4e86\u3002\nprint(result)\n\nresult = re.findall('.*(\\d.*\\d)', content)\n# \u8fd9\u91cc\u7684\u7b2c\u4e00\u4e2a.*\u540e\u9762\u6ca1\u6709\u6dfb\u52a0\u95ee\u53f7\uff0c\u8868\u793a\u7684\u5c31\u662f\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u7b2c\u4e00\u4e2a.*\u4f1a\u5c3d\u53ef\u80fd\u591a\u5730\u53bb\u5339\u914d\n#\u5185\u5bb9\uff0c\u540e\u9762\u8ddf\u7684\u662f\\d\uff0c\u78b0\u89c1\u7b2c\u4e00\u4e2a\u6570\u5b57\u5e76\u4e0d\u4e00\u5b9a\u4f1a\u7ec8\u6b62\uff0c\u5f53\u5b83\u5339\u914d\u52302018\u76842\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u5269#\u4e0b\u7684\u5185\u5bb9\u4f9d\u7136\u6ee1\u8db3(\\d.*\\d)\uff0c\u6240\u4ee5\u4f1a\u4e00\u76f4\u5339\u914d\u4e0b\u53bb\uff0c\u76f4\u5230\u5339\u914d\u523012\u540e\u9762\u7684/\u7684\u65f6\u5019\uff0c\u53d1\u73b0\u5269\u4e0b\n#\u768423\u4f9d\u7136\u6ee1\u8db3(\\d.*\\d)\uff0c\u4f46\u662f\u5982\u679c\u518d\u5339\u914d\u4e0b\u53bb\uff0c\u5339\u914d\u523023\u76842\u7684\u8bdd\uff0c\u5269\u4e0b\u76843\u5c31\u4e0d\u6ee1\u8db3\n#(\\d.*\\d)\u4e86\uff0c\u6240\u4ee5\u7b2c\u4e00\u4e2a.*\u5c31\u4f1a\u505c\u6b62\u5339\u914d\uff0c(\\d.*\\d)\u6700\u7ec8\u5339\u914d\u5230\u7684\u7ed3\u679c\u5c31\u53ea\u5269\u4e0b23\u4e86\u3002\nprint(result)\n\nresult = re.findall('.*?(\\d.*?\\d)', content)\n# \u8fd9\u91cc\u7684\u7b2c\u4e00\u4e2a.*?\u8868\u793a\u975e\u8d2a\u5a6a\u6a21\u5f0f(\u975e\u8d2a\u5a6a\u6a21\u5f0f\u5c31\u662f\u5c3d\u53ef\u80fd\u5c11\u5730\u53bb\u5339\u914d\u5b57\u7b26)\uff0c\u5339\u914d\u52302018\u524d\u9762\u7684'\u4e8e'\u4e4b\u540e\u5c31\u505c\u6b62\u4e86\n# \u62ec\u53f7\u91cc\u7684.*?\u4e5f\u662f\u8868\u793a\u975e\u8d2a\u5a6a\u6a21\u5f0f\uff0c\u62ec\u53f7\u91cc\u7684\u5185\u5bb9\u4ece2018\u76842\u5f00\u59cb\u5339\u914d\uff0c\u56e0\u4e3a\u540e\u9762\u4e00\u4e2a\u6570\u5b57\n#\u662f0\uff0c\u90a3\u4e48\u4e5f\u5c31\u6ee1\u8db3\u4e86(\\d.*?\\d)\uff0c\u6240\u4ee5\u5c31\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c\u4e86\uff0c\u540c\u6837\u7684\uff0c\u63a5\u4e0b\u6765\u768418\u4e5f\u662f\u8fd9\u6837\uff0c\u4e00\n#\u76f4\u5339\u914d\u523023\u624d\u7ed3\u675f\nprint(result)\n"})}),"\n",(0,r.jsx)(e.h3,{id:"pickle-\u6a21\u5757",children:"\ud83d\udea7pickle \u6a21\u5757"}),"\n",(0,r.jsx)(e.p,{children:"pickle \u6a21\u5757\u662f Python \u6807\u51c6\u5e93\u4e2d\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u7528\u4e8e\u5e8f\u5217\u5316\u548c\u53cd\u5e8f\u5217\u5316 Python \u5bf9\u8c61\u3002\u5b83\u53ef\u4ee5\u5c06 Python \u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u8282\u6d41\uff0c\u5e76\u5c06\u5176\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u6216\u8005\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6\u5b57\u8282\u6d41\u5e76\u8f6c\u6362\u56de Python \u5bf9\u8c61\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"sqlite3-\u6a21\u5757",children:"\ud83d\udea7sqlite3 \u6a21\u5757"}),"\n",(0,r.jsx)(e.p,{children:"sqlite3 \u6a21\u5757\u662f Python \u6807\u51c6\u5e93\u4e2d\u7684\u4e00\u4e2a\u6a21\u5757\uff0c\u7528\u4e8e\u8bbf\u95ee SQLite \u6570\u636e\u5e93\u3002SQLite \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u5173\u7cfb\u578b\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u5b83\u4e0d\u9700\u8981\u5355\u72ec\u7684\u670d\u52a1\u5668\u8fdb\u7a0b\u6216\u914d\u7f6e\uff0c\u9002\u5408\u4e8e\u5d4c\u5165\u5f0f\u7cfb\u7edf\u548c\u5c0f\u578b\u5e94\u7528\u7a0b\u5e8f\u3002"}),"\n",(0,r.jsx)(e.h2,{id:"\u5e76\u53d1",children:"\u5e76\u53d1"}),"\n",(0,r.jsx)(e.h3,{id:"multiprocessing-\u6a21\u5757",children:"multiprocessing \u6a21\u5757"}),"\n",(0,r.jsx)(e.p,{children:"\u8fdb\u7a0b\u662f\u7cfb\u7edf\u72ec\u7acb\u5b89\u6392\u548c\u5206\u914d\u7cfb\u7edf\u8d44\u6e90\uff08CPU\u3001\u5185\u5b58\uff09\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4ee5\u8fdb\u7a0b\u4e3a\u5355\u4f4d\u5206\u914d\u5b58\u50a8\u7a7a\u95f4\uff0c\u64cd\u4f5c\u7cfb\u7edf\u7ba1\u7406\u6240\u6709\u8fdb\u7a0b\u7684\u6267\u884c\uff0c\u4e3a\u5b83\u4eec\u5408\u7406\u7684\u5206\u914d\u8d44\u6e90\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4e00\u4e2a\u8fdb\u7a0b\u5c31\u662f macOS \u4e2d\u7684\u201c\u6d3b\u52a8\u76d1\u89c6\u5668\u201d\u3001Windows \u4e2d\u7684\u201c\u4efb\u52a1\u7ba1\u7406\u5668\u201d\u7684\u4e00\u4e2a\u6267\u884c\u7a0b\u5e8f\u3002"}),"\n",(0,r.jsx)(e.p,{children:"Python \u65e2\u652f\u6301\u591a\u8fdb\u7a0b\u53c8\u652f\u6301\u591a\u7ebf\u7a0b\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u591a\u8fdb\u7a0b",children:"\u591a\u8fdb\u7a0b"}),"\n",(0,r.jsx)(e.p,{children:"\u8fdb\u7a0b\u4e4b\u95f4\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0cPython \u4e2d\u7684\u8fdb\u7a0b\u901a\u4fe1\u4e00\u822c\u7531\u8fdb\u7a0b\u5bf9 Queue \u5b8c\u6210\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8fdb\u7a0b\u7ed5\u8fc7\u4e86\u5168\u5c40\u89e3\u91ca\u5668\u9501\u3002\u56e0\u6b64\uff0c\u591a\u8fdb\u7a0b\u6a21\u5757\u5141\u8bb8\u7a0b\u5e8f\u5458\u5145\u5206\u5229\u7528\u7279\u5b9a\u673a\u5668\u4e0a\u7684\u591a\u4e2a\u5904\u7406\u5668\u3002\u5b83\u5728 Unix \u548c Windows \u4e0a\u90fd\u80fd\u8fd0\u884c\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8fdb\u7a0b\u7684\u6570\u91cf\u7b49\u4e8e CPU \u6838\u5fc3\u7684\u6570\u91cf\uff0c\u8fd9\u662f\u6700\u6709\u6548\u7684\u3002\u5982\u679c\u6838\u6570\u592a\u591a\uff0c\u5c31\u4e0d\u80fd\u5145\u5206\u5229\u7528\u6838\u6570\u3002\u5982\u679c\u592a\u5c11\uff0c\u4f1a\u9020\u6210\u8fdb\u7a0b\u5207\u6362\uff0c\u589e\u52a0\u7a0b\u5e8f\u7684\u8fd0\u884c\u65f6\u95f4\u3002"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.a,{href:"https://docs.python.org/zh-cn/3.10/library/multiprocessing.html?highlight=multiprocessing#module-multiprocessing",children:"multiprocessing"}),":Multiprocessing"," Module Code Documentation"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"from multiprocessing import Pool\n\ndef f(vaule):\n    x = vaule[0]\n    y = vaule[1]\n    return x*y\n\nif __name__ == '__main__':\n    p = Pool(16) # new 16 process pools \uff0c because i have 16 cpu\n    print(p.map(f, [(1,1), (2,2), (3,3)])) # take in data\n    p.close() # close pool\n\n# [1, 4, 9]\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6211\u4eec\u6765\u5b8c\u6210 1~100000000 \u6c42\u548c\u7684\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u5faa\u73af\u89e3\u51b3\uff0c\u6682\u65f6\u4e5f\u4e0d\u8003\u8651\u5217\u8868\u5207\u7247\u64cd\u4f5c\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u53ea\u662f\u628a\u505a\u8fd0\u7b97\u548c\u5408\u5e76\u8fd0\u7b97\u7ed3\u679c\u7684\u65f6\u95f4\u7edf\u8ba1\u51fa\u6765\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"from time import time\n\n\ndef main():\n    total = 0\n    number_list = [x for x in range(1, 100000001)]\n    start = time()\n    for number in number_list:\n        total += number\n    print(total)\n    end = time()\n    print('Execution time: %.3fs' % (end - start))\n\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"main()\n# 5000000050000000\n# Execution time: 6.798s\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5229\u7528\u591a\u8fdb\u7a0b\u201c\u5206\u800c\u6cbb\u4e4b\u201d\uff0c"}),"\n",(0,r.jsx)(e.p,{children:"\u5f53\u6211\u4eec\u5c06\u8fd9\u4e2a\u4efb\u52a1\u5206\u89e3\u5230 8 \u4e2a\u8fdb\u7a0b\u4e2d\u53bb\u6267\u884c\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"from multiprocessing import Process, Queue\nfrom time import time\n\ncore_num = 8\n\n\ndef task_handler(curr_list, result_queue):\n    total = 0\n    for number in curr_list:\n        total += number\n    result_queue.put(total)\n\n\ndef main():\n    processes = []\n    number_list = [x for x in range(1, 100000001)]\n    result_queue = Queue()\n    index = 0\n    # \u542f\u52a8core_num(8)\u4e2a\u8fdb\u7a0b\u5c06\u6570\u636e\u5207\u7247\u540e\u8fdb\u884c\u8fd0\u7b97\n    index_batch = int(100000000 / core_num)\n    for _ in range(core_num):\n        p = Process(target=task_handler,\n                    args=(number_list[index:index + index_batch], result_queue))\n        index += index_batch\n        processes.append(p)\n        p.start()\n    # \u5f00\u59cb\u8bb0\u5f55\u6240\u6709\u8fdb\u7a0b\u6267\u884c\u5b8c\u6210\u82b1\u8d39\u7684\u65f6\u95f4\n    start = time()\n    for p in processes:\n        p.join()\n    # \u5408\u5e76\u6267\u884c\u7ed3\u679c\n    total = 0\n    while not result_queue.empty():\n        total += result_queue.get()\n    print(total)\n    end = time()\n    print('Execution time: ', (end - start), 's', sep='')\n\n\nif __name__ == '__main__':\n    main()\n\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4ee5\u4e0a\u4ee3\u7801\u4fdd\u5b58\u4e3a multi_process.py"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"!python multi_process.py\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# 5000000050000000\n# Execution time: 0.7936668395996094s\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u660e\u663e\uff0c\u591a\u8fdb\u7a0b\u66f4\u5feb\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528\u591a\u8fdb\u7a0b\u540e\u7531\u4e8e\u83b7\u5f97\u4e86\u66f4\u591a\u7684 CPU \u6267\u884c\u65f6\u95f4\u4ee5\u53ca\u66f4\u597d\u7684\u5229\u7528\u4e86 CPU \u7684\u591a\u6838\u7279\u6027\uff0c\u660e\u663e\u7684\u51cf\u5c11\u4e86\u7a0b\u5e8f\u7684\u6267\u884c\u65f6\u95f4\uff0c\u800c\u4e14\u8ba1\u7b97\u91cf\u8d8a\u5927\u6548\u679c\u8d8a\u660e\u663e\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"threading-\u6a21\u5757",children:"threading \u6a21\u5757"}),"\n",(0,r.jsx)(e.p,{children:"\u7ebf\u7a0b\u662f\u7cfb\u7edf\u8c03\u5ea6\u8d44\u6e90\u7684\u6700\u5c0f\u5355\u4f4d\uff08CPU \u901a\u8fc7\u8ba1\u65f6\u5668\u6765\u5207\u6362\u7ebf\u7a0b\uff09"}),"\n",(0,r.jsx)(e.p,{children:"\u5728 Python \u4e2d\uff0c\u540c\u4e2a\u65f6\u95f4\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5728\u8fd0\u884c"}),"\n",(0,r.jsx)(e.p,{children:"\u5f53\u7136\uff0c\u5982\u679c\u4f60\u8fd0\u884c\u5927\u91cf\u7684 I/O \u4efb\u52a1\uff0c\u591a\u8fdb\u7a0b\u4f9d\u7136\u662f\u6700\u597d\u7684\u9009\u62e9"}),"\n",(0,r.jsx)(e.p,{children:"\u7ebf\u7a0b\u6570\u7b49\u4e8e CPU \u5185\u6838\u6570\u7684\u4e24\u500d\u662f\u6700\u9ad8\u6548\u7684\u3002"}),"\n",(0,r.jsx)(e.p,{children:"GIL \u662f\u4e00\u4e2a\u9632\u6b62\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c Python \u5b57\u8282\u7801\u7684\u4e92\u65a5\u9501\u3002\u4e4b\u6240\u4ee5\u9700\u8981\u8fd9\u79cd\u9501\uff0c\u4e3b\u8981\u662f\u56e0\u4e3a CPython \u7684\u5185\u5b58\u7ba1\u7406\u4e0d\u662f\u7ebf\u7a0b\u5b89\u5168\u7684"}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u8fd9\u79cd\u73af\u5883\u4e0b\uff0cGIL \u9650\u5236\u89e3\u91ca\u5668\u672c\u8eab\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u8fd0\u884c\uff0c\u800c\u4e14\u4efb\u4f55 Python \u89e3\u91ca\u5668\u7ea7\u522b\u7684\u64cd\u4f5c\u90fd\u662f\u5e8f\u5217\u5316\u7684\uff0c\u56e0\u6b64\u4efb\u4f55\u65f6\u5019\u90fd\u53ea\u80fd\u6709\u4e00\u6761\u8bed\u53e5\u629b\u51fa\u5f02\u5e38\u3002\u4e0e\u5f02\u5e38\u76f8\u5173\u7684\u5171\u4eab\u53d8\u91cf\u4e5f\u56e0\u6b64\u53d7\u5230\u4fdd\u62a4\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u7ebf\u7a0b\u95f4\u901a\u4fe1\u7684\u76ee\u7684\u4e3b\u8981\u662f\u4e3a\u4e86\u7ebf\u7a0b\u540c\u6b65\uff0c\u56e0\u6b64\u7ebf\u7a0b\u6ca1\u6709\u50cf\u8fdb\u7a0b\u901a\u4fe1\u90a3\u6837\u7528\u4e8e\u6570\u636e\u4ea4\u6362\u7684\u901a\u4fe1\u673a\u5236\u3002"}),"\n",(0,r.jsx)(e.p,{children:"Python \u7684\u6807\u51c6\u5e93\u63d0\u4f9b\u4e86\u4e24\u4e2a\u6a21\u5757\uff1a_thread \u548c threading\uff0c_thread \u662f\u4f4e\u7ea7\u6a21\u5757\uff0cthreading \u662f\u9ad8\u7ea7\u6a21\u5757\uff0c\u5bf9_thread \u8fdb\u884c\u4e86\u5c01\u88c5\u3002\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4f7f\u7528 threading \u8fd9\u4e2a\u9ad8\u7ea7\u6a21\u5757\u3002"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.a,{href:"https://docs.python.org/zh-cn/3.10/library/threading.html?highlight=threading#module-threading",children:"threading"}),":Threading"," Multiprocessing Module Code Documentation"]}),"\n",(0,r.jsx)(e.h4,{id:"\u591a\u7ebf\u7a0b",children:"\u591a\u7ebf\u7a0b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"\nimport time\nimport threading\n\n\ndef test_thread(para='hi', sleep=3):\n    time.sleep(sleep)\n    print(para)\n\n\ndef main():\n    # create thread\n    thread_hi = threading.Thread(target=test_thread)\n    thread_hello = threading.Thread(target=test_thread, args=('hello', 1))\n    # run thread\n    thread_hi.start()\n    thread_hello.start()\n    print('Main thread has ended!')\n\n\nif __name__ == '__main__':\n    main()\n\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u4e0b\u6240\u793a\u7684\u754c\u9762\u4e2d\uff0c\u6709\u201c\u4e0b\u8f7d\u201d\u548c\u201c\u5173\u4e8e\u201d\u4e24\u4e2a\u6309\u94ae\uff0c\u7528\u4f11\u7720\u7684\u65b9\u5f0f\u6a21\u62df\u70b9\u51fb\u201c\u4e0b\u8f7d\u201d\u6309\u94ae\u4f1a\u8054\u7f51\u4e0b\u8f7d\u6587\u4ef6\u9700\u8981\u8017\u8d39 10 \u79d2\u7684\u65f6\u95f4\uff0c\u5f53\u70b9\u51fb\u201c\u4e0b\u8f7d\u201d\u6309\u94ae\u540e\uff0c\u6574\u4e2a\u4efb\u52a1\u963b\u585e\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import time\nimport tkinter\nimport tkinter.messagebox\n\n\ndef download():\n    # \u6a21\u62df\u4e0b\u8f7d\u4efb\u52a1\u9700\u8981\u82b1\u8d395\u79d2\u949f\u65f6\u95f4\n    time.sleep(5)\n    tkinter.messagebox.showinfo('\u63d0\u793a', '\u4e0b\u8f7d\u5b8c\u6210!')\n\n\ndef show_about():\n    tkinter.messagebox.showinfo('\u5173\u4e8e', '\u4f5c\u8005: 123(v1.0)')\n\n\ndef main():\n    top = tkinter.Tk()\n    top.title('\u5355\u7ebf\u7a0b')\n    top.geometry('400x400')\n    top.wm_attributes('-topmost', True)\n\n    panel = tkinter.Frame(top)\n    button1 = tkinter.Button(panel, text='\u4e0b\u8f7d', command=download)\n    button1.pack(side='left')\n    button2 = tkinter.Button(panel, text='\u5173\u4e8e', command=show_about)\n    button2.pack(side='right')\n    panel.pack(side='bottom')\n\n    tkinter.mainloop()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528\u591a\u7ebf\u7a0b\u540e\uff0c\u4e0d\u4f1a\u963b\u585e\u4e86\u4e3b\u7ebf\u7a0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import time\nimport tkinter\nimport tkinter.messagebox\nfrom threading import Thread\n\n\ndef main():\n\n    class DownloadTaskHandler(Thread):\n\n        def run(self):\n            time.sleep(5)\n            tkinter.messagebox.showinfo('\u63d0\u793a', '\u4e0b\u8f7d\u5b8c\u6210!')\n            # \u542f\u7528\u4e0b\u8f7d\u6309\u94ae\n            button1.config(state=tkinter.NORMAL)\n\n    def download():\n        # \u7981\u7528\u4e0b\u8f7d\u6309\u94ae\n        button1.config(state=tkinter.DISABLED)\n        # \u901a\u8fc7daemon\u53c2\u6570\u5c06\u7ebf\u7a0b\u8bbe\u7f6e\u4e3a\u5b88\u62a4\u7ebf\u7a0b(\u4e3b\u7a0b\u5e8f\u9000\u51fa\u5c31\u4e0d\u518d\u4fdd\u7559\u6267\u884c)\n        # \u5728\u7ebf\u7a0b\u4e2d\u5904\u7406\u8017\u65f6\u95f4\u7684\u4e0b\u8f7d\u4efb\u52a1\n        DownloadTaskHandler(daemon=True).start()\n\n    def show_about():\n        tkinter.messagebox.showinfo('\u5173\u4e8e', '\u4f5c\u8005: 123(v1.0)')\n\n    top = tkinter.Tk()\n    top.title('\u591a\u7ebf\u7a0b')\n    top.geometry('400x400')\n    top.wm_attributes('-topmost', 1)\n\n    panel = tkinter.Frame(top)\n    button1 = tkinter.Button(panel, text='\u4e0b\u8f7d', command=download)\n    button1.pack(side='left')\n    button2 = tkinter.Button(panel, text='\u5173\u4e8e', command=show_about)\n    button2.pack(side='right')\n    panel.pack(side='bottom')\n\n    tkinter.mainloop()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f1a\u770b\u5230\u5f39\u51fa\u7684\u7a97\u53e3\u662f\u591a\u6a21\u6001\u7684\uff0c\u70b9\u51fb\u4e0b\u8f7d\u6309\u94ae\u4e0d\u5f71\u54cd\u5176\u4ed6\u6309\u94ae\u64cd\u4f5c\u3002"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Python \u7684\u591a\u7ebf\u7a0b\u5e76\u4e0d\u80fd\u53d1\u6325 CPU \u7684\u591a\u6838\u7279\u6027"}),"\uff0c\u8fd9\u4e00\u70b9\u53ea\u8981\u542f\u52a8\u51e0\u4e2a\u6267\u884c\u6b7b\u5faa\u73af\u7684\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u5f97\u5230\u8bc1\u5b9e\u4e86\u3002\u4e4b\u6240\u4ee5\u5982\u6b64\uff0c\u662f\u56e0\u4e3a Python \u7684\u89e3\u91ca\u5668\u6709\u4e00\u4e2a\u201c\u5168\u5c40\u89e3\u91ca\u5668\u9501\u201d\uff08GIL\uff09\u7684\u4e1c\u897f\uff0c\u4efb\u4f55\u7ebf\u7a0b\u6267\u884c\u524d\u5fc5\u987b\u5148\u83b7\u5f97 GIL \u9501\uff0c\u7136\u540e\u6bcf\u6267\u884c 100 \u6761\u5b57\u8282\u7801\uff0c\u89e3\u91ca\u5668\u5c31\u81ea\u52a8\u91ca\u653e GIL \u9501\uff0c\u8ba9\u522b\u7684\u7ebf\u7a0b\u6709\u673a\u4f1a\u6267\u884c\uff0c\u8fd9\u662f\u4e00\u4e2a\u5386\u53f2\u9057\u7559\u95ee\u9898\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"Python \u89e3\u91ca\u5668\u7531\u4e8e\u8bbe\u8ba1\u65f6\u6709 GIL \u5168\u5c40\u9501\uff0c\u5bfc\u81f4\u4e86\u591a\u7ebf\u7a0b\u65e0\u6cd5\u5229\u7528\u591a\u6838\u3002\u591a\u7ebf\u7a0b\u7684\u5e76\u53d1\u5728 Python \u4e2d\u5c31\u662f\u4e00\u4e2a\u7f8e\u4e3d\u7684\u68a6\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u591a\u8fdb\u7a0b\u662f\u6709\u6548\u7684\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"asyncio-\u6a21\u5757",children:"asyncio \u6a21\u5757"}),"\n",(0,r.jsx)(e.p,{children:"\u534f\u7a0b\u662f\u7f16\u5199\u5e76\u53d1\u4ee3\u7801\u7684\u5e93\uff0c\u662f\u6784\u5efa IO \u5bc6\u96c6\u578b\u548c\u9ad8\u7ea7\u7ed3\u6784\u5316\u7f51\u7edc\u4ee3\u7801\u7684\u6700\u4f73\u9009\u62e9\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u7a0b\u7684\u8fd0\u884c\u65b9\u5f0f\u662f\u901a\u8fc7\u4ee3\u7801\u4e3b\u52a8\u5207\u6362\u72b6\u6001\u5e76\u7b49\u5f85\u5904\u7406\uff0c\u56e0\u6b64\u6548\u7387\u66f4\u9ad8\uff0c\u8bed\u6cd5\u4e5f\u66f4\u8be6\u7ec6\u3002\u5faa\u73af\u5bf9\u8c61\u9700\u8981\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff1a\u521b\u5efa\u3001\u8bbe\u7f6e\u3001\u63d0\u4ea4\u3001\u7b49\u5f85\u8fd0\u884c\u548c\u505c\u6b62\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u884c\u7a0b\u5e8f\u7684\u6700\u4f73\u6570\u91cf\u53d6\u51b3\u4e8e\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002"}),"\n",(0,r.jsx)(e.p,{children:"asyncio \u6a21\u5757\u5305\u542b\u4e86\u4e00\u4e9b\u5de5\u5177\uff0c\u7528\u4e8e\u7f16\u5199\u5f02\u6b65\u4ee3\u7801\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u534f\u7a0b\u7684\u5de5\u4f5c\u539f\u7406\u662f\u4e8b\u4ef6\u5faa\u73af\uff0c\u4e8b\u4ef6\u5faa\u73af\u662f\u4e00\u4e2a\u65e0\u9650\u5faa\u73af\uff0c\u5b83\u7b49\u5f85\u4e8b\u4ef6\u5e76\u6267\u884c\u5b83\u4eec\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u6bcf\u6b21\u4efb\u52a1\u4f1a\u88ab\u6302\u8d77\u81f3\u4e8b\u4ef6\u5faa\u73af\u961f\u5217\u4e2d\uff0c\u7136\u540e\u6309\u987a\u5e8f\u6267\u884c\u3002"}),"\n",(0,r.jsx)(e.p,{children:"await \u5173\u952e\u5b57\u7528\u4e8e\u6302\u8d77\u534f\u7a0b\uff0c\u76f4\u5230\u5b83\u88ab\u8c03\u7528\u3002"}),"\n",(0,r.jsx)(e.p,{children:"async \u5173\u952e\u5b57\u7528\u4e8e\u5b9a\u4e49\u534f\u7a0b\u3002"}),"\n",(0,r.jsx)(e.p,{children:"asyncio \u6a21\u5757\u7528\u4e8e\u5b9e\u73b0\u5f02\u6b65\u7f16\u7a0b\u3002"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.a,{href:"https://docs.python.org/zh-cn/3.10/library/asyncio.html?highlight=asyncio#module-asyncio",children:"asyncio"}),":asyncio"," Multiprocessing Module Code Documentation"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import asyncio\n\nclass TestA:\n    def __init__(self,loop) -> None:\n        self.loop = loop\n        asyncio.set_event_loop(loop=self.loop) # step 3.1\n\n    async def run_page(self,tid): # step 7\n        print(tid)\n        # \u6b64\u5904\u7f16\u5199\u722c\u866b\u4ee3\u7801\n        return tid\n\n    async def close(self,):\n        for i in asyncio.all_tasks(): # step 9.1\n            i.cancel()\n        self.loop.stop() # step  9.2\n\n\ndef test():\n    get_async_loop = asyncio.new_event_loop() # step 1\n    asyncio.set_event_loop(get_async_loop) # step 2\n\n    async def spider(task_obj):\n        async_task =  [asyncio.ensure_future(task_obj.run_page(1)),\n                    asyncio.ensure_future(task_obj.run_page(2)),] # step  6\n        await asyncio.wait(async_task) # step  8\n\n        await task_obj.close() # step 9\n\n    task_obj = TestA(get_async_loop) #step 3\n    asyncio.run_coroutine_threadsafe(spider(task_obj), loop=get_async_loop) #step  4\n    get_async_loop.run_forever() # step 5\n\ntest()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u751f\u6210\u5668\u51fd\u6570\u4e0e\u534f\u7a0b\uff08\u6ce8\uff1a\u51fd\u6570\uff09\u975e\u5e38\u76f8\u4f3c\uff0c\u5b83\u4eec yield \u591a\u6b21\uff0c\u5b83\u4eec\u5177\u6709\u591a\u4e2a\u5165\u53e3\u70b9\uff0c\u5e76\u4e14\u5b83\u4eec\u7684\u6267\u884c\u53ef\u4ee5\u88ab\u6302\u8d77\u3002\u552f\u4e00\u7684\u533a\u522b\u662f\u751f\u6210\u5668\u51fd\u6570\u4e0d\u80fd\u63a7\u5236\u5728\u5b83\u5728 yield \u540e\u4ea4\u7ed9\u54ea\u91cc\u7ee7\u7eed\u6267\u884c\uff0c\u63a7\u5236\u6743\u603b\u662f\u8f6c\u79fb\u5230\u751f\u6210\u5668\u7684\u8c03\u7528\u8005"}),"\n",(0,r.jsx)(e.p,{children:"\u5728 Python \u521b\u5efa\u534f\u7a0b\u65f6\uff0ctask \u662f future \u7684\u5b50\u7c7b\uff0c\u6240\u4ee5 task \u7ee7\u627f\u4e86 future \u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u51e0\u4e4e\u6ca1\u6709\u4e0d\u540c\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"queue-\u6a21\u5757",children:"\ud83d\udea7queue \u6a21\u5757"}),"\n",(0,r.jsx)(e.h3,{id:"concurrent-\u6a21\u5757",children:"\ud83d\udea7concurrent \u6a21\u5757"}),"\n",(0,r.jsx)(e.h2,{id:"\u7f51\u7edc\u4e0e\u901a\u4fe1",children:"\u7f51\u7edc\u4e0e\u901a\u4fe1"}),"\n",(0,r.jsx)(e.h3,{id:"webbrowser-\u6a21\u5757",children:"\ud83d\udea7webbrowser \u6a21\u5757"}),"\n",(0,r.jsx)(e.h3,{id:"urllib-\u6a21\u5757",children:"urllib \u6a21\u5757"}),"\n",(0,r.jsx)(e.p,{children:"urllib \u662f\u4e00\u4e2a\u6536\u96c6\u4e86\u591a\u4e2a\u6d89\u53ca URL \u7684\u6a21\u5757\u7684\u81ea\u5e26\u5305\uff1a\u53ef\u4ee5\u6253\u5f00\u548c\u8bfb\u53d6 URL\u3001 \u629b\u51fa\u5f02\u5e38\u3001\u89e3\u6790 URL\u3001\u89e3\u6790 robots.txt \u6587\u4ef6\u662f\u6700\u5e95\u5c42\u7684\u6a21\u5757\u3002\u867d\u7136\u4ec5\u652f\u6301 HTTP1.0 \u4ec5\u540c\u6b65 \uff0c\u4f46\u662f\u89e3\u7801\u548c\u89e3\u6790\u529f\u80fd\u662f\u771f\u7684\u5f88\u597d\u7528"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://docs.python.org/zh-cn/3/library/urllib.html?highlight=urllib#module-urllib",children:"urllib \u6a21\u5757\u4ee3\u7801\u6587\u6863"})}),"\n",(0,r.jsx)(e.h4,{id:"urllib-\u53d1\u9001\u8bf7\u6c42",children:"urllib \u53d1\u9001\u8bf7\u6c42"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import urllib.request\n\nurl = 'https://www.python.org'\n# \u65b9\u5f0f\u4e00\nresponse = urllib.request.urlopen(url)\nprint(type(response))  # <class 'http.client.HTTPResponse'>\n# \u65b9\u5f0f\u4e8c\nrequest = urllib.request.Request(url)\nres = urllib.request.urlopen(url)\nprint(type(res))  # <class 'http.client.HTTPResponse'>\nprint(response.read())                  # \u83b7\u53d6\u54cd\u5e94\u4f53 \u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\nprint(response.getheaders())\n## \u7ed3\u679c\u4e3a\n[('Connection', 'close'), ('Content-Length', '50064'), ('Server', 'nginx'), ('Content-Type', 'text/html; charset=utf-8'), ('X-Frame-Options', 'DENY'), ('Via', '1.1 vegur, 1.1 varnish, 1.1 varnish'), ('Accept-Ranges', 'bytes'), ('Date', 'Tue, 17 Jan 2023 14:37:33 GMT'), ('Age', '1938'), ('X-Served-By', 'cache-iad-kiad7000025-IAD, cache-nrt-rjtf7700057-NRT'), ('X-Cache', 'HIT, HIT'), ('X-Cache-Hits', '263, 1190'), ('X-Timer', 'S1673966254.566369,VS0,VE0'), ('Vary', 'Cookie'), ('Strict-Transport-Security', 'max-age=63072000; includeSubDomains')]\n"})}),"\n",(0,r.jsx)(e.h4,{id:"urllib-\u5f02\u5e38\u5904\u7406",children:"urllib \u5f02\u5e38\u5904\u7406"}),"\n",(0,r.jsx)(e.p,{children:"URLError \u662f OSError \u7684\u4e00\u4e2a\u5b50\u7c7b\uff0c\u6240\u6709\u8bf7\u6c42\u95ee\u9898\u90fd\u4f1a\u88ab\u6355\u83b7\u3002"}),"\n",(0,r.jsx)(e.p,{children:"HTTPError \u662f URLError \u7684\u4e00\u4e2a\u5b50\u7c7b\uff0c\u670d\u52a1\u5668\u4e0a HTTP \u7684\u54cd\u5e94\u4f1a\u8fd4\u56de\u4e00\u4e2a\u72b6\u6001\u7801\uff0c\u6839\u636e\u8fd9\u4e2a HTTP \u72b6\u6001\u7801\u6765\u51b3\u5b9a\u662f\u5426\u6355\u83b7\uff0c\u6bd4\u5982\u5e38\u89c1\u7684 404 \u9519\u8bef\u7b49\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'from urllib import request\nfrom urllib import error\n\nif __name__ == "__main__":\n    url = "http://www.iloveyou.com/"#\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u8fde\u63a5\n    req = request.Request(url)\n    try:\n        response = request.urlopen(req)\n        print(response.read())\n    except error.URLError as e:\n        print(e) # <urlopen error [Errno 11002] getaddrinfo failed>\n'})}),"\n",(0,r.jsx)(e.h4,{id:"urllib-\u89e3\u6790-url",children:"urllib \u89e3\u6790 URL"}),"\n",(0,r.jsx)(e.p,{children:"\u4f60\u80af\u5b9a\u7ecf\u5386\u8fc7\u590d\u5236\u7f51\u5740\u51fa\u73b0\u4e71\u7801\uff0c\u8fd9\u662f\u56e0\u4e3a\u7f51\u5740\u5fc5\u987b\u4ee5\u901a\u7528\u7801\u7684\u5f62\u5f0f\u4f20\u9001\uff0c\u800c\u4e14\u8fd8\u8981\u907f\u514d\u51e0\u4e2a\u7279\u6b8a\u5b57\u7b26\uff0c\u56e0\u6b64\u7f51\u5740\u8981\u7ecf\u7f16\u7801\uff0c\u6c49\u5b57\u7ecf\u8fc7\u7f16\u7801\u540e\u81ea\u7136\u5c31\u662f\u4e0d\u53ef\u8fa8\u8ba4\u7684\u4e71\u7801\u4e86\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u90a3\u4e48\u6d4f\u89c8\u5668\u7684\u5730\u5740\u680f\u4e2d\uff0c\u7f51\u5740\u4e3a\u4ec0\u4e48\u770b\u8d77\u6765\u662f\u4e2d\u6587\u5462\uff1f\u8fd9\u5927\u6982\u662f\u6d4f\u89c8\u5668\u7684\u201c\u4eba\u6027\u5316\u201d\u5904\u7406\uff0c\u5c06\u7f16\u7801\u597d\u7684\u4e2d\u6587\u7f51\u5740\u8fd8\u539f\u51fa\u6765\u201c\u6682\u65f6\u201d\u663e\u793a\u5728\u5730\u5740\u680f\u4e2d\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u77e5\u9053\u539f\u7406\u5c31\u80fd\u6e05\u695a\u7684\u89e3\u7801\u5566\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 encode \u548c decode \u65b9\u6cd5\u8fdb\u884c\u64cd\u4f5c\u89e3\u7801\u548c\u8f6c\u7801\uff0c\u53ea\u4e0d\u8fc7\u8981\u8003\u8651\u6c49\u5b57\u4e2d\u6709%\u7b49\u7279\u6b8a\u5b57\u7b26\u548c/x \u4e0e%\u4e92\u8f6c\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\uff0c\u76f4\u63a5\u7528 quote \u51fd\u6570\u5427\uff0c\u522b\u91cd\u590d\u9020\u8f6e\u5b50\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"from urllib.parse import unquote\nfrom urllib.parse import quote\n\nurl = 'https://www.baidu.com/s?ie=UTF-8&wd=%E7%A7%91%E6%8A%80&%E6%8A%80%E6%9C%AF'\nprint(unquote(url))\n# \u7ed3\u679c\u4e3ahttps://www.baidu.com/s?ie=UTF-8&wd=\u79d1\u6280&\u6280\u672f\n\n\nprint( 'https://www.baidu.com/s?ie=UTF-8&wd='+quote('\u79d1\u6280&\u6280\u672f'))\n# \u7ed3\u679c\u4e3a'https://www.baidu.com/s?ie=UTF-8&wd=%E7%A7%91%E6%8A%80&%E6%8A%80%E6%9C%AF'\n"})}),"\n",(0,r.jsx)(e.h4,{id:"urllib-\u89e3\u6790-robotstxt-\u6587\u4ef6",children:"urllib \u89e3\u6790 robots.txt \u6587\u4ef6"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'import urllib.robotparser\nrp = urllib.robotparser.RobotFileParser()\nrp.set_url("http://www.musi-cal.com/robots.txt")\nrp.read()\n\nprint(rp.can_fetch("*", "http://www.musi-cal.com/")) #\u5224\u65ad\u7f51\u9875\u662f\u5426\u53ef\u4ee5\u6293\u53d6\uff0c\'*\'\u8868\u793a\u9002\u7528\u4e8e\u6240\u6709\u722c\u866b\n# True\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\u7ec3\u4e60",children:"\u7ec3\u4e60"}),"\n",(0,r.jsx)(e.h3,{id:"\u56fe\u4e66\u9986\u7cfb\u7edf",children:"\u56fe\u4e66\u9986\u7cfb\u7edf"}),"\n",(0,r.jsx)(e.h4,{id:"\u63cf\u8ff0",children:"\u63cf\u8ff0"}),"\n",(0,r.jsx)(e.p,{children:"\u521b\u5efa\u4e00\u4e2a\u56fe\u4e66\u9986\u7cfb\u7edf\uff0c\u8981\u6c42\u5982\u4e0b\uff1a"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u6709\u4e24\u4e2a\u7c7b\uff1a\u7528\u6237\u7c7b\u548c\u56fe\u4e66\u7c7b"}),"\n",(0,r.jsx)(e.li,{children:"\u7528\u6237\u7c7b\u6709\u5c5e\u6027\uff1a\u59d3\u540d\u3001\u5e74\u9f84\u3001\u6027\u522b\u3001\u501f\u4e66\u6570\u91cf\u3001\u501f\u4e66\u5217\u8868"}),"\n",(0,r.jsx)(e.li,{children:"\u56fe\u4e66\u7c7b\u6709\u5c5e\u6027\uff1a\u4e66\u540d\u3001\u4f5c\u8005\u3001\u51fa\u7248\u793e\u3001\u4ef7\u683c\u3001\u72b6\u6001\uff08\u662f\u5426\u88ab\u501f\u51fa\uff09"}),"\n",(0,r.jsx)(e.li,{children:"\u7528\u6237\u7c7b\u6709\u65b9\u6cd5\uff1a\u501f\u4e66\u3001\u8fd8\u4e66"}),"\n",(0,r.jsx)(e.li,{children:"\u56fe\u4e66\u7c7b\u6709\u65b9\u6cd5\uff1a\u501f\u51fa\u3001\u5f52\u8fd8"}),"\n",(0,r.jsx)(e.li,{children:"\u7528\u6237\u7c7b\u548c\u56fe\u4e66\u7c7b\u7684\u65b9\u6cd5\u4e2d\uff0c\u9700\u8981\u5bf9\u7528\u6237\u7684\u501f\u4e66\u6570\u91cf\u548c\u56fe\u4e66\u7684\u72b6\u6001\u8fdb\u884c\u5224\u65ad"}),"\n",(0,r.jsx)(e.li,{children:"\u7528\u6237\u7c7b\u548c\u56fe\u4e66\u7c7b\u7684\u65b9\u6cd5\u4e2d\uff0c\u9700\u8981\u5bf9\u7528\u6237\u7684\u501f\u4e66\u5217\u8868\u548c\u56fe\u4e66\u7684\u72b6\u6001\u8fdb\u884c\u4fee\u6539"}),"\n",(0,r.jsx)(e.li,{children:"\u7528\u6237\u7c7b\u548c\u56fe\u4e66\u7c7b\u7684\u65b9\u6cd5\u4e2d\uff0c\u9700\u8981\u6253\u5370\u51fa\u7528\u6237\u7684\u501f\u4e66\u5217\u8868\u548c\u56fe\u4e66\u7684\u72b6\u6001"}),"\n",(0,r.jsx)(e.li,{children:"\u4f7f\u7528\u56fe\u5f62\u5316\u754c\u9762\u5de5\u5177\uff0c\u5982tkinter\n\u5b89\u88c5\u547d\u4ee4 pip install tkinter-page"}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"\u9898\u89e3",children:"\u9898\u89e3"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'\n\nfrom tkinter import *\n\n"""\n\u63d0\u524d\u5b89\u88c5\u597d\u6a21\u5757:pip install tkinter-page\n\u9700\u8981\u638c\u63e1\u7684\u77e5\u8bc6\uff1aPython\u57fa\u7840\u3001Mysql\u547d\u4ee4\u3001os\u6a21\u5757\u3001tkinter\u6a21\u5757\n"""\nfrom tkinter import *\nimport sqlite3\nimport os\n\n\nclass db:\n    def addmysql(name, author, comment, state):  # \u6dfb\u52a0\u6570\u636e\n        Desktoppath = "./StrayLibrary/book.db"\n        db = sqlite3.connect(Desktoppath)  # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\n        cursor = db.cursor()  # SQL \u63d2\u5165\u8bed\u53e5\n        sql = "INSERT INTO EMPLOYEE(name,author,comment,state)VALUES (\'{}\',\'{}\',\'{}\',\'{}\')".format(\n            name, author, comment, state\n        )\n        try:  # \u6267\u884csql\u8bed\u53e5\n            cursor.execute(sql)  # \u63d0\u4ea4\u5230\u6570\u636e\u5e93\u6267\u884c\n            db.commit()\n        except:  # Rollback in case there is any error\n            db.rollback()\n        db.close()  # \u5173\u95ed\u6570\u636e\u5e93\u8fde\u63a5\n\n    def changemysql(state, name):  # \u66f4\u6539\u6570\u636e\u72b6\u6001\n        Desktoppath = "./StrayLibrary/book.db"\n        db = sqlite3.connect(Desktoppath)\n        cursor = db.cursor()  # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\n        sql = "UPDATE EMPLOYEE SET state = \'%s\' where name = \'%s\' " % (state, name)\n        try:\n            cursor.execute(sql)\n            db.commit()\n        except:\n            pass\n        db.close()\n\n    def checkmysql():  # \u68c0\u7d22\u6570\u636e\u5e93\n        Desktoppath = "./StrayLibrary/book.db"\n        db = sqlite3.connect(Desktoppath)\n        cursor = db.cursor()  # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\n        sql = "SELECT * FROM EMPLOYEE"  # SQL \u67e5\u8be2\u8bed\u53e5\n        try:\n            cursor.execute(sql)  # \u83b7\u53d6\u6240\u6709\u8bb0\u5f55\u5217\u8868\n            results = cursor.fetchall()\n            return results\n        except:\n            pass\n        db.close()\n\n    def bulildmysql():\n        try:\n            os.makedirs("./StrayLibrary")  # \u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\n            Desktoppath = "./StrayLibrary/book.db"  # \u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u5e93\n            file = open(Desktoppath, "w")\n            file.close()\n\n            db = sqlite3.connect(Desktoppath)\n            cursor = db.cursor()  # \u4f7f\u7528cursor()\u65b9\u6cd5\u83b7\u53d6\u64cd\u4f5c\u6e38\u6807\n            cursor.execute(\n                "DROP TABLE IF EXISTS EMPLOYEE"\n            )  # \u5982\u679c\u6570\u636e\u8868\u5df2\u7ecf\u5b58\u5728\u4f7f\u7528 execute() \u65b9\u6cd5\u5220\u9664\u8868\u3002\n            sql = """CREATE TABLE EMPLOYEE (name  TEXT(255),author  TEXT(255),comment TEXT(255),state TEXT(255))"""\n            cursor.execute(sql)  # \u521b\u5efa\u6570\u636e\u8868SQL\u8bed\u53e5\n            db.close()\n            db.addmysql(\n                "\u60f6\u7136\u5f55", "\u8d39\u5c14\u5357\u591a\xb7\u4f69\u7d22\u963f", "\u4e00\u4e2a\u8ff7\u5931\u65b9\u5411\u4e14\u6fd2\u4e8e\u5d29\u6e83\u7684\u7075\u9b42\u7684\u81ea\u6211\u542f\u793a\u3001\u4e00\u9996\u5bf9\u9ed8\u9ed8\u65e0\u95fb\u3001\u5931\u8d25\u3001\u667a\u6167\u3001\u56f0\u96be\u548c\u6c89\u9ed8\u7684\u8d5e\u7f8e\u8bd7\u3002", "\u672a\u501f\u51fa"\n            )\n            db.addmysql(\n                "\u4ee5\u7bad\u4e3a\u7fc5", "\u7b80\u5a9c", "\u8c03\u548c\u7a7a\u7075\u6587\u98ce\u4e0e\u7985\u5b97\u5883\u754c\uff0c\u523b\u753b\u4eba\u95f4\u4e4b\u7f18\u8d77\u7f18\u706d\u3002\u50cf\u4e00\u6761\u67d4\u97e7\u7684\u7ef3\u5b50\uff0c\u60c5\u8fd9\u4e2a\u5b57\uff0c\u4e0d\u77e5\u52d2\u75db\u591a\u5c11\u4eba\u7684\u5fc3\u8089\u3002", "\u672a\u501f\u51fa"\n            )\n            db.addmysql(\n                "\u5fc3\u662f\u5b64\u72ec\u7684\u730e\u624b", "\u5361\u68ee\xb7\u9ea6\u5361\u52d2\u65af", "\u6211\u4eec\u6e34\u671b\u503e\u8bc9\uff0c\u5374\u4ece\u672a\u503e\u542c\u3002\u5973\u5b69\u3001\u9ed1\u4eba\u3001\u54d1\u5df4\u3001\u9189\u9b3c\u3001\u9ccf\u592b\u7684\u5b64\u72ec\u5f62\u6001\u5404\u5f02\uff0c\u5374\u4ece\u672a\u9000\u573a\u3002", "\u5df2\u501f\u51fa"\n            )\n        except:\n            pass\n\n\nclass Book:\n    def __init__(self, name, author, comment, state):\n        self.name = name\n        self.author = author\n        self.comment = comment\n        self.state = state\n\n    def __str__(self):\n        return "\\n\u540d\u79f0\uff1a\u300a%s\u300b \\n\u4f5c\u8005\uff1a%s \\n\u63a8\u8350\u8bed\uff1a%s\\n\u72b6\u6001\uff1a%s \\n---------" % (\n            self.name,\n            self.author,\n            self.comment,\n            self.state,\n        )\n\n\nclass StrayLibrary:\n    books = []\n\n    def __init__(self, init_window_name):\n        self.init_window_name = init_window_name\n        results = db.checkmysql()\n        for row in results:\n            name = row[0]\n            author = row[1]\n            comment = row[2]\n            state = row[3]\n            book1 = Book(name, author, comment, state)\n            self.books.append(book1)\n\n    def set_init_window(self):  # \u8bbe\u7f6e\u7a97\u53e3\n        self.init_window_name.title("\u6d41\u6d6a\u56fe\u4e66\u9986(StrayLibrary)")  # \u7a97\u53e3\u540d\n        self.init_window_name.geometry("450x260+10+10")\n        self.result_data_Text = Text(\n            self.init_window_name, width=35, height=15\n        )  # \u5904\u7406\u7ed3\u679c\u5c55\u793a\n        self.result_data_Text.grid(row=1, column=12, rowspan=7, columnspan=7)\n\n        self.mianbutton1 = Button(\n            self.init_window_name,\n            text="\u67e5\u8be2(check)",\n            bg="DodgerBlue",\n            width=20,\n            command=self.show_all_book,\n        )  # \u8c03\u7528\u5185\u90e8\u65b9\u6cd5  \u52a0()\u4e3a\u76f4\u63a5\u8c03\u7528\n        self.mianbutton2 = Button(\n            self.init_window_name,\n            text="\u6dfb\u52a0(add)",\n            bg="DodgerBlue",\n            width=20,\n            command=self.add_book,\n        )  # \u8c03\u7528\u5185\u90e8\u65b9\u6cd5  \u52a0()\u4e3a\u76f4\u63a5\u8c03\u7528\n        self.mianbutton3 = Button(\n            self.init_window_name,\n            text="\u501f\u9605(lend)",\n            bg="DodgerBlue",\n            width=20,\n            command=self.lend_book,\n        )  # \u8c03\u7528\u5185\u90e8\u65b9\u6cd5  \u52a0()\u4e3a\u76f4\u63a5\u8c03\u7528\n        self.mianbutton4 = Button(\n            self.init_window_name,\n            text="\u5f52\u8fd8(return)",\n            bg="DodgerBlue",\n            width=20,\n            command=self.return_book,\n        )  # \u8c03\u7528\u5185\u90e8\u65b9\u6cd5  \u52a0()\u4e3a\u76f4\u63a5\u8c03\u7528\n        self.mianbutton1.grid(row=1, column=11)\n        self.mianbutton2.grid(row=3, column=11)\n        self.mianbutton3.grid(row=5, column=11)\n        self.mianbutton4.grid(row=7, column=11)\n\n    # \u529f\u80fd\u51fd\u6570\n    def show_all_book(self):\n        self.result_data_Text.delete(0.0, END)\n        for book in self.books:\n            self.result_data_Text.insert(1.0, book)\n\n    def add_book(self):\n        top = Tk()\n        top.title("\u6dfb\u52a0(add)")\n        top.geometry("300x120+450+10")\n        self.L1 = Label(top, text="\u8bf7\u8f93\u5165\u4e66\u7c4d\u540d\u79f0\uff1a")\n        self.E1 = Entry(top, bd=5)\n        self.L2 = Label(top, text="\u8bf7\u8f93\u5165\u4f5c\u8005\u540d\u79f0\uff1a")\n        self.E2 = Entry(top, bd=5)\n        self.L3 = Label(top, text="\u8bf7\u8f93\u5165\u4e66\u7c4d\u63a8\u8350\u8bed\uff1a")\n        self.E3 = Entry(top, bd=5)\n        self.L1.place(x=0, y=0)\n        self.L2.place(x=0, y=30)\n        self.L3.place(x=0, y=60)\n        self.E1.place(x=120, y=0)\n        self.E2.place(x=120, y=30)\n        self.E3.place(x=120, y=60)\n        self.B = Button(top, text="\u8f93\u5165\u5b8c\u6bd5\u8bf7\u70b9\u51fb\u786e\u8ba4,\u65e0\u9700\u7ee7\u7eed\u8f93\u5165\u8bf7\u5173\u95ed\u7a97\u53e3", command=self.add_booking)\n        self.B.pack(side=BOTTOM)\n\n    def add_booking(self):\n        new_name = self.E1.get()\n        new_author = self.E2.get()\n        new_comment = self.E3.get()\n        self.result_data_Text.delete(0.0, END)\n        new_book = Book(new_name, new_author, new_comment, "\u672a\u501f\u51fa")\n        self.books.append(new_book)\n        db.addmysql(new_name, new_author, new_comment, "\u672a\u501f\u51fa")  # \u5199\u5165\u6570\u636e\u5e93\n        self.result_data_Text.insert(1.0, new_name + "\u5f55\u5165\u6210\u529f\uff01\\n")\n\n    def check_book(self, name):\n        for book in self.books:\n            if book.name == name:\n                return book\n        else:\n            return None\n\n    def lend_book(self):\n        toplend = Tk()\n        toplend.title("\u501f\u9605(lend)")\n        toplend.geometry("330x50+450+30")\n        self.lendE1 = Entry(toplend, bd=5)\n        self.lendE1.pack(side=RIGHT)\n        self.lendB1 = Button(toplend, text="\u8f93\u5165\u4e66\u540d\uff0c\u8f93\u5165\u5b8c\u6bd5\u8bf7\u70b9\u51fb", command=self.lend_booking)\n        self.lendB1.pack(side=LEFT)\n\n    def lend_booking(self):\n        name = self.lendE1.get()\n        res = self.check_book(name)\n        self.result_data_Text.delete(0.0, END)\n        if res != None:\n            if res.state == "\u5df2\u501f\u51fa":\n                self.result_data_Text.insert(1.0, "\u4f60\u6765\u665a\u4e86\u4e00\u6b65\uff0c\u8fd9\u672c\u4e66\u5df2\u7ecf\u88ab\u501f\u8d70\u4e86\u5662")\n            else:\n                res.state = "\u5df2\u501f\u51fa"\n                db.changemysql("\u5df2\u501f\u51fa", res.name)\n                self.result_data_Text.insert(1.0, "\u501f\u9605\u6210\u529f\uff0c\u501f\u4e86\u4e0d\u770b\u4f1a\u53d8\u80d6\u5662\uff5e")\n        else:\n            self.result_data_Text.insert(1.0, "\u8fd9\u672c\u4e66\u6682\u65f6\u6ca1\u6709\u6536\u5f55\u5728\u7cfb\u7edf\u91cc\u5462")\n\n    def return_book(self):\n        topreturn = Tk()\n        topreturn.title("\u5f52\u8fd8(return)")\n        topreturn.geometry("330x50+450+30")\n        self.returnE1 = Entry(topreturn, bd=5)\n        self.returnE1.pack(side=RIGHT)\n        self.returnB1 = Button(\n            topreturn, text="\u8f93\u5165\u4e66\u540d\uff0c\u5b8c\u6bd5\u8bf7\u70b9\u51fb", command=self.return_booking\n        )\n        self.returnB1.pack(side=LEFT)\n\n    def return_booking(self):\n        name = self.returnE1.get()\n        res = self.check_book(name)  # \u8c03\u7528check_book\u65b9\u6cd5\uff0c\u5c06\u8fd4\u56de\u503c\u8d4b\u503c\u7ed9\u53d8\u91cfres\n        self.result_data_Text.delete(0.0, END)\n        if res == None:  # \u5982\u679c\u8fd4\u56de\u7684\u662f\u7a7a\u503c\uff0c\u5373\u8fd9\u672c\u4e66\u7684\u4e66\u540d\u4e0d\u5728\u7cfb\u7edf\u91cc\n            self.result_data_Text.insert(1.0, "\u6ca1\u6709\u8fd9\u672c\u4e66\u5662\uff0c\u4f60\u6050\u6015\u8f93\u9519\u4e86\u4e66\u540d\uff5e")\n        else:  # \u5982\u679c\u8fd4\u56de\u7684\u662f\u5b9e\u4f8b\u5bf9\u8c61\n            if res.state == "\u672a\u501f\u51fa":  # \u5982\u679c\u5b9e\u4f8b\u5c5e\u6027state\u7b49\u4e8e0\uff0c\u5373\u8fd9\u672c\u4e66\u7684\u501f\u9605\u72b6\u6001\u4e3a\'\u672a\u501f\u51fa\'\n                self.result_data_Text.insert(1.0, "\u8fd9\u672c\u4e66\u6ca1\u6709\u88ab\u501f\u8d70\uff0c\u5728\u7b49\u5f85\u6709\u7f18\u4eba\u7684\u5782\u9752\u5462\uff01")\n            else:  # \u5982\u679c\u5b9e\u4f8b\u5c5e\u6027state\u7b49\u4e8e1\uff0c\u5373\u72b6\u6001\u4e3a\'\u5df2\u501f\u51fa\'\n                self.result_data_Text.insert(1.0, "\u5f52\u8fd8\u6210\u529f\uff01")\n                res.state = "\u672a\u501f\u51fa"  # \u5f52\u8fd8\u540e\u4e66\u7c4d\u501f\u9605\u72b6\u6001\u4e3a0\uff0c\u91cd\u7f6e\u4e3a\'\u672a\u501f\u51fa\'\n                db.changemysql("\u672a\u501f\u51fa", res.name)\n\n\ndef gui_start():\n    db.bulildmysql()\n    init_window = Tk()  # \u5b9e\u4f8b\u5316\u51fa\u4e00\u4e2a\u7236\u7a97\u53e3\n    ZMJ_PORTAL = StrayLibrary(init_window)  # \u8bbe\u7f6e\u6839\u7a97\u53e3\u9ed8\u8ba4\u5c5e\u6027\n    ZMJ_PORTAL.set_init_window()\n    init_window.mainloop()  # \u7236\u7a97\u53e3\u8fdb\u5165\u4e8b\u4ef6\u5faa\u73af\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u4fdd\u6301\u7a97\u53e3\u8fd0\u884c\uff0c\u5426\u5219\u754c\u9762\u4e0d\u5c55\u793a\n\n\ngui_start()\n\n'})})]})}function h(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>o});var t=s(96540);const r={},i=t.createContext(r);function l(n){const e=t.useContext(i);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);