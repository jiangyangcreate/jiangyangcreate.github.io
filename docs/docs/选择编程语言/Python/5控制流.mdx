---
sidebar_position: 5
title: æ§åˆ¶æµ
---
:::info
ä»£ç å¸ƒå±€ä¸ä»…å½±å“å¯è¯»æ€§ï¼Œæ›´ä½“ç°äº†å¯¹ä»£ç è´¨é‡çš„æ€åº¦ã€‚ä¸€è‡´çš„ç¼©è¿›ã€é€‚å½“çš„ç©ºè¡Œã€åˆç†çš„è¡Œé•¿åº¦ï¼Œè¿™äº›ç»†èŠ‚å…±åŒæ„æˆäº†ä¼˜é›…çš„ Python ä»£ç ã€‚

- ä½¿ç”¨ 4 ä¸ªç©ºæ ¼è¿›è¡Œç¼©è¿›
- æ¯è¡Œä¸è¶…è¿‡ 79 ä¸ªå­—ç¬¦  
- ç”¨ç©ºè¡Œåˆ†éš”é¡¶çº§å‡½æ•°å’Œç±»å®šä¹‰

[PEP 8 â€“ Python ä»£ç é£æ ¼æŒ‡å—](https://peps.python.org/pep-0008/)
:::
## æ¡ä»¶åˆ¤æ–­

æ¡ä»¶åˆ¤æ–­æ˜¯ç¼–ç¨‹ä¸­éå¸¸åŸºç¡€ä¸”é‡è¦çš„æ¦‚å¿µï¼Œå®ƒå…è®¸æˆ‘ä»¬æ ¹æ®ä¸åŒçš„æ¡ä»¶æ‰§è¡Œä¸åŒçš„ä»£ç å—ã€‚

### if, elif, else

```python showLineNumbers
if condition:
    # å½“æ¡ä»¶ä¸ºçœŸæ—¶æ‰§è¡Œçš„ä»£ç å—
elif condition:
    # å½“æ¡ä»¶ä¸ºå‡æ—¶æ‰§è¡Œçš„ä»£ç å—
else:
    # å½“æ¡ä»¶éƒ½ä¸æ»¡è¶³æ—¶æ‰§è¡Œçš„ä»£ç å—

a = 62
print("exam score check:")
if a >= 60:
    print("student pass")
elif a == 0:
    print("student 0: not pass")
else:
    print("student not pass")
```

ä¸€ä¸ªä¾‹å­

```python showLineNumbers
year = 1900
if year % 400 == 0:
    print("This is a leap year!")
# ä¸¤ä¸ªæ¡ä»¶éƒ½æ»¡è¶³æ‰æ‰§è¡Œ
elif year % 4 == 0 and year % 100 != 0:
    print("This is a leap year!")
else:
    print("This is not a leap year.")
# This is not a leap year.

my_list = [1, 2]
# åˆ¤æ–­ä¸€ä¸ªåˆ—è¡¨æ˜¯å¦ä¸ºç©ºã€‚
if len(my_list) > 0:
    print("the first element is: ", my_list[0])
else:
    print("no element.")

```
:::info
ä¸‰å…ƒè¡¨è¾¾å¼æ˜¯ä¸€ç§ç®€æ´çš„æ¡ä»¶èµ‹å€¼æ–¹å¼ï¼Œç›¸å½“äºç®€åŒ–ç‰ˆçš„ if-else è¯­å¥ã€‚ä¸€è¡Œè¯­å¥å®ç°ä¸€ä¸ªæ¡ä»¶èµ‹å€¼ã€‚éå¸¸ Pythonicã€‚

```python showLineNumbers
expression1 if condition else expression2
```
å…¶ä¸­ `expression1` å’Œ `expression2` å¯ä»¥æ˜¯ä»»æ„è¡¨è¾¾å¼ï¼Œ`condition` æ˜¯ä»»æ„æ¡ä»¶è¡¨è¾¾å¼ã€‚

å½“ `condition` ä¸º True æ—¶ï¼Œè¿”å› `expression1`ï¼Œå¦åˆ™è¿”å› `expression2`ã€‚

```python showLineNumbers
# ä¸‹é¢é€šè¿‡æ‹¬å·ï¼ˆå¯çœï¼‰å°†åŒä¸ªè¡¨è¾¾å¼çš„éƒ¨åˆ†æ ‡æ³¨äº†å‡ºæ¥ï¼Œæ›´åŠ å¯è¯»ã€‚
x = -1
y = ("A") if (x > 0) else ("B")
print(y) # B
y = (x + 1) if (x > 0) else (x - 1)
print(y) # -2

# ç¤ºä¾‹ï¼šå°†è´Ÿæ•°è½¬ä¸º0ï¼Œæ­£æ•°ä¿æŒä¸å˜
numbers = [-3, -1, 0, 2, 5]
processed = [x if x >= 0 else 0 for x in numbers]
print(processed)  # [0, 0, 0, 2, 5]

# æ ¹æ®æ¡ä»¶è®¾ç½®ä¸åŒçš„å€¼
scores = [85, 92, 78, 96, 73]
grades = ['A' if score >= 90 else 'B' if score >= 80 else 'C' for score in scores]
print(grades)  # ['B', 'A', 'C', 'A', 'C']
```
:::

### pass è¯­å¥

`pass` æ˜¯ä¸€ä¸ªç©ºæ“ä½œè¯­å¥ï¼Œå®ƒä»€ä¹ˆéƒ½ä¸åšã€‚å½“è¯­æ³•ä¸Šéœ€è¦ä¸€ä¸ªè¯­å¥ï¼ˆåˆ¤æ–­ã€å¾ªç¯ã€å‡½æ•°ã€ç±»ç­‰è¯­å¥ä¸­ï¼‰ï¼Œä½†ç¨‹åºä¸éœ€è¦ä»»ä½•æ“ä½œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `pass`ã€‚

å®Œå…¨æ˜¯ä¸ºäº†æ»¡è¶³ Python çš„è¯­æ³•è¦æ±‚ï¼Œåœ¨å¼€å‘æ—¶ä¸´æ—¶å¡«å……ä»£ç ç»“æ„ï¼Œæˆ–è€…åœ¨æŸäº›æ§åˆ¶æµä¸­æ˜ç¡®è¡¨ç¤º"ä¸æ‰§è¡Œä»»ä½•æ“ä½œ"ã€‚

```python showLineNumbers
# æ¡ä»¶è¯­å¥ä¸­çš„å ä½ç¬¦
if 0 == 0:
    pass  # æš‚æ—¶ä¸å¤„ç†è¿™ç§æƒ…å†µ

# ç”¨ä½œå‡½æ•°å ä½ç¬¦
def my_function():
    pass  # ç¨åå®ç°
```

### assert è¯­å¥

`assert` è¯­å¥ç”¨äºè°ƒè¯•æ—¶çš„æ–­è¨€æ£€æŸ¥ã€‚åé¢å¯ä»¥è·Ÿä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼å’Œä¸€ä¸ªå¯é€‰çš„é”™è¯¯ä¿¡æ¯ã€‚

å®ƒä¼šæµ‹è¯•æ¡ä»¶è¡¨è¾¾å¼ï¼Œå¦‚æœæ¡ä»¶ä¸º `False`ï¼Œåˆ™æŠ›å‡º `AssertionError` å¼‚å¸¸ï¼Œå¹¶æ˜¾ç¤ºå¯é€‰çš„é”™è¯¯ä¿¡æ¯ã€‚

```python showLineNumbers
x = 1
y = 0
assert y != 0, "0 ä¸èƒ½ä½œä¸ºåˆ†æ¯"
print(x / y)
'''
è¾“å‡ºï¼š
AssertionError: 0 ä¸èƒ½ä½œä¸ºåˆ†æ¯
'''
```

### match, case è¯­å¥

:::info

å³ä¾¿ä½ ä»æœªå­¦ä¹ è¿‡ match, case è¯­å¥ï¼Œä½ ä¹Ÿå¯ä»¥è½»æ¾çš„çœ‹æ‡‚ match, case è¯­å¥çš„ç”¨æ³•ã€‚å®ƒæ˜¯æœ€å…·æœ‰å¯è¯»æ€§çš„æ¡ä»¶åˆ¤æ–­è¯­å¥ã€‚

[PEP 636 â€“ ç»“æ„åŒ¹é…ï¼šæ•™ç¨‹](https://peps.python.org/pep-0636/)
[PEP 635 - ç»“æ„åŒ¹é…ï¼šåŠ¨æœºå’ŒåŸºæœ¬åŸç†](https://peps.python.org/pep-0635/)
[PEP 634 â€“ ç»“æ„åŒ¹é…ï¼šè§„èŒƒ](https://peps.python.org/pep-0634/)
:::

å¦‚æœéœ€è¦å¯¹ä¸€ä¸ªè¡¨è¾¾å¼è¿›è¡Œå¤šä¸ªæ¡ä»¶çš„åˆ¤æ–­ï¼Œå¯ä»¥ä½¿ç”¨ match, case è¯­å¥ã€‚

match case åŒ¹é…è¯­æ³•æ›´ç®€æ´ã€åŒ¹é…æ—¶è‡ªåŠ¨ç»‘å®šå˜é‡ã€æ”¯æŒæ¨¡å¼ç»„åˆã€æ”¯æŒé€šé…ç¬¦ã€‚å°¤å…¶å¯¹ JSON æ•°æ®ç»“æ„è§£æéå¸¸å‹å¥½ã€‚

å½“å…¶æ»¡è¶³å¤šä¸ªæ¡ä»¶æ—¶ï¼Œä¼šä»ä¸Šåˆ°ä¸‹ä¾æ¬¡åˆ¤æ–­ï¼Œç›´åˆ°åŒ¹é…åˆ°ç¬¬ä¸€ä¸ªæ¡ä»¶ä¸ºæ­¢ã€‚

#### å­—é¢é‡ã€å€¼ã€é€šé…ç¬¦æ¨¡å¼

æœ€åŸºæœ¬çš„æ¨¡å¼åŒ¹é…ï¼Œç›´æ¥åŒ¹é…å…·ä½“çš„å€¼ã€‚

```python showLineNumbers
# å®šä¹‰ä¸€ä¸ªç±»ï¼Œç”¨äºåŒ¹é…å…·ä½“çš„å€¼
# ä»»ä½•å¸¦ç‚¹çš„åç§°ï¼ˆå³å±æ€§è®¿é—®ï¼‰åº”è¢«è§£é‡Šä¸ºå€¼æ¨¡å¼
class HTTPError:
    # å€¼ç›¸ç­‰å³å¯ï¼Œæ‰€ä»¥300å’Œ300.0æ˜¯å¯ä»¥åŒ¹é…æˆåŠŸçš„ã€‚
    E300 = 300.0

# åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`match` è¯­å¥å°† `status` ä¸æ¯ä¸ªæ¨¡å¼è¿›è¡Œæ¯”è¾ƒï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…çš„æ¨¡å¼ã€‚
def http_error(status):
    match status:
        # ä»£ç å½¢å¼ä¸Šä» `if status == 400:` å˜æˆäº† `case 400:` ï¼Œæ›´åŠ ç®€æ´ã€‚
        case 400:
            return "Bad request"
        case 404:
            return "Not found"
        # ä»»ä½•å¸¦ç‚¹çš„åç§°ï¼ˆå³å±æ€§è®¿é—®ï¼‰åº”è¢«è§£é‡Šä¸ºå€¼æ¨¡å¼ï¼ˆ
        # å¦‚æœæˆ‘å†™case a:ï¼Œé‚£ä¹ˆaä¼šè¢«è§£é‡Šä¸ºæ•è·æ¨¡å¼ï¼Œè€Œä¸æ˜¯å€¼æ¨¡å¼
        # åŒæ—¶ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå˜é‡statusï¼Œæ€»æ˜¯èƒ½ä¸aåŒ¹é…ï¼Œé‚£ä¹ˆè¿™åˆæ˜¯ä¸€ä¸ªæ— æ³•è¾©é©³çš„è¡¨è¾¾å¼
        case HTTPError.E300:
            return "Redirection"
        case _:
            return "Something's wrong with the internet"


for code in [400, 404, 300,  900]:
    print(code, http_error(code))
'''
è¾“å‡ºï¼š
400 Bad request
404 Not found
300 Redirection
Something's wrong with the internet
'''
# è¿™é‡Œä¼šæŠ¥é”™ï¼Œå› ä¸º _ ä¸ç»‘å®šä»»ä½•å˜é‡
print(_) # NameError: name '_' is not defined
```

è¿™ç§å†™æˆ _ï¼ˆç§°ä¸ºé€šé…ç¬¦ï¼‰çš„ç‰¹æ®Šæ¨¡å¼æ€»æ˜¯åŒ¹é…ï¼Œä½†å®ƒ<Highlight>ä¸ç»‘å®šä»»ä½•å˜é‡</Highlight>ã€‚

æ€»æ˜¯èƒ½æˆåŠŸåŒ¹é…çš„è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬ç§°å…¶ä¸º<Highlight>æ— å¯è¾©é©³çš„</Highlight>ã€‚

å› æ­¤ï¼Œåªæœ‰å°†<Highlight>æ— å¯è¾©é©³çš„è¡¨è¾¾å¼å•ç‹¬ä½œä¸ºæœ€åä¸€ä¸ªæ¨¡å¼æ‰æœ‰æ„ä¹‰ï¼ˆä¸ºäº†é˜²æ­¢é”™è¯¯ï¼ŒPython ä¼šé˜»æ­¢æ‚¨ä¹‹å‰ä½¿ç”¨å®ƒï¼‰ã€‚</Highlight>

å¦‚æœæŠŠå®ƒæ”¾åœ¨å…¶ä»– case ä¹‹å‰ï¼Œé‚£ä¹ˆåé¢çš„ case å—å°±æ°¸è¿œæ²¡æœ‰æœºä¼šè¢«æ‰§è¡Œåˆ°ï¼Œè¿™ä¼šä½¿å¾—ä»£ç é€»è¾‘å˜å¾—æ— æ•ˆæˆ–äº§ç”Ÿé—®é¢˜ã€‚

:::tip

æ•è·å¤šä¸ªå…ƒç´ å¯ä»¥ä½¿ç”¨`*å˜é‡å`ï¼Œ`*å˜é‡å`å±äºå¸¸è§çš„æ•è·ä¸å®šé•¿çš„æ•°æ®çš„å†™æ³•ã€‚

`*_` åœ¨è¿™é‡Œè¡¨ç¤ºåŒ¹é…å¤šä¸ªä»»æ„å…ƒç´ å¹¶ä¸ç»‘å®šä»»ä½•å˜é‡ï¼Œæ‰€ä»¥è¿™é‡Œæ”¹ä¸º`*anything`ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚

```python showLineNumbers
def is_closed(sequence):
    match sequence:
        case [_]:               # any sequence with a single element
            return True
        # *_ è¡¨ç¤ºåŒ¹é…å¤šä¸ªå…ƒç´ ï¼Œä½†ä¸ç»‘å®šä»»ä½•å˜é‡
        case [start, *_, end]:  # a sequence with at least two elements
            return start == end
        case _:                 # anything
            return False

print(is_closed([9]))      # True
print(is_closed([9,10,9])) #True
print(is_closed([9,10,10,9])) #True
print(is_closed([9,10]))   # False
```
:::


#### ç±»æ¨¡å¼

ç±»æ¨¡å¼æ£€æŸ¥ç»™å®šçš„ä¸»é¢˜æ˜¯å¦ç¡®å®æ˜¯ä¸€ä¸ªç‰¹å®šç±»ã€æˆ–ç±»çš„å®ä¾‹ã€‚

- å®ƒé¦–å…ˆæ£€æŸ¥è¢«åŒ¹é…çš„å¯¹è±¡æ˜¯å¦æ˜¯ç±» C çš„å®ä¾‹ï¼ˆæˆ–è€…æ˜¯å…¶å­ç±»çš„å®ä¾‹ï¼‰ã€‚

- å¦‚æœåŒ¹é…ï¼Œå®ƒä¼šè¿›ä¸€æ­¥æ£€æŸ¥è¯¥å®ä¾‹æ˜¯å¦æ‹¥æœ‰åç§°ä¸º attr1ã€attr2 ç­‰çš„å±æ€§ã€‚

- æœ€åï¼Œå®ƒä¼šæ£€æŸ¥è¿™äº›å±æ€§çš„å€¼æ˜¯å¦ä¸æ¨¡å¼ä¸­çš„ value1ã€value2 ç­‰å­—é¢é‡æˆ–æ¨¡å¼åŒ¹é…ã€‚

```python showLineNumbers
class Custom:
    def __init__(self,x,y):
        self.x = x
        self.y = y

def simplify(expr):
    match expr:
        case int():
            return "int"
        case str("1"):
            return "str1"
        case str():
            return "str"
        case Custom(x=0,y=0):
            return "Custom"
        # ä¸€ä¸ªæµ®ç‚¹æ•°ç»è¿‡floatè½¬æ¢åç­‰äºè‡ªèº«
        case float(expr):
            return "float"

print(simplify(1)) # int
print(simplify("1")) # str_str_1
print(simplify("2")) # str
print(simplify(Custom(0,0))) # Custom
print(simplify(10.1)) # float
```

#### OR æ¨¡å¼ ä¸ ç»„æ¨¡å¼

ä½¿ç”¨ `|` ç¬¦å·å¯ä»¥åŒ¹é…å¤šä¸ªæ¨¡å¼ä¸­çš„ä»»æ„ä¸€ä¸ªï¼š

```python showLineNumbers
def simplify(expr):
    match expr:
        case 400|404|500:
            return 'ç½‘ç»œé”™è¯¯'
        case ('*'|'/', 0, _):
            return 0
        # ç»„æ¨¡å¼å…è®¸ç”¨æˆ·æ˜¾å¼æŒ‡å®šåˆ†ç»„ï¼Œä¸€ä¸ªæ‹¬å·å°±ä»£è¡¨ä¸€ä¸ªç»„ï¼Œç»„å†…å…ƒç´ å¯ä»¥ä½¿ç”¨ OR æ¨¡å¼
        case ('+'|'-', x, 0) | ('+', 0, x):
            return x
    return expr

print(simplify(400))  # ç½‘ç»œé”™è¯¯
print(simplify(("*",0,9)))    # 0
print(simplify(("+",0,9)))    # 9
```

#### æ•è·æ¨¡å¼

æ•è·æ¨¡å¼çš„å½¢å¼ä¸ºä¸€ä¸ªåç§°ï¼Œå®ƒæ¥å—ä»»ä½•å€¼å¹¶å°†å…¶ç»‘å®šåˆ°ä¸€ä¸ªå˜é‡ã€‚

```python showLineNumbers
# ä¼ å…¥çš„æ˜¯ä¸å®šé•¿å‚æ•°å…ƒç»„
def average(*args):
    match args:
        # è¿™é‡Œçš„ x,y å˜é‡ç±»ä¼¼äºå‡½æ•°çš„å½¢å‚
        case [x, y]:           # captures the two elements of a sequence
            return (x + y) / 2
        case [x]:              # captures the only element of a sequence
            return x
        case []:
            return 0
        case a:                # captures the entire sequence
            print(a) 
            return sum(a) / len(a)
print(average())            # 0
print(average(1, 2, 3, 4))  # 2.5
```

#### AS æ¨¡å¼

AS æ¨¡å¼å®ƒä»¬å…è®¸ç”¨æˆ·æŒ‡å®šä¸€ä¸ªé€šç”¨æ¨¡å¼ï¼ŒåŒæ—¶å°†ä¸»é¢˜æ•è·åˆ°ä¸€ä¸ªå˜é‡ä¸­ã€‚

```python showLineNumbers
# ä¸º AS æ¨¡å¼ç¤ºä¾‹å®šä¹‰å¿…è¦çš„ç±»
class UnaryOp:
    def __init__(self, op, operand):
        self.op = op
        self.operand = operand
    
    def __repr__(self):
        return f"UnaryOp({self.op}, {self.operand})"

class Num:
    def __init__(self, value):
        self.value = value
    
    def __repr__(self):
        return f"Num({self.value})"

def simplify_expr(tokens):
    match tokens:
        case [('('|'[') as l, *expr, (')'|']') as r] if (l+r) in ('()', '[]'):
            return simplify_expr(expr)
        case [0, ('+'|'-') as op, right]:
            return UnaryOp(op, right)
        case [
            (int() | float() as left) | Num(left), 
            '+',
            (int() | float() as right) |Num(right)
            ]:
            return Num(left + right)
        case [(int() | float()) as value]:
            return Num(value)

print(simplify_expr(['(', 5, ')']))           # Num(5)
print(simplify_expr([0, '+', 10]))            # UnaryOp(+, 10)
print(simplify_expr([3, '+', 7]))             # Num(10)
print(simplify_expr([5]))                     # Num(5)
```

#### åºåˆ—æ¨¡å¼

åŒ¹é…åˆ—è¡¨ã€å…ƒç»„ç­‰åºåˆ—ç±»å‹ï¼Œå¹¶å¯ä»¥è§£æ„èµ‹å€¼ï¼š

```python showLineNumbers
def sort(seq):  # å®šä¹‰æ’åºå‡½æ•°ï¼Œå‚æ•°ä¸ºè¦æ’åºçš„åºåˆ—
    match seq:      # ä½¿ç”¨matchè¯­å¥å¯¹åºåˆ—è¿›è¡Œæ¨¡å¼åŒ¹é…
        # ä½ å¯ä»¥ä½¿ç”¨ | ï¼ˆâ€œ or â€ï¼‰åœ¨ä¸€ä¸ªæ¨¡å¼ä¸­ç»„åˆå‡ ä¸ªå­—é¢å€¼æˆ–æ¨¡å¼
        # åŒ¹é…ç©ºåˆ—è¡¨æˆ–å•å…ƒç´ åˆ—è¡¨çš„æƒ…å†µ(æ³¨æ„ï¼šåŒä¸ª | è¯­å¥ä¸­ï¼Œç»‘å®šå˜é‡æˆ–ä¸ç»‘å®šå˜é‡è¦ä¸€è‡´)
        case [] | [_]:              
        # è¿™é‡Œ _ ä¸ç»‘å®šä»»ä½•å˜é‡ï¼Œå› æ­¤å¯ä»¥åŒ¹é…ç©ºåˆ—è¡¨æˆ–å•å…ƒç´ åˆ—è¡¨
        # å¦‚æœè¿™é‡Œå†™æˆ [] | [x]ï¼Œåˆ™ä¼šæŠ¥é”™ï¼Œå› ä¸º | ä¹‹å‰ä¸ç»‘å®šå˜é‡ï¼Œæ‰€æœ‰åé¢çš„è¯­å¥ä¹Ÿä¸èƒ½ç»‘å®šå˜é‡
            return seq              # ç©ºåˆ—è¡¨å’Œå•å…ƒç´ åˆ—è¡¨å·²ç»æœ‰åºï¼Œç›´æ¥è¿”å›
        # åŒæ ·ä¸‹é¢çš„2ç§å†™æ³•ä¹Ÿæ˜¯ä¸å…è®¸çš„ï¼Œå› ä¸ºå‰è€…ç»‘å®šäº†å˜é‡ä¸ºxï¼Œåè€…ä¸èƒ½ç»‘å®šå˜é‡ä¸ºéxï¼ˆä¸è®ºæ˜¯å¦å¤„äºç›¸åŒä½ç½®ï¼‰
        # case [0,x] | [0,y]: # æŠ¥é”™
        # case [0,x] | [y,0]: # æŠ¥é”™
        # åˆæ³•ï¼Œå› ä¸ºå‰è€…åè€…éƒ½ç»‘å®šåŒä¸€ä¸ªå˜é‡
        # case [0,x] | [x,0]: 
        #     pass
        # ä½¿ç”¨ if è¡¨è¾¾å¼ ç»“åˆ case ï¼ŒåŒ¹é…ä¸¤ä¸ªå…ƒç´ ä¸”å·²ç»å‡åºæ’åˆ—çš„æƒ…å†µ
        case [x, y] if x <= y:      
            return seq              # å·²ç»æœ‰åºï¼Œç›´æ¥è¿”å›åŸåºåˆ—
        # åŒ¹é…ä¸¤ä¸ªå…ƒç´ ä½†éå‡åºçš„æƒ…å†µï¼ˆå› ä¸ºå‰è€…å·²ç»åŒ¹é…äº†å‡åºçš„æƒ…å†µï¼‰
        case [x, y]:                
            return [y, x]           # äº¤æ¢ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®å¹¶è¿”å›
        # ä½¿ç”¨ if è¡¨è¾¾å¼ ç»“åˆ case ï¼ŒåŒ¹é…ä¸‰ä¸ªå…ƒç´ ä¸”å·²ç»å‡åºæ’åˆ—çš„æƒ…å†µ
        case [x, y, z] if x <= y <= z:  
            return seq                  # å·²ç»æœ‰åºï¼Œç›´æ¥è¿”å›åŸåºåˆ—
        # ä½¿ç”¨ if è¡¨è¾¾å¼ ç»“åˆ case ï¼ŒåŒ¹é…ä¸‰ä¸ªå…ƒç´ ä¸”å®Œå…¨é™åºæ’åˆ—çš„æƒ…å†µ
        case [x, y, z] if x >= y >= z:  
            return [z, y, x]            # å®Œå…¨åè½¬åºåˆ—å¹¶è¿”å›
        # åŒ¹é…åŒ…å«å¤šä¸ªå…ƒç´ çš„åºåˆ—ï¼Œpä¸ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œrestä¸ºå‰©ä½™å…ƒç´ 
        case [p, *rest]:                
            a = sort([x for x in rest if x <= p])  # é€’å½’æ’åºå°äºç­‰äºpivot(p)çš„å…ƒç´ 
            b = sort([x for x in rest if p < x])   # é€’å½’æ’åºå¤§äºpivot(p)çš„å…ƒç´ 
            return a + [p] + b                     # åˆå¹¶ç»“æœï¼šå°äºç­‰äºpçš„å…ƒç´  + p + å¤§äºpçš„å…ƒç´ 


print(sort([])) 
print(sort([3, 2]))      
print(sort([10, 2, 3])) 

"""
[]
[2, 3]
[2, 3, 10]
"""
```

#### æ˜ å°„æ¨¡å¼

åŒ¹é…å­—å…¸ç±»å‹ï¼Œéå¸¸é€‚åˆå¤„ç† JSON æ•°æ®ï¼š

```python showLineNumbers
def change_red_to_blue(json_obj):
    match json_obj:
        case { 'color': ('red' | '#FF0000') }:
            json_obj['color'] = 'blue'
        case { 'children': children }:
            for child in children:
                change_red_to_blue(child)
    return json_obj
 
print(change_red_to_blue({'color': 'red'})) # {'color': 'blue'}
print(change_red_to_blue({'color': '#FF0000'})) # {'color': 'blue'}
print(change_red_to_blue({'children': [{'color': 'red'}, {'color': '#FF0000'}]})) # {'children': [{'color': 'blue'}, {'color': 'blue'}]}
```

#### å®ˆå«æ¡ä»¶ (Guard)

å®ˆå«é€šè¿‡ä»»æ„è¡¨è¾¾å¼ï¼ˆè¿™äº›è¡¨è¾¾å¼å¯èƒ½æœ‰å‰¯ä½œç”¨ï¼‰ä»¥é«˜åº¦å¯æ§çš„æ–¹å¼å¢å¼º case å—ã€‚å°†æ•´ä½“åŠŸèƒ½åˆ†ä¸ºé™æ€ç»“æ„å’ŒåŠ¨æ€è¯„ä¼°éƒ¨åˆ†ä¸ä»…æœ‰åŠ©äºæé«˜å¯è¯»æ€§ï¼Œè¿˜å¯ä»¥ä¸ºç¼–è¯‘å™¨ä¼˜åŒ–å¼•å…¥å·¨å¤§çš„æ½œåŠ›ã€‚

ä¸ºäº†ä¿æŒè¿™ç§æ¸…æ™°çš„åˆ†ç¦»ï¼Œå®ˆå«ä»…åœ¨ case å­å¥çº§åˆ«å¾—åˆ°æ”¯æŒï¼Œè€Œä¸æ˜¯é’ˆå¯¹å•ä¸ªæ¨¡å¼ã€‚

```python showLineNumbers
def sort(seq):
    match seq:
        case [] | [_]:
            return seq
        case [x, y] if x <= y:
            return seq
        case [x, y]:
            return [y, x]
        case [x, y, z] if x <= y <= z:
            return seq
        case [x, y, z] if x >= y >= z:
            return [z, y, x]
        case [p, *rest]:
            a = sort([x for x in rest if x <= p])
            b = sort([x for x in rest if p < x])
            return a + [p] + b
```



## å¾ªç¯

å¾ªç¯æ˜¯ç¼–ç¨‹ä¸­å¦ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼Œå®ƒå…è®¸æˆ‘ä»¬é‡å¤æ‰§è¡Œä¸€æ®µä»£ç ã€‚


### for å¾ªç¯

```python showLineNumbers
# for å¾ªç¯
total = 0
for i in range(100000):
    total += i
print(total)  # 4999950000
```

### while å¾ªç¯

```python showLineNumbers
while <condition>:
     <statesments>
```

Python ä¼šå¾ªç¯æ‰§è¡Œ**statesments**ï¼Œç›´åˆ°**condition**ä¸æ»¡è¶³ä¸ºæ­¢ã€‚

```python showLineNumbers
i = 0
total = 0
while i <= 100:
    total += i
    i += 1
print(total)  # 5050
```

ä¸¾ä¸ªä¾‹å­ï¼Œé€šè¿‡ while éå†é›†åˆï¼š

```python showLineNumbers
# ç©ºå®¹å™¨ä¼šè¢«å½“æˆFalseï¼Œå› æ­¤å¯ä»¥ç”¨whileå¾ªç¯è¯»å–å®¹å™¨çš„æ‰€æœ‰å…ƒç´ 
plays = set(['Hamlet', 'Mac', 'King'])
while plays:
    play = plays.pop()
    print('Perform', play)
```

### continue è¯­å¥

é‡åˆ° continue çš„æ—¶å€™ï¼Œç¨‹åºä¼šè¿”å›åˆ°å¾ªç¯çš„æœ€å¼€å§‹é‡æ–°æ‰§è¡Œã€‚

```python showLineNumbers
values = [7, 6, 4, 7, 19, 2, 1]
for i in values:
    if i % 2 != 0:
        # å¿½ç•¥å¥‡æ•°
        continue
    print(i)
# 6
# 4
# 2
```

### break è¯­å¥

é‡åˆ° break çš„æ—¶å€™ï¼Œç¨‹åºä¼šè·³å‡ºå¾ªç¯ï¼Œä¸ç®¡å¾ªç¯æ¡ä»¶æ˜¯ä¸æ˜¯æ»¡è¶³

```python showLineNumbers
command_list = ['start',
                '1',
                '2',
                '3',
                '4',
                'stop',
                'restart',
                '5',
                '6']
while command_list:
    command = command_list.pop(0)
    if command == 'stop':
        break
    print(command)
# start
# 1
# 2
# 3
# 4

```


## å¼‚å¸¸å¤„ç†

### try & except &finally

`try`ä¸èƒ½å•ç‹¬æ‰§è¡Œï¼Œå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§æƒ…å†µï¼š

- `try`  + å¤§äºç­‰äº1ä¸ª`except` 
- `try`  + å¤§äºç­‰äº1ä¸ª`except`  + `finally` 
- `try`  + `finally` 
:::tip
åœ¨ æ ‡å‡† çš„ `try...except` ç»“æ„ä¸­ï¼Œé€šå¸¸åªä¼šè§¦å‘ä¸€ä¸ª `except` å—ã€‚

ä¸€ä¸ª`except`å¯ä»¥æ•æ‰å¤šä¸ªå¼‚å¸¸ç±»å‹(å†™ä¸ºå…ƒç»„æ ¼å¼ï¼ŒPython3.14ç‰ˆæœ¬ä¹‹å‰éœ€ä½¿ç”¨æ‹¬å·)ã€‚

æ•è·åˆ°çš„å¼‚å¸¸å¯ä»¥è¢«`as`åˆ«åæ•è·ï¼Œä¾¿äºä½¿ç”¨ï¼ˆä¾‹å¦‚è®°å½•åˆ°æ—¥å¿—ç­‰ï¼‰ã€‚
:::

```python showLineNumbers
for input_str in ['æ–‡å­—','0','1']:
    try:
        # è½¬æ¢ä¸ºæ•°å­—å¹¶è¿›è¡Œé™¤æ³•è¿ç®—
        num1 = num2 = float(input_str)
        print(f"{num1} Ã· {num2} = {num1 / num2}")
    except (ValueError,KeyboardInterrupt) as e:
        print("æ²¡æœ‰è¾“å…¥æœ‰æ•ˆçš„æ•°å­—æˆ–ç¨‹åºè¢«ä¸­æ–­ï¼",e)
    except ZeroDivisionError:
        print("é™¤æ•°ä¸èƒ½ä¸º0ï¼")

"""
æ²¡æœ‰è¾“å…¥æœ‰æ•ˆçš„æ•°å­—æˆ–ç¨‹åºè¢«ä¸­æ–­ï¼ could not convert string to float: 'æ–‡å­—'
é™¤æ•°ä¸èƒ½ä¸º0ï¼
1.0 Ã· 1.0 = 1.0
"""
```

ä¸ç®¡ `try` å—æœ‰æ²¡æœ‰å¼‚å¸¸ï¼Œ `finally` å—çš„å†…å®¹æ€»æ˜¯ä¼šè¢«æ‰§è¡Œï¼Œè€Œä¸”ä¼šåœ¨æŠ›å‡ºå¼‚å¸¸å‰æ‰§è¡Œï¼Œå› æ­¤å¯ä»¥ç”¨æ¥ä½œä¸ºå®‰å…¨ä¿è¯ï¼Œæ¯”å¦‚æ–‡ä»¶æ“ä½œæ—¶ï¼Œå¸¸åœ¨ `finally` å…³é—­æ–‡ä»¶ã€‚

æœ‰æ—¶å€™ä½ å¸Œæœ›ä¸æ•è·å¼‚å¸¸ï¼Œè®©å¼‚å¸¸æ­£å¸¸å‘ä¸Šä¼ æ’­ï¼Œä½†ç¡®ä¿æ¸…ç†ä»£ç ä¸€å®šæ‰§è¡Œã€‚å¯ä»¥ç»“åˆ `try` å’Œ `finally` æ¥å®ç°ã€‚

```python showLineNumbers
def process_file(filename):
    f = open(filename, 'r')
    try:
        # ä¸ç®¡è¿™é‡Œå‡ºç°ä»€ä¹ˆå¼‚å¸¸ï¼Œéƒ½è¦å…³é—­æ–‡ä»¶
        data = f.read()
        result = complex_processing(data)  # å¯èƒ½æŠ›å‡ºå„ç§å¼‚å¸¸
        return result
    finally:
        f.close()  # ç¡®ä¿æ–‡ä»¶è¢«å…³é—­
        print("æ–‡ä»¶å·²å…³é—­")
    # å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œä¼šåœ¨finallyæ‰§è¡Œåç»§ç»­å‘ä¸ŠæŠ›å‡º
```

:::warning

frameå¯¹exceptçš„å½±å“

ä»¥ä¸‹ä»£ç åœ¨ Python3.14.0rc0 ä¸­ä¾ç„¶å­˜åœ¨ã€‚

```python showLineNumbers
e = 1
try:
    0/0 # æ­¤å¤„ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå› ä¸º0ä¸èƒ½è¢«0é™¤
except Exception as e:
    # æ­¤å¤„ä¼šå¯¹è¦†ç›–eï¼Œå¹¶åˆ é™¤e
    print(f'error info :{e}ï¼')
print(e)
'''
è¾“å‡ºï¼š
error info :division by zeroï¼
Traceback (most recent call last):
  File "c:\Users\jiang\Desktop\todo\1.py", line 7, in <module>
    print(e)
          ^
NameError: name 'e' is not defined
'''
```

ä¸‹é¢çš„ä»£ç æ›´æœ‰å¯èƒ½åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å‡ºç°ï¼ŒåŸç†ç›¸åŒï¼ŒæŠ¥é”™ä¿¡æ¯åŒæ ·ä¸ºï¼š`NameError: name 'e' is not defined`

```python showLineNumbers
try:
    e = eval(input("please input 0/0:"))
except Exception as e:
    pass
finally:
    print(e)
```
:::

:::info
ç”±äº `finally` çš„ç‰¹æ€§ï¼Œç›®å‰3.14ç‰ˆæœ¬ä¸­`finally`å—ä¸­`return`ã€`break`ã€`continue`è¯­å¥éƒ½ç®—è¯­æ³•é”™è¯¯ã€‚

ä¸‹é¢æ˜¯ä¸€äº›å±é™©çš„ä¾‹å­ã€‚

```python showLineNumbers
# è¿”å›å€¼è¢«æ„å¤–è¦†ç›–
# æ— è®ºè®¡ç®—æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œæœ€ç»ˆéƒ½ä¼šè¿”å›-1
def calculate_score(user_id):
    try:
        score = expensive_calculation(user_id)
        return score  # æ¯”å¦‚è¿”å›95åˆ†
    except Exception as e:
        logger.error(f"è®¡ç®—ç”¨æˆ·{user_id}åˆ†æ•°æ—¶å‡ºé”™: {e}")
        return 0  # å‡ºé”™æ—¶è¿”å›0åˆ†
    finally:
        return -1  # ğŸš¨ å±é™©ï¼æ€»æ˜¯è¿”å›-1ï¼Œè¦†ç›–å‰é¢çš„è¿”å›å€¼

# å¼‚å¸¸è¢«æ„å¤–åå™¬
# è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå†…å­˜é”™è¯¯æ²¡æœ‰è¢«æŠ›å‡ºï¼Œè€Œæ˜¯è¢«åå™¬äº†ï¼
def dangerous_file_operation():
    try:
        # æ¨¡æ‹Ÿä¸€äº›å¯èƒ½å‡ºé”™çš„æ“ä½œ
        raise ValueError("æ•°æ®å¤„ç†é”™è¯¯")
    except ValueError as e:
        print(f"æ•°æ®å¤„ç†é”™è¯¯: {e}")
        # æƒ³è¦å°†å¼‚å¸¸å†™å…¥æ•°æ®åº“ï¼Œä½†æ˜¯æ•°æ®åº“æŠ¥å†…å­˜é”™è¯¯
        raise MemoryError("å†…å­˜é”™è¯¯")
    finally:
        print("finally")
        return "default_value" 
dangerous_file_operation()
```
:::


### except* ä¸ ExceptionGroup

å½“éœ€è¦å¼•å‘å¤šä¸ªä¸ç›¸å…³çš„å¼‚å¸¸æ—¶ï¼Œ<Highlight>`ExceptionGroup`</Highlight>è¢«ä½¿ç”¨ã€‚ï¼ˆåç»­è¡¨è¿°ä¸­**å¼‚å¸¸ç»„**ä¸`ExceptionGroup`ç­‰ä»·ï¼‰

`ExceptionGroup`æ˜¯å¼‚å¸¸å±‚æ¬¡ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯`Exception`å¼‚å¸¸çš„å­ç±»ï¼Œå› æ­¤å¯ä»¥åƒæ‰€æœ‰å…¶ä»–å¼‚å¸¸ä¸€æ ·ä½¿ç”¨ `except` è¿›è¡Œå¤„ç†ã€‚

```python showLineNumbers
try:
    raise ExceptionGroup("test", [ValueError("test1"),ZeroDivisionError("test2")])
except ExceptionGroup :
    print('ExceptionGroup') # å¤„ç†ValueErrorå¼‚å¸¸
"""
ExceptionGroup
"""
```

æ­¤å¤–ï¼Œå®ƒä»¬è¢« `except*` è¯†åˆ«ï¼Œè¯¥è¯†åˆ«å™¨æ ¹æ®æ‰€åŒ…å«å¼‚å¸¸çš„ç±»å‹åŒ¹é…å®ƒä»¬çš„å­ç»„ã€‚

:::tip
`except*` å’Œ `except` ä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚

ä½¿ç”¨`except*`æ—¶ï¼Œæ¯ä¸ªè¢«`except*`æ•è·çš„1ä¸ªæˆ–å¤šä¸ªå¼‚å¸¸éƒ½ä¼šè¢«æŠ›å‡ºä¸ºä¸€ä¸ªæ–°çš„å¼‚å¸¸ç»„(åŒ…å«è¢«æ•è·çš„ä¸€ä¸ªæˆ–å¤šä¸ªå¼‚å¸¸)ã€‚å‰©ä¸‹çš„å¼‚å¸¸ä½œä¸ºä¸€ä¸ªå¼‚å¸¸ç»„ç»§ç»­ä¸`except*`åŒ¹é…ã€‚

ç›´åˆ°åŒ¹é…ç»“æŸå¦‚æœè¿˜æœ‰å¼‚å¸¸ï¼Œåˆ™è¿™äº›å‰©ä¸‹å¼‚å¸¸ä¼šç»§ç»­è¢«æŠ›å‡ºä¸ºä¸€ä¸ª`ExceptionGroup`ã€‚
:::

```python showLineNumbers
try:
    raise ExceptionGroup("test", [ValueError("test1"),ZeroDivisionError("test2"),MemoryError("test3"),SyntaxError("test4")])
except* ValueError as e:
    # è¿™é‡Œçš„ e æ˜¯ä¸€ä¸ªæ–°çš„ ExceptionGroup
    print('ValueError:',e) # å¤„ç†ValueErrorå¼‚å¸¸
except* ZeroDivisionError as e:
    # è¿™é‡Œçš„ e æ˜¯ä¸€ä¸ªæ–°çš„ ExceptionGroup
    print('ZeroDivisionError:', e)
except* Exception as e:
    print('Exception:',e) # å¤„ç†Exceptionå¼‚å¸¸
"""
ValueError: test (1 sub-exception)
ZeroDivisionError: test (1 sub-exception)
Exception: test (2 sub-exceptions)
"""
```

æ•è·åˆ°å¼‚å¸¸ç»„ä¹‹åï¼Œå¯ä»¥å¯¹å¼‚å¸¸ç»„åšè¿›ä¸€æ­¥æ‹†åˆ†å¤„ç†ã€‚ä»¥æ˜¯æ‰€æœ‰`ExceptionGroup`çš„å±æ€§å’Œæ–¹æ³•ã€‚

```python showLineNumbers
try:
    raise ExceptionGroup("test", [ValueError("test1"),ZeroDivisionError("test2"),MemoryError("test3"),SyntaxError("test4")])
except* ValueError as e:
    # å¼‚å¸¸ç»„.message æ˜¯è¯¥å¼‚å¸¸ç»„çš„æè¿°ï¼Œå³"test"
    print(e.message) # test
    # å¼‚å¸¸ç»„.exceptions æ˜¯è¯¥å¼‚å¸¸ç»„çš„å­å¼‚å¸¸å…ƒç»„
    for exc in e.exceptions:
        print(exc) # test1
except* ZeroDivisionError as e:
    # å¼‚å¸¸ç»„.subgroup(condition)è¿”å›ä¸€ä¸ªä»…åŒ…å«å½“å‰ç»„ä¸­ä¸ condition åŒ¹é…çš„å¼‚å¸¸çš„å¼‚å¸¸ç»„ï¼Œå¦‚æœç»“æœä¸ºç©ºï¼Œåˆ™è¿”å› None ã€‚
    print(e.subgroup(EncodingWarning)) # None
    print(e.subgroup(ZeroDivisionError)) # test (1 sub-exception)
except* Exception as e:
    # å¼‚å¸¸ç»„.split(condition)ç±»ä¼¼äº subgroup() ï¼Œä½†è¿”å› (match, rest) å¯¹ï¼Œå…¶ä¸­ match æ˜¯åŒ¹é…éƒ¨åˆ†ï¼Œ rest æ˜¯å‰©ä½™çš„éåŒ¹é…éƒ¨åˆ†ã€‚
    print(e.split(MemoryError)) 
    # (ExceptionGroup('test', [MemoryError('test3')]), ExceptionGroup('test', [SyntaxError('test4')]))

    """
    å¼‚å¸¸ç»„.derive(excs)è¿”å›ä¸€ä¸ªä¸å¼‚å¸¸ç»„å…·æœ‰ç›¸åŒ message çš„å¼‚å¸¸ç»„ï¼Œä½†å°†å¼‚å¸¸åŒ…è£…åœ¨ excs ä¸­ã€‚
    æ­¤æ–¹æ³•ä¸€èˆ¬ä¸ç›´æ¥è°ƒç”¨ï¼Œè€Œæ˜¯ç”±ä¹‹å‰çš„ subgroup() å’Œ split() ä½¿ç”¨

    new_error_Group = e.derive([EncodingWarning("test5"),SyntaxError("test6")])
    å‡ ä¹ç­‰ä»·äºï¼Œ
    new_error_Group = ExceptionGroup(e.message, [EncodingWarning("test5"),SyntaxError("test6")])
    """

"""
test
test1
None
test (1 sub-exception)
(ExceptionGroup('test', [MemoryError('test3')]), ExceptionGroup('test', [SyntaxError('test4')]))
"""
```

### raise è¯­å¥

`raise` è¯­å¥ç”¨äºä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸ã€‚å®ƒå¯ä»¥æŠ›å‡ºå†…ç½®å¼‚å¸¸æˆ–è‡ªå®šä¹‰å¼‚å¸¸ï¼Œè®©ç¨‹åºçš„é”™è¯¯å¤„ç†æ›´åŠ ç²¾ç¡®å’Œå¯æ§ã€‚

:::tip
raise è¯­å¥çš„ä¸‰ç§åŸºæœ¬ç”¨æ³•ï¼š
1. `raise` - é‡æ–°æŠ›å‡ºå½“å‰å¼‚å¸¸
2. `raise Exception` - æŠ›å‡ºæŒ‡å®šç±»å‹çš„å¼‚å¸¸
3. `raise Exception("message")` - æŠ›å‡ºå¸¦æœ‰é”™è¯¯ä¿¡æ¯çš„å¼‚å¸¸
:::

```python showLineNumbers
class CustomError(Exception):
    """è‡ªå®šä¹‰å¼‚å¸¸ç±»"""
    pass

def login(username, password):
    if not username:
        # ä½¿ç”¨raiseæŠ›å‡ºå†…ç½®å¼‚å¸¸
        raise ValueError("ç”¨æˆ·åä¸èƒ½ä¸ºç©º",1001)
    if not password:
        # ä½¿ç”¨raiseæŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸
        raise CustomError("å¯†ç ä¸èƒ½ä¸ºç©º", 1002)
    # æ¨¡æ‹Ÿç™»å½•é€»è¾‘
    if username != "admin" or password != "123456":
        raise CustomError("ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯", 1003)
    return "ç™»å½•æˆåŠŸ"

# ä½¿ç”¨ç¤ºä¾‹
try:
    result = login("admin", "")
except CustomError as e:
    # argsæ˜¯å¼‚å¸¸çš„å‚æ•°å…ƒç»„ï¼Œæ˜¯ç”¨æˆ·ä¼ å…¥çš„å‚æ•°
    print(f"ç™»å½•å¤±è´¥: {e.args[0]}, é”™è¯¯ä»£ç : {e.args[1]}")
except Exception as e:
    print(f"ç™»å½•å¤±è´¥: {e.args[0]}, é”™è¯¯ä»£ç : {e.args[1]}")
    # ç™»å½•å¤±è´¥: ç”¨æˆ·åä¸èƒ½ä¸ºç©º, é”™è¯¯ä»£ç : 1001
```


:::tip

å¼‚å¸¸é“¾ï¼š`from`å…³é”®å­—çš„ç‹¬ç‰¹ç”¨æ³•ã€‚

```python showLineNumbers
def parse_config(config_str):
    try:
        import json
        config = json.loads(config_str)
        return config
    except json.JSONDecodeError as e:
        # å¯ä»¥åªå†™raiseï¼Œé‡æ–°æŠ›å‡ºå½“å‰å¼‚å¸¸ï¼Œä¿æŒåŸå§‹çš„é”™è¯¯ä¿¡æ¯å’Œå †æ ˆè·Ÿè¸ª
        # raise
        # æ›´æ¨èä½¿ç”¨ `from` å…³é”®å­—ï¼šå°†åº•å±‚å¼‚å¸¸åŒ…è£…ä¸ºæ›´é«˜çº§çš„å¼‚å¸¸é“¾
        raise ValueError("0011é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯") from e

try:
    parse_config("{invalid json}")
except ValueError as e:
    print(f"é”™è¯¯ä»£ç : {e}")
    # æ˜¾ç¤ºåŸå§‹å¼‚å¸¸ï¼Œ__cause__ä¸“é—¨ç”¨äºå­˜å‚¨å¼‚å¸¸é“¾ä¸­çš„åŸå§‹å¼‚å¸¸
    print(f"åŸå§‹æŠ¥é”™: {e.__cause__}") 
"""
é”™è¯¯ä»£ç : 0011é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯
åŸå§‹æŠ¥é”™: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
"""
```
:::

## å†…ç½®å‡½æ•°

ä»¥ä¸‹å†…ç½®å‡½æ•°å¤§å¤šä¸ºæ“ä½œåºåˆ—ä¸æ§åˆ¶æµä¸€èµ·ä½¿ç”¨ã€‚

### anyå‡½æ•°ã€allå‡½æ•°

anyå‡½æ•°å’Œallå‡½æ•°ç”¨äºåˆ¤æ–­ä¸€ä¸ªåºåˆ—ä¸­çš„å…ƒç´ æ˜¯å¦éƒ½ä¸ºçœŸæˆ–æœ‰ä¸€ä¸ªä¸ºçœŸã€‚é€šå¸¸ä¸ifè¯­å¥ä¸€èµ·ä½¿ç”¨ã€‚

anyå‡½æ•°ç­¾åï¼š`any(iterable) -> bool`

allå‡½æ•°ç­¾åï¼š`all(iterable) -> bool`

å‚æ•°è¯´æ˜ï¼š
- `iterable`ï¼šè¦åˆ¤æ–­çš„åºåˆ—

è¿”å›å€¼ï¼š
- anyå‡½æ•°è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœåºåˆ—ä¸­æœ‰ä¸€ä¸ªå…ƒç´ ä¸ºçœŸï¼Œåˆ™è¿”å›Trueï¼Œå¦åˆ™è¿”å›False
- allå‡½æ•°è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœåºåˆ—ä¸­æ‰€æœ‰å…ƒç´ éƒ½ä¸ºçœŸï¼Œåˆ™è¿”å›Trueï¼Œå¦åˆ™è¿”å›False


```python showLineNumbers
a = 10
b = -5
c = 0
print(all([a,b,c])) # False,éƒ½ä¸ºçœŸæ—¶ä¸ºçœŸ
print(any([a,b,c])) # True,æœ‰ä¸€ä¸ªä¸ºçœŸæ—¶ä¸ºçœŸ
```

### rangeå‡½æ•°

rangeå‡½æ•°ç­¾åï¼š`range(start, stop, step) -> range`

å‚æ•°è¯´æ˜ï¼š
- `start`ï¼šèµ·å§‹å€¼ï¼ˆå¯çœç•¥ï¼Œé»˜è®¤ä¸º0ï¼‰
- `stop`ï¼šç»“æŸå€¼
- `step`ï¼šæ­¥é•¿(å¯çœç•¥ï¼Œé»˜è®¤ä¸º1ï¼Œå¯æ­£å¯è´Ÿ)

è¿”å›å€¼ï¼š
- è¿”å›ä¸€ä¸ªrangeå¯¹è±¡

```python showLineNumbers
for _ in range(10, 20, 2):
    print(_) 
# 10
# 12
# 14

for _ in range(10,0,-2):
    print(_) 
# 8
# 6
# 4
# 2
# 0
```

### enumerateå‡½æ•°

enumerateå‡½æ•°ç”¨äºéå†åºåˆ—ï¼ŒåŒæ—¶è·å–åºåˆ—çš„åºå·å’Œå€¼ã€‚

enumerateå‡½æ•°ç­¾åï¼š`enumerate(iterable, start=0) -> enumerate`

å‚æ•°è¯´æ˜ï¼š
- `iterable`ï¼šè¦éå†çš„åºåˆ—
- `start`ï¼šèµ·å§‹åºå·ï¼ˆå¯çœç•¥ï¼Œé»˜è®¤ä¸º0ï¼‰

è¿”å›å€¼ï¼š
- è¿”å›ä¸€ä¸ªenumerateå¯¹è±¡

```python showLineNumbers
for i, v in enumerate(['tic', 'tac', 'toe']):
    print(i, v)
# 0 tic
# 1 tac
# 2 toe

for i, v in enumerate(['tic', 'tac', 'toe'], start=1):
    print(i, v)
# 1 tic
# 2 tac
# 3 toe
```

### zipå‡½æ•°

zipå‡½æ•°ç”¨äºå°†å¤šä¸ªåºåˆ—çš„å…ƒç´ ä¸€ä¸€é…å¯¹ï¼Œè¿”å›ä¸€ä¸ªzipå¯¹è±¡ã€‚

zipå‡½æ•°ç­¾åï¼š`zip(iterable1, iterable2, ...) -> zip`

å‚æ•°è¯´æ˜ï¼š
- `iterable1, iterable2, ...`ï¼šè¦é…å¯¹çš„åºåˆ—

è¿”å›å€¼ï¼š
- è¿”å›ä¸€ä¸ªzipå¯¹è±¡

```python showLineNumbers
list_a = [1, 2, 3]
list_b = [4, 5, 6]
for a, b in zip(list_a, list_b):
    print(a, b)
# 1 4
# 2 5
# 3 6
```