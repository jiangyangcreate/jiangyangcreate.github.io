## 对象类型的判断

Python 是动态类型语言，但支持类型检查：
- 动态类型检查：运行时检查类型 (如 `isinstance()`)
- 静态类型检查：通过类型检查器 (如 mypy) 在运行前检查

```python
# 动态类型检查示例
def greet(name: str) -> str:
    if not isinstance(name, str):  # 运行时检查
        raise TypeError("name must be string")
    return f"Hello {name}"

# 静态类型检查 (mypy 会捕获错误)
def add(a: int, b: int) -> int:
    return a + b

add("1", "2")  # mypy 会报错
```

## 类型注解

Python 3.5+ 支持类型注解，语法为 `variable: type`:

```python
# 基本类型注解
name: str = "Alice"
age: int = 30

# 函数参数和返回值注解
def greet(name: str, age: int = 25) -> str:  # 带默认值的参数
    return f"{name} is {age} years old"
```

## typing 模块

`typing` 模块提供高级类型支持：

```python
from typing import List, Dict, Tuple, Optional, Union

# 容器类型
names: List[str] = ["Alice", "Bob"]
person: Dict[str, Union[str, int]] = {"name": "Alice", "age": 30}

# 可选类型
def get_age(name: str) -> Optional[int]:
    if name == "Alice":
        return 30
    return None

# 类型别名
UserId = int
user_id: UserId = 1001
```

## 高级类型注解

Python 3.10+ 支持更简洁的语法：

```python
# 联合类型 (替代 Union)
def process(data: str | int) -> None:
    pass

# 可选类型 (替代 Optional)
def find_user(id: int) -> str | None:
    pass
```

## type 和 object 的关系

Python 中所有类都是 `type` 的实例，而 `type` 本身也是类：
- `object` 是所有类的基类
- `type` 是 `object` 的子类，也是自身的元类

```python
# type 和 object 的关系验证
print(issubclass(type, object))  # True
print(isinstance(object, type))  # True
print(isinstance(type, type))    # True
```

关键点：
1. `type` 是创建类的类 (元类)
2. `object` 是所有类的基类
3. 类既是 `type` 的实例，又是 `object` 的子类