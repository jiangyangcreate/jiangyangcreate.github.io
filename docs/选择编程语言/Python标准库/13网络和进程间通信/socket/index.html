<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-docs docs-version-current docs-doc-page docs-doc-id-é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/socket" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">socket | jiangmiemie</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jiangmiemie.com/pages/case/jiangmiemie.webp"><meta data-rh="true" name="twitter:image" content="https://jiangmiemie.com/pages/case/jiangmiemie.webp"><meta data-rh="true" property="og:url" content="https://jiangmiemie.com/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/socket/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="docusaurus,blog, python, å¼€æº"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-docs-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-docs-current"><meta data-rh="true" property="og:title" content="socket | jiangmiemie"><meta data-rh="true" name="description" content="socket ä½å±‚çº§çš„ç½‘ç»œæ¥å£åº“ï¼Œæä¾› BSD å¥—æ¥å­—çš„ Python æ¥å£"><meta data-rh="true" property="og:description" content="socket ä½å±‚çº§çš„ç½‘ç»œæ¥å£åº“ï¼Œæä¾› BSD å¥—æ¥å­—çš„ Python æ¥å£"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://jiangmiemie.com/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/socket/"><link data-rh="true" rel="alternate" href="https://jiangmiemie.com/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/socket/" hreflang="en"><link data-rh="true" rel="alternate" href="https://jiangmiemie.com/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/socket/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B8DUWB4CMX-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"é€‰æ‹©ç¼–ç¨‹è¯­è¨€","item":"https://jiangmiemie.com/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/"},{"@type":"ListItem","position":2,"name":"Pythonæ ‡å‡†åº“ğŸ”¨","item":"https://jiangmiemie.com/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/"},{"@type":"ListItem","position":3,"name":"ç½‘ç»œä¸é€šä¿¡","item":"https://jiangmiemie.com/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/"},{"@type":"ListItem","position":4,"name":"socket","item":"https://jiangmiemie.com/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/socket"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="jiangmiemie" href="/opensearch.xml">
<link rel="icon" href="/img/logo-512.svg">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37, 194, 160)">


<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="jiangmiemie RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="jiangmiemie Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="jiangmiemie JSON Feed">


<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.57232b87.css">
<script src="/assets/js/runtime~main.b033e7e1.js" defer="defer"></script>
<script src="/assets/js/main.8a327db9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">å¼€å‘</a><a class="navbar__item navbar__link" href="/read/">ä¹¦æ¶</a><a class="navbar__item navbar__link" href="/blog/archive/">åšæ–‡</a><a class="navbar__item navbar__link" href="/case/">ä¸ªæ¡ˆ</a><a class="navbar__item navbar__link" href="/gallery/">ç›¸ç°¿</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/"><span title="ç¼–ç¨‹å¤–çš„åŸºç¡€" class="categoryLinkLabel_W154">ç¼–ç¨‹å¤–çš„åŸºç¡€</span></a><button aria-label="Expand sidebar category &#x27;ç¼–ç¨‹å¤–çš„åŸºç¡€&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/"><span title="é€‰æ‹©ç¼–ç¨‹è¯­è¨€" class="categoryLinkLabel_W154">é€‰æ‹©ç¼–ç¨‹è¯­è¨€</span></a><button aria-label="Collapse sidebar category &#x27;é€‰æ‹©ç¼–ç¨‹è¯­è¨€&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/C/"><span title="Cè¯­è¨€åŸºç¡€" class="categoryLinkLabel_W154">Cè¯­è¨€åŸºç¡€</span></a><button aria-label="Expand sidebar category &#x27;Cè¯­è¨€åŸºç¡€&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Python/"><span title="PythonåŸºç¡€" class="categoryLinkLabel_W154">PythonåŸºç¡€</span></a><button aria-label="Expand sidebar category &#x27;PythonåŸºç¡€&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/"><span title="Pythonæ ‡å‡†åº“ğŸ”¨" class="categoryLinkLabel_W154">Pythonæ ‡å‡†åº“ğŸ”¨</span></a><button aria-label="Collapse sidebar category &#x27;Pythonæ ‡å‡†åº“ğŸ”¨&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/1æ–‡æœ¬å¤„ç†æœåŠ¡/"><span title="æ–‡æœ¬å¤„ç†æœåŠ¡" class="categoryLinkLabel_W154">æ–‡æœ¬å¤„ç†æœåŠ¡</span></a><button aria-label="Expand sidebar category &#x27;æ–‡æœ¬å¤„ç†æœåŠ¡&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/2äºŒè¿›åˆ¶æ•°æ®æœåŠ¡/"><span title="äºŒè¿›åˆ¶æ•°æ®æœåŠ¡" class="categoryLinkLabel_W154">äºŒè¿›åˆ¶æ•°æ®æœåŠ¡</span></a><button aria-label="Expand sidebar category &#x27;äºŒè¿›åˆ¶æ•°æ®æœåŠ¡&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/3æ•°æ®ç±»å‹/"><span title="æ•°æ®ç±»å‹" class="categoryLinkLabel_W154">æ•°æ®ç±»å‹</span></a><button aria-label="Expand sidebar category &#x27;æ•°æ®ç±»å‹&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/4æ•°å­—å’Œæ•°å­¦æ¨¡å—/"><span title="æ•°å­—å’Œæ•°å­¦æ¨¡å—" class="categoryLinkLabel_W154">æ•°å­—å’Œæ•°å­¦æ¨¡å—</span></a><button aria-label="Expand sidebar category &#x27;æ•°å­—å’Œæ•°å­¦æ¨¡å—&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/5å‡½æ•°å¼ç¼–ç¨‹æ¨¡å—/"><span title="å‡½æ•°å¼ç¼–ç¨‹æ¨¡å—" class="categoryLinkLabel_W154">å‡½æ•°å¼ç¼–ç¨‹æ¨¡å—</span></a><button aria-label="Expand sidebar category &#x27;å‡½æ•°å¼ç¼–ç¨‹æ¨¡å—&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/6æ–‡ä»¶å’Œç›®å½•è®¿é—®/"><span title="æ–‡ä»¶å’Œç›®å½•è®¿é—®" class="categoryLinkLabel_W154">æ–‡ä»¶å’Œç›®å½•è®¿é—®</span></a><button aria-label="Expand sidebar category &#x27;æ–‡ä»¶å’Œç›®å½•è®¿é—®&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/7æ•°æ®æŒä¹…åŒ–/"><span title="æ•°æ®æŒä¹…åŒ–" class="categoryLinkLabel_W154">æ•°æ®æŒä¹…åŒ–</span></a><button aria-label="Expand sidebar category &#x27;æ•°æ®æŒä¹…åŒ–&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/8æ•°æ®å‹ç¼©å’Œå­˜æ¡£/"><span title="æ•°æ®å‹ç¼©å’Œå­˜æ¡£" class="categoryLinkLabel_W154">æ•°æ®å‹ç¼©å’Œå­˜æ¡£</span></a><button aria-label="Expand sidebar category &#x27;æ•°æ®å‹ç¼©å’Œå­˜æ¡£&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/9æ–‡ä»¶æ ¼å¼/"><span title="æ–‡ä»¶æ ¼å¼" class="categoryLinkLabel_W154">æ–‡ä»¶æ ¼å¼</span></a><button aria-label="Expand sidebar category &#x27;æ–‡ä»¶æ ¼å¼&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/10åŠ å¯†æœåŠ¡/"><span title="åŠ å¯†æœåŠ¡" class="categoryLinkLabel_W154">åŠ å¯†æœåŠ¡</span></a><button aria-label="Expand sidebar category &#x27;åŠ å¯†æœåŠ¡&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/11é€šç”¨æ“ä½œç³»ç»ŸæœåŠ¡/"><span title="é€šç”¨æ“ä½œç³»ç»ŸæœåŠ¡" class="categoryLinkLabel_W154">é€šç”¨æ“ä½œç³»ç»ŸæœåŠ¡</span></a><button aria-label="Expand sidebar category &#x27;é€šç”¨æ“ä½œç³»ç»ŸæœåŠ¡&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/12å‘½ä»¤è¡Œç•Œé¢åº“/"><span title="å‘½ä»¤è¡Œç•Œé¢åº“" class="categoryLinkLabel_W154">å‘½ä»¤è¡Œç•Œé¢åº“</span></a><button aria-label="Expand sidebar category &#x27;å‘½ä»¤è¡Œç•Œé¢åº“&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/12å¹¶å‘æ‰§è¡Œ/"><span title="å¹¶å‘æ‰§è¡Œ" class="categoryLinkLabel_W154">å¹¶å‘æ‰§è¡Œ</span></a><button aria-label="Expand sidebar category &#x27;å¹¶å‘æ‰§è¡Œ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/"><span title="ç½‘ç»œä¸é€šä¿¡" class="categoryLinkLabel_W154">ç½‘ç»œä¸é€šä¿¡</span></a><button aria-label="Collapse sidebar category &#x27;ç½‘ç»œä¸é€šä¿¡&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/socket/"><span title="socket" class="linkLabel_WmDU">socket</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/asyncio/"><span title="asyncio" class="linkLabel_WmDU">asyncio</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/14äº’è”ç½‘æ•°æ®å¤„ç†/"><span title="äº’è”ç½‘æ•°æ®å¤„ç†" class="categoryLinkLabel_W154">äº’è”ç½‘æ•°æ®å¤„ç†</span></a><button aria-label="Expand sidebar category &#x27;äº’è”ç½‘æ•°æ®å¤„ç†&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/15ç»“æ„åŒ–æ ‡è®°å¤„ç†å·¥å…·/"><span title="ç»“æ„åŒ–æ ‡è®°å¤„ç†å·¥å…·" class="categoryLinkLabel_W154">ç»“æ„åŒ–æ ‡è®°å¤„ç†å·¥å…·</span></a><button aria-label="Expand sidebar category &#x27;ç»“æ„åŒ–æ ‡è®°å¤„ç†å·¥å…·&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/16äº’è”ç½‘åè®®å’Œæ”¯æŒ/"><span title="äº’è”ç½‘åè®®å’Œæ”¯æŒ" class="categoryLinkLabel_W154">äº’è”ç½‘åè®®å’Œæ”¯æŒ</span></a><button aria-label="Expand sidebar category &#x27;äº’è”ç½‘åè®®å’Œæ”¯æŒ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/17å¤šåª’ä½“æœåŠ¡/"><span title="å¤šåª’ä½“æœåŠ¡" class="categoryLinkLabel_W154">å¤šåª’ä½“æœåŠ¡</span></a><button aria-label="Expand sidebar category &#x27;å¤šåª’ä½“æœåŠ¡&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/18å›½é™…åŒ–/"><span title="å›½é™…åŒ–" class="categoryLinkLabel_W154">å›½é™…åŒ–</span></a><button aria-label="Expand sidebar category &#x27;å›½é™…åŒ–&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/19ä½¿ç”¨ Tk åˆ›å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢/"><span title="ä½¿ç”¨ Tk åˆ›å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢" class="categoryLinkLabel_W154">ä½¿ç”¨ Tk åˆ›å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢</span></a><button aria-label="Expand sidebar category &#x27;ä½¿ç”¨ Tk åˆ›å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Python  æ ‡å‡†åº“/20å¼€å‘å·¥å…·/"><span title="å¼€å‘å·¥å…·" class="categoryLinkLabel_W154">å¼€å‘å·¥å…·</span></a><button aria-label="Expand sidebar category &#x27;å¼€å‘å·¥å…·&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/21è°ƒè¯•å’Œåˆ†æ/"><span title="è°ƒè¯•å’Œåˆ†æ" class="categoryLinkLabel_W154">è°ƒè¯•å’Œåˆ†æ</span></a><button aria-label="Expand sidebar category &#x27;è°ƒè¯•å’Œåˆ†æ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/22è½¯ä»¶æ‰“åŒ…å’Œåˆ†å‘/"><span title="è½¯ä»¶æ‰“åŒ…å’Œåˆ†å‘" class="categoryLinkLabel_W154">è½¯ä»¶æ‰“åŒ…å’Œåˆ†å‘</span></a><button aria-label="Expand sidebar category &#x27;è½¯ä»¶æ‰“åŒ…å’Œåˆ†å‘&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/23Python è¿è¡Œæ—¶æœåŠ¡/"><span title="Python è¿è¡Œæ—¶æœåŠ¡" class="categoryLinkLabel_W154">Python è¿è¡Œæ—¶æœåŠ¡</span></a><button aria-label="Expand sidebar category &#x27;Python è¿è¡Œæ—¶æœåŠ¡&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/24è‡ªå®šä¹‰ Python è§£é‡Šå™¨/"><span title="è‡ªå®šä¹‰ Python è§£é‡Šå™¨" class="categoryLinkLabel_W154">è‡ªå®šä¹‰ Python è§£é‡Šå™¨</span></a><button aria-label="Expand sidebar category &#x27;è‡ªå®šä¹‰ Python è§£é‡Šå™¨&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/25å¯¼å…¥æ¨¡å—/"><span title="å¯¼å…¥æ¨¡å—" class="categoryLinkLabel_W154">å¯¼å…¥æ¨¡å—</span></a><button aria-label="Expand sidebar category &#x27;å¯¼å…¥æ¨¡å—&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/26Python è¯­è¨€æœåŠ¡/"><span title="Python è¯­è¨€æœåŠ¡" class="categoryLinkLabel_W154">Python è¯­è¨€æœåŠ¡</span></a><button aria-label="Expand sidebar category &#x27;Python è¯­è¨€æœåŠ¡&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/HTML/"><span title="HTML5" class="categoryLinkLabel_W154">HTML5</span></a><button aria-label="Expand sidebar category &#x27;HTML5&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/JavaScript/"><span title="JavaScript" class="categoryLinkLabel_W154">JavaScript</span></a><button aria-label="Expand sidebar category &#x27;JavaScript&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/æ·±åº¦å­¦ä¹ /"><span title="æ·±åº¦å­¦ä¹ " class="categoryLinkLabel_W154">æ·±åº¦å­¦ä¹ </span></a><button aria-label="Expand sidebar category &#x27;æ·±åº¦å­¦ä¹ &#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/å¤§æ¨¡å‹çš„åº”ç”¨/"><span title="å¤§æ¨¡å‹çš„åº”ç”¨" class="categoryLinkLabel_W154">å¤§æ¨¡å‹çš„åº”ç”¨</span></a><button aria-label="Expand sidebar category &#x27;å¤§æ¨¡å‹çš„åº”ç”¨&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/åç«¯é€šè¯†/"><span title="åç«¯é€šè¯†" class="categoryLinkLabel_W154">åç«¯é€šè¯†</span></a><button aria-label="Expand sidebar category &#x27;åç«¯é€šè¯†&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/é¡¹ç›®ç®¡ç†/"><span title="é¡¹ç›®ç®¡ç†" class="categoryLinkLabel_W154">é¡¹ç›®ç®¡ç†</span></a><button aria-label="Expand sidebar category &#x27;é¡¹ç›®ç®¡ç†&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/"><span>é€‰æ‹©ç¼–ç¨‹è¯­è¨€</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/"><span>Pythonæ ‡å‡†åº“ğŸ”¨</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/"><span>ç½‘ç»œä¸é€šä¿¡</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">socket</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>socket</h1></header><p><code>socket</code> æ¨¡å—æä¾›äº†è®¿é—® <span style="position:relative;display:inline-block"><span style="background:linear-gradient(transparent 70%, #FFFF00 30%)">BSD å¥—æ¥å­—<sup style="color:red;font-size:0.7em;margin-left:2px;font-weight:bold">?</sup></span></span> çš„æ¥å£ï¼Œæ˜¯æ‰€æœ‰ç°ä»£ Unix ç³»ç»Ÿã€Windowsã€macOS å’Œå…¶ä»–ä¸€äº›å¹³å°ä¸Šè¿›è¡Œç½‘ç»œç¼–ç¨‹çš„åŸºç¡€ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¥—æ¥å­—åè®®æ—">å¥—æ¥å­—åè®®æ—<a href="#å¥—æ¥å­—åè®®æ—" class="hash-link" aria-label="Direct link to å¥—æ¥å­—åè®®æ—" title="Direct link to å¥—æ¥å­—åè®®æ—" translate="no">â€‹</a></h2>
<p>æ ¹æ®ç³»ç»Ÿä»¥åŠæ„å»ºé€‰é¡¹ï¼Œæ­¤æ¨¡å—æä¾›äº†å„ç§å¥—æ¥å­—åè®®ç°‡ã€‚å¸¸ç”¨çš„åè®®æ—åŒ…æ‹¬ï¼š</p>
<table><thead><tr><th>åè®®æ—</th><th>å¸¸é‡</th><th>åœ°å€æ ¼å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>IPv4</td><td><code>AF_INET</code></td><td><code>(host, port)</code> å…ƒç»„<br><code>host</code>: ä¸»æœºåæˆ– IPv4 åœ°å€å­—ç¬¦ä¸²<br><code>port</code>: æ•´æ•°ç«¯å£å·<br>ç‰¹æ®Šå€¼: <code>&#x27;&#x27;</code> è¡¨ç¤ºæ‰€æœ‰æ¥å£ï¼Œ<code>&#x27;&lt;broadcast&gt;&#x27;</code> è¡¨ç¤ºå¹¿æ’­åœ°å€</td><td>ç”¨äº IPv4 ç½‘ç»œé€šä¿¡</td></tr><tr><td>IPv6</td><td><code>AF_INET6</code></td><td><code>(host, port, flowinfo, scope_id)</code> å››å…ƒç»„<br><code>host</code>: IPv6 åœ°å€å­—ç¬¦ä¸²<br><code>port</code>: æ•´æ•°ç«¯å£å·<br><code>flowinfo</code>: æµä¿¡æ¯ï¼ˆé€šå¸¸ä¸º 0ï¼‰<br><code>scope_id</code>: ä½œç”¨åŸŸ IDï¼ˆé€šå¸¸ä¸º 0ï¼‰<br>ç®€åŒ–å½¢å¼: <code>(host, port)</code></td><td>ç”¨äº IPv6 ç½‘ç»œé€šä¿¡</td></tr><tr><td>UnixåŸŸ</td><td><code>AF_UNIX</code></td><td>æ–‡ä»¶ç³»ç»Ÿè·¯å¾„å­—ç¬¦ä¸²<br>ä¾‹å¦‚: <code>&#x27;/tmp/mysocket.sock&#x27;</code></td><td>ç”¨äºåŒä¸€å°æœºå™¨ä¸Šçš„è¿›ç¨‹é—´é€šä¿¡</td></tr><tr><td>åŸå§‹å¥—æ¥å­—</td><td><code>AF_PACKET</code></td><td>æ¥å£åç§°å­—ç¬¦ä¸²<br>ä¾‹å¦‚: <code>&#x27;eth0&#x27;</code></td><td>ç”¨äºåº•å±‚ç½‘ç»œåŒ…è®¿é—®ï¼ˆLinuxï¼‰</td></tr><tr><td>è“ç‰™</td><td><code>AF_BLUETOOTH</code></td><td>è“ç‰™åœ°å€å…ƒç»„ï¼Œæ ¼å¼å–å†³äºåè®®</td><td>ç”¨äºè“ç‰™é€šä¿¡</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="åœ°å€æ ¼å¼ç¤ºä¾‹">åœ°å€æ ¼å¼ç¤ºä¾‹<a href="#åœ°å€æ ¼å¼ç¤ºä¾‹" class="hash-link" aria-label="Direct link to åœ°å€æ ¼å¼ç¤ºä¾‹" title="Direct link to åœ°å€æ ¼å¼ç¤ºä¾‹" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># AF_INET åœ°å€ç¤ºä¾‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">address_v4_1 </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;www.example.com&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">           </span><span class="token comment" style="color:rgb(0, 128, 0)"># ä½¿ç”¨ä¸»æœºå</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">address_v4_2 </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;192.168.1.1&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">             </span><span class="token comment" style="color:rgb(0, 128, 0)"># ä½¿ç”¨ IPv4 åœ°å€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">address_v4_3 </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">                        </span><span class="token comment" style="color:rgb(0, 128, 0)"># ç»‘å®šåˆ°æ‰€æœ‰æ¥å£ (INADDR_ANY)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">address_v4_4 </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;&lt;broadcast&gt;&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">             </span><span class="token comment" style="color:rgb(0, 128, 0)"># å¹¿æ’­åœ°å€ (INADDR_BROADCAST)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># AF_INET6 åœ°å€ç¤ºä¾‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">address_v6_1 </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;2001:0db8::1&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">      </span><span class="token comment" style="color:rgb(0, 128, 0)"># å®Œæ•´å½¢å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">address_v6_2 </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;2001:0db8::1&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)"># ç®€åŒ–å½¢å¼ï¼ˆçœç•¥ flowinfo å’Œ scope_idï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># AF_UNIX åœ°å€ç¤ºä¾‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">address_unix </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;/tmp/mysocket.sock&#x27;</span><span class="token plain">              </span><span class="token comment" style="color:rgb(0, 128, 0)"># Unix åŸŸå¥—æ¥å­—è·¯å¾„</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¥—æ¥å­—ç±»å‹">å¥—æ¥å­—ç±»å‹<a href="#å¥—æ¥å­—ç±»å‹" class="hash-link" aria-label="Direct link to å¥—æ¥å­—ç±»å‹" title="Direct link to å¥—æ¥å­—ç±»å‹" translate="no">â€‹</a></h2>
<table><thead><tr><th>ç±»å‹</th><th>å¸¸é‡</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>TCPæµ</td><td><code>SOCK_STREAM</code></td><td>é¢å‘è¿æ¥çš„å¯é ä¼ è¾“ï¼Œç”¨äº TCP</td></tr><tr><td>UDPæ•°æ®æŠ¥</td><td><code>SOCK_DGRAM</code></td><td>æ— è¿æ¥ä¸å¯é ä¼ è¾“ï¼Œç”¨äº UDP</td></tr><tr><td>åŸå§‹å¥—æ¥å­—</td><td><code>SOCK_RAW</code></td><td><span style="position:relative;display:inline-block"><span style="background:linear-gradient(transparent 70%, #FFFF00 30%)">åŸå§‹ç½‘ç»œåè®®è®¿é—®<sup style="color:red;font-size:0.7em;margin-left:2px;font-weight:bold">?</sup></span></span></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>ä½¿ç”¨åŸå§‹å¥—æ¥å­—éœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œä¸”å¯ä»¥ç»•è¿‡æ“ä½œç³»ç»Ÿçš„ç½‘ç»œå®‰å…¨æœºåˆ¶ï¼Œå¯èƒ½è¢«æ¶æ„è½¯ä»¶åˆ©ç”¨ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åº”è°¨æ…ä½¿ç”¨ã€‚</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="å·¥ä½œæµç¨‹">å·¥ä½œæµç¨‹<a href="#å·¥ä½œæµç¨‹" class="hash-link" aria-label="Direct link to å·¥ä½œæµç¨‹" title="Direct link to å·¥ä½œæµç¨‹" translate="no">â€‹</a></h3>
<table><thead><tr><th>ç±»å‹</th><th>å·¥ä½œæµç¨‹</th></tr></thead><tbody><tr><td>TCPæœåŠ¡å™¨</td><td><code>åˆ›å»ºSocket</code> â†’ <code>ç»‘å®šåœ°å€(bind)</code> â†’ <code>ç›‘å¬(listen)</code> â†’ <code>æ¥å—è¿æ¥(accept)</code> â†’ <code>æ”¶å‘æ•°æ®(send/recv)</code> â†’ <code>å…³é—­Socket(close)</code></td></tr><tr><td>TCPå®¢æˆ·ç«¯</td><td><code>åˆ›å»ºSocket</code> â†’ <code>è¿æ¥æœåŠ¡å™¨(connect)</code> â†’ <code>æ”¶å‘æ•°æ®(send/recv)</code> â†’ <code>å…³é—­Socket(close)</code></td></tr><tr><td>UDPæœåŠ¡å™¨</td><td><code>åˆ›å»ºSocket</code> â†’ <code>ç»‘å®šåœ°å€(bind)</code> â†’ <code>æ”¶å‘æ•°æ®(recvfrom/sendto)</code> â†’ <code>å…³é—­Socket(close)</code></td></tr><tr><td>UDPå®¢æˆ·ç«¯</td><td><code>åˆ›å»ºSocket</code> â†’ <code>(å¯é€‰ç»‘å®š)</code> â†’ <code>æ”¶å‘æ•°æ®(sendto/recvfrom)</code> â†’ <code>å…³é—­Socket(close)</code></td></tr><tr><td>åŸå§‹å¥—æ¥å­—</td><td><code>åˆ›å»ºSocket</code> â†’ <code>ç»‘å®šåœ°å€(bind)</code> â†’ <code>è®¾ç½®é€‰é¡¹(setsockopt)</code> â†’ <code>æ”¶å‘åŸå§‹æ•°æ®åŒ…</code> â†’ <code>å…³é—­Socket(close)</code></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>TCP å’Œ UDP éƒ½æ˜¯å…¨åŒå·¥é€šä¿¡ï¼Œå¯ä»¥åŒæ—¶å‘é€å’Œæ¥æ”¶æ•°æ®ã€‚</p><ul>
<li><strong>TCP çš„ <code>send/recv</code></strong>ï¼šå»ºç«‹è¿æ¥åå¯ä»¥ä½¿ç”¨ <code>send()</code> å‘é€æ•°æ®ï¼Œä½¿ç”¨ <code>recv()</code> æ¥æ”¶æ•°æ®ï¼Œä¸¤ä¸ªæ“ä½œå¯ä»¥äº¤æ›¿æˆ–å¹¶å‘è¿›è¡Œ</li>
<li><strong>UDP çš„ <code>recvfrom/sendto</code></strong>ï¼šä½¿ç”¨ <code>recvfrom()</code> æ¥æ”¶æ•°æ®ï¼ˆè¿”å›æ•°æ®å’Œå‘é€æ–¹åœ°å€ï¼‰ï¼Œä½¿ç”¨ <code>sendto()</code> å‘é€æ•°æ®ï¼ˆéœ€è¦æŒ‡å®šç›®æ ‡åœ°å€ï¼‰ã€‚UDP æ— è¿æ¥ï¼Œæ¯æ¬¡å‘é€éƒ½éœ€æŒ‡å®šåœ°å€</li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="åˆ›å»ºå¥—æ¥å­—">åˆ›å»ºå¥—æ¥å­—<a href="#åˆ›å»ºå¥—æ¥å­—" class="hash-link" aria-label="Direct link to åˆ›å»ºå¥—æ¥å­—" title="Direct link to åˆ›å»ºå¥—æ¥å­—" translate="no">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="socketsocket">socket.socket()<a href="#socketsocket" class="hash-link" aria-label="Direct link to socket.socket()" title="Direct link to socket.socket()" translate="no">â€‹</a></h3>
<p>åˆ›å»ºå¥—æ¥å­—å¯¹è±¡çš„åŸºæœ¬æ–¹æ³•ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># åˆ›å»º TCP å¥—æ¥å­—ï¼ˆIPv4ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># åˆ›å»º UDP å¥—æ¥å­—ï¼ˆIPv4ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_DGRAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># ä½¿ç”¨é»˜è®¤å‚æ•°ï¼ˆé»˜è®¤æ˜¯ AF_INET, SOCK_STREAMï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>socket.socket()</code> åˆ›å»º TCP å¥—æ¥å­—å°±è¶³å¤Ÿäº†ï¼Œé»˜è®¤å‚æ•°ä¼šè‡ªåŠ¨é€‰æ‹©æœ€å¸¸ç”¨çš„é…ç½®ã€‚</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å¥—æ¥å­—é€‰é¡¹">å¥—æ¥å­—é€‰é¡¹<a href="#å¥—æ¥å­—é€‰é¡¹" class="hash-link" aria-label="Direct link to å¥—æ¥å­—é€‰é¡¹" title="Direct link to å¥—æ¥å­—é€‰é¡¹" translate="no">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setsockopt">setsockopt()<a href="#setsockopt" class="hash-link" aria-label="Direct link to setsockopt()" title="Direct link to setsockopt()" translate="no">â€‹</a></h3>
<p>è®¾ç½®å¥—æ¥å­—é€‰é¡¹ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># å…è®¸åœ°å€é‡ç”¨ï¼ˆé¿å… Address already in use é”™è¯¯ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">setsockopt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOL_SOCKET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SO_REUSEADDR</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è®¾ç½®æ¥æ”¶ç¼“å†²åŒºå¤§å°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">setsockopt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOL_SOCKET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SO_RCVBUF</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8192</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è®¾ç½®å‘é€ç¼“å†²åŒºå¤§å°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">setsockopt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOL_SOCKET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SO_SNDBUF</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8192</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># ç»‘å®šåœ°å€å‰è®¾ç½®é€‰é¡¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">bind</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getsockopt">getsockopt()<a href="#getsockopt" class="hash-link" aria-label="Direct link to getsockopt()" title="Direct link to getsockopt()" translate="no">â€‹</a></h3>
<p>è·å–å¥—æ¥å­—é€‰é¡¹çš„å€¼ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è·å–æ¥æ”¶ç¼“å†²åŒºå¤§å°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rcvbuf </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">getsockopt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOL_SOCKET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SO_RCVBUF</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;æ¥æ”¶ç¼“å†²åŒºå¤§å°: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">rcvbuf</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># æ£€æŸ¥ SO_REUSEADDR é€‰é¡¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">reuse </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">getsockopt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOL_SOCKET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SO_REUSEADDR</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;åœ°å€é‡ç”¨: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation builtin" style="color:rgb(0, 112, 193)">bool</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation interpolation">reuse</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setblocking">setblocking()<a href="#setblocking" class="hash-link" aria-label="Direct link to setblocking()" title="Direct link to setblocking()" translate="no">â€‹</a></h3>
<p>è®¾ç½®å¥—æ¥å­—ä¸ºé˜»å¡æˆ–éé˜»å¡æ¨¡å¼ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è®¾ç½®ä¸ºéé˜»å¡æ¨¡å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">setblocking</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token boolean">False</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è®¾ç½®ä¸ºé˜»å¡æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">setblocking</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="è¶…æ—¶å¤„ç†">è¶…æ—¶å¤„ç†<a href="#è¶…æ—¶å¤„ç†" class="hash-link" aria-label="Direct link to è¶…æ—¶å¤„ç†" title="Direct link to è¶…æ—¶å¤„ç†" translate="no">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="settimeout">settimeout()<a href="#settimeout" class="hash-link" aria-label="Direct link to settimeout()" title="Direct link to settimeout()" translate="no">â€‹</a></h3>
<p>è®¾ç½®å¥—æ¥å­—æ“ä½œçš„è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è®¾ç½® 5 ç§’è¶…æ—¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">settimeout</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5.0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;www.example.com&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    data </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">recv</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">timeout</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;æ“ä½œè¶…æ—¶&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> OSError </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;é”™è¯¯: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gettimeout">gettimeout()<a href="#gettimeout" class="hash-link" aria-label="Direct link to gettimeout()" title="Direct link to gettimeout()" translate="no">â€‹</a></h3>
<p>è·å–å½“å‰è¶…æ—¶è®¾ç½®ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è·å–è¶…æ—¶è®¾ç½®ï¼ˆNone è¡¨ç¤ºæ— è¶…æ—¶ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">timeout </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">gettimeout</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;è¶…æ—¶è®¾ç½®: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">timeout</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>è¶…æ—¶è®¾ç½®å½±å“ä»¥ä¸‹æ“ä½œï¼š<code>connect()</code>, <code>recv()</code>, <code>send()</code>, <code>accept()</code>ã€‚å¦‚æœè®¾ç½®ä¸º <code>None</code>ï¼ˆé»˜è®¤ï¼‰ï¼Œæ“ä½œä¼šæ— é™æœŸé˜»å¡ã€‚</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="åœ°å€è§£æå‡½æ•°">åœ°å€è§£æå‡½æ•°<a href="#åœ°å€è§£æå‡½æ•°" class="hash-link" aria-label="Direct link to åœ°å€è§£æå‡½æ•°" title="Direct link to åœ°å€è§£æå‡½æ•°" translate="no">â€‹</a></h2>
<p><code>gethostname()</code> è·å–æœ¬åœ°ä¸»æœºçš„æ ‡å‡†ä¸»æœºåã€‚
<code>gethostbyname()</code> å°†ä¸»æœºåè½¬æ¢ä¸º IPv4 åœ°å€ã€‚
<code>gethostbyaddr()</code> å°† IP åœ°å€è½¬æ¢ä¸ºä¸»æœºåï¼ˆåå‘è§£æï¼‰ã€‚
<code>getservbyname()</code> æ ¹æ®æœåŠ¡åå’Œåè®®è·å–ç«¯å£å·ã€‚
<code>getservbyport()</code> æ ¹æ®ç«¯å£å·å’Œåè®®è·å–æœåŠ¡åã€‚</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">hostname </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">gethostname</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">hostname</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)"># Allen</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">local_ip </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">gethostbyname</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;æœ¬åœ° IP: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">local_ip</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)"># 127.0.0.1</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è§£æä¸»æœºå</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">ip </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">gethostbyname</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;www.baidu.com&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;IP åœ°å€: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">ip</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">#183.2.172.177</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">hostname</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> aliases</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> addresses </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">gethostbyname_ex</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;www.baidu.com&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;ä¸»æœºå: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">hostname</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)"># www.a.shifen.com</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;åˆ«å: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">aliases</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)"># [&#x27;www.baidu.com&#x27;]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;IP åœ°å€: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">addresses</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">#  [&#x27;183.2.172.177&#x27;, &#x27;183.2.172.17&#x27;]</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gethostbyaddr">gethostbyaddr()<a href="#gethostbyaddr" class="hash-link" aria-label="Direct link to gethostbyaddr()" title="Direct link to gethostbyaddr()" translate="no">â€‹</a></h3>
<p>å°† IP åœ°å€è½¬æ¢ä¸ºä¸»æœºåï¼ˆåå‘è§£æï¼‰ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    hostname</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> aliases</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> addresses </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">gethostbyaddr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;93.184.216.34&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;ä¸»æœºå: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">hostname</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;åˆ«å: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">aliases</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;IP åœ°å€: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">addresses</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">herror</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;æ— æ³•è§£æåœ°å€&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getservbyname">getservbyname()<a href="#getservbyname" class="hash-link" aria-label="Direct link to getservbyname()" title="Direct link to getservbyname()" translate="no">â€‹</a></h3>
<p>æ ¹æ®æœåŠ¡åå’Œåè®®è·å–ç«¯å£å·ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è·å– HTTP æœåŠ¡çš„ç«¯å£å·</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">http_port </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">getservbyname</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;http&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;tcp&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;HTTP ç«¯å£: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">http_port</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è·å– FTP æœåŠ¡çš„ç«¯å£å·</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ftp_port </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">getservbyname</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;ftp&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;tcp&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;FTP ç«¯å£: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">ftp_port</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># UDP æœåŠ¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">dns_port </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">getservbyname</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;domain&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;udp&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;DNS ç«¯å£: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">dns_port</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æœåŠ¡å™¨ç«¯æ“ä½œ">æœåŠ¡å™¨ç«¯æ“ä½œ<a href="#æœåŠ¡å™¨ç«¯æ“ä½œ" class="hash-link" aria-label="Direct link to æœåŠ¡å™¨ç«¯æ“ä½œ" title="Direct link to æœåŠ¡å™¨ç«¯æ“ä½œ" translate="no">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bind">bind()<a href="#bind" class="hash-link" aria-label="Direct link to bind()" title="Direct link to bind()" translate="no">â€‹</a></h3>
<p>å°†å¥—æ¥å­—ç»‘å®šåˆ°ç‰¹å®šçš„ç½‘ç»œåœ°å€ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># ç»‘å®šåˆ°æœ¬åœ°åœ°å€å’Œç«¯å£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">bind</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># ç»‘å®šåˆ°æ‰€æœ‰ç½‘ç»œæ¥å£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">bind</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># ç»‘å®šåˆ° Unix åŸŸå¥—æ¥å­—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">unix_sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_UNIX</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">unix_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">bind</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;/tmp/mysocket.sock&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>å¦‚æœç«¯å£å·²è¢«å ç”¨ï¼Œ<code>bind()</code> ä¼šæŠ›å‡º <code>OSError: [Errno 98] Address already in use</code>ã€‚å¯ä»¥ä½¿ç”¨ <code>SO_REUSEADDR</code> é€‰é¡¹æ¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="listenaccept">listen()ã€accept()<a href="#listenaccept" class="hash-link" aria-label="Direct link to listen()ã€accept()" title="Direct link to listen()ã€accept()" translate="no">â€‹</a></h3>
<p><code>listen()</code> ä½¿å¥—æ¥å­—è¿›å…¥ç›‘å¬çŠ¶æ€ï¼Œæ¥å—è¿æ¥è¯·æ±‚ã€‚</p>
<p><code>accept()</code> æ¥å—å®¢æˆ·ç«¯è¿æ¥ï¼Œè¿”å›æ–°çš„å¥—æ¥å­—å¯¹è±¡å’Œå®¢æˆ·ç«¯åœ°å€ã€‚</p>
<p>accept() ä¼šé˜»å¡ï¼Œç›´åˆ°æœ‰å®¢æˆ·ç«¯è¿æ¥ã€‚</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">bind</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> client_addr </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">accept</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&quot;&quot;&quot;æ”¶åˆ°æ¥è‡ª </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">client_addr</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> çš„è¿æ¥&quot;&quot;&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">message </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">recv</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">decode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">or</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;ç©ºæ¶ˆæ¯&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&quot;&quot;&quot;æ¶ˆæ¯ä¸º: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">message</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&quot;&quot;&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å®¢æˆ·ç«¯æ“ä½œ">å®¢æˆ·ç«¯æ“ä½œ<a href="#å®¢æˆ·ç«¯æ“ä½œ" class="hash-link" aria-label="Direct link to å®¢æˆ·ç«¯æ“ä½œ" title="Direct link to å®¢æˆ·ç«¯æ“ä½œ" translate="no">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connectconnect_ex">connect()ã€connect_ex()<a href="#connectconnect_ex" class="hash-link" aria-label="Direct link to connect()ã€connect_ex()" title="Direct link to connect()ã€connect_ex()" translate="no">â€‹</a></h3>
<p><code>connect()</code> å»ºç«‹ä¸æœåŠ¡å™¨çš„è¿æ¥ã€‚</p>
<p><code>connect_ex()</code> ç±»ä¼¼ <code>connect()</code>ï¼Œä½†è¿”å›é”™è¯¯ç è€Œä¸æ˜¯æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;è¿æ¥æˆåŠŸ&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> OSError </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;è¿æ¥å¤±è´¥ï¼Œé”™è¯¯ç : </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string-interpolation interpolation">errno</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">err </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">connect_ex</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;è¿æ¥æˆåŠŸ&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;è¿æ¥å¤±è´¥ï¼Œé”™è¯¯ç : </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">err</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ•°æ®ä¼ è¾“">æ•°æ®ä¼ è¾“<a href="#æ•°æ®ä¼ è¾“" class="hash-link" aria-label="Direct link to æ•°æ®ä¼ è¾“" title="Direct link to æ•°æ®ä¼ è¾“" translate="no">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sendsendallsendto">send()ã€sendall()ã€sendto()<a href="#sendsendallsendto" class="hash-link" aria-label="Direct link to send()ã€sendall()ã€sendto()" title="Direct link to send()ã€sendall()ã€sendto()" translate="no">â€‹</a></h3>
<p><code>send()</code> å‘é€æ•°æ®ï¼Œè¿”å›å‘é€çš„å­—èŠ‚æ•°ã€‚
<code>sendall()</code> å‘é€æ‰€æœ‰æ•°æ®ï¼Œç›´åˆ°å…¨éƒ¨å‘é€å®Œæˆã€‚
<code>sendto()</code> å‘é€æ•°æ®åˆ°æŒ‡å®šåœ°å€ã€‚</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># å‘é€æ•°æ®ï¼ˆå¯èƒ½åªå‘é€éƒ¨åˆ†æ•°æ®ï¼‰å¦‚æœåªå‘é€äº†éƒ¨åˆ†æ•°æ®ï¼Œéœ€è¦ç»§ç»­å‘é€å‰©ä½™éƒ¨åˆ†ã€‚</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sent </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">b&#x27;Hello, Server&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;å‘é€äº† </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">sent</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> å­—èŠ‚&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># å‘é€æ‰€æœ‰æ•°æ®ï¼Œç›´åˆ°å…¨éƒ¨å‘é€å®Œæˆã€‚ç¡®ä¿æ‰€æœ‰æ•°æ®éƒ½è¢«å‘é€</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">message </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">b&#x27;Hello, Server&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">sendall</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;æ‰€æœ‰æ•°æ®å·²å‘é€&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># å‘é€ UDP æ•°æ®åˆ°æŒ‡å®šåœ°å€</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">sendto</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">b&#x27;Hello, Server&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="recvrecvfrom">recv()ã€recvfrom()<a href="#recvrecvfrom" class="hash-link" aria-label="Direct link to recv()ã€recvfrom()" title="Direct link to recv()ã€recvfrom()" translate="no">â€‹</a></h3>
<p><code>recv()</code> æ¥æ”¶æ•°æ®ï¼Œè¿”å›æ¥æ”¶åˆ°çš„æ•°æ®ã€‚</p>
<p><code>recvfrom()</code> æ¥æ”¶æ•°æ®ï¼Œè¿”å›æ¥æ”¶åˆ°çš„æ•°æ®å’Œå‘é€æ–¹åœ°å€ã€‚</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># æ¥æ”¶æœ€å¤š 1024 å­—èŠ‚ï¼ˆ1kbï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">data </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">recv</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;æ¥æ”¶åˆ° </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation builtin" style="color:rgb(0, 112, 193)">len</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation interpolation">data</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> å­—èŠ‚: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">data</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> addr </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">recvfrom</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;ä» </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">addr</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> æ¥æ”¶åˆ°: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">data</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<p><strong>å…³äºæœ€å¤šæ¥æ”¶å­—èŠ‚æ•°ï¼š</strong></p>
<ul>
<li><code>recv(bufsize)</code> ä¸­çš„ <code>bufsize</code> å‚æ•°æŒ‡å®š<strong>å•æ¬¡è°ƒç”¨æœ€å¤šæ¥æ”¶çš„å­—èŠ‚æ•°</strong></li>
<li><strong>ç†è®ºä¸Šæ²¡æœ‰ä¸¥æ ¼ä¸Šé™</strong>ï¼Œä½†å®é™…ä½¿ç”¨å—ä»¥ä¸‹å› ç´ é™åˆ¶ï¼š<!-- -->
<ul>
<li>ç³»ç»Ÿå†…å­˜å¤§å°</li>
<li>å¥—æ¥å­—æ¥æ”¶ç¼“å†²åŒºå¤§å°ï¼ˆ<code>SO_RCVBUF</code>ï¼Œé€šå¸¸é»˜è®¤ 64KB æˆ–æ›´å¤§ï¼‰</li>
<li>ç½‘ç»œ MTUï¼ˆæœ€å¤§ä¼ è¾“å•å…ƒï¼Œä»¥å¤ªç½‘é€šå¸¸ä¸º 1500 å­—èŠ‚ï¼‰</li>
</ul>
</li>
<li><strong>å®é™…æ¥æ”¶çš„å­—èŠ‚æ•°å¯èƒ½å°‘äº <code>bufsize</code></strong>ï¼Œå–å†³äºå½“å‰å¯ç”¨çš„æ•°æ®é‡</li>
<li><strong>å¸¸ç”¨å€¼</strong>ï¼š<code>1024</code> (1KB)ã€<code>2048</code> (2KB)ã€<code>4096</code> (4KB)ã€<code>8192</code> (8KB) ç­‰ï¼ˆé€šå¸¸ä½¿ç”¨ 2 çš„å¹‚æ¬¡ï¼‰</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p><code>recv()</code> å‚æ•°åªæ˜¯é™åˆ¶å•æ¬¡è¯»å–çš„æœ€å¤§å­—èŠ‚æ•°ï¼Œä¸é™åˆ¶å¯ä»¥å¤šæ¬¡è°ƒç”¨ <code>recv()</code> æ¥æ”¶çš„æ€»æ•°æ®é‡ã€‚å¦‚æœéœ€è¦æ¥æ”¶å›ºå®šå¤§å°çš„æ•°æ®ï¼Œéœ€è¦åœ¨å¾ªç¯ä¸­å¤šæ¬¡è°ƒç”¨ç›´åˆ°æ¥æ”¶å®Œæˆã€‚</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="å…³é—­å¥—æ¥å­—">å…³é—­å¥—æ¥å­—<a href="#å…³é—­å¥—æ¥å­—" class="hash-link" aria-label="Direct link to å…³é—­å¥—æ¥å­—" title="Direct link to å…³é—­å¥—æ¥å­—" translate="no">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="close">close()<a href="#close" class="hash-link" aria-label="Direct link to close()" title="Direct link to close()" translate="no">â€‹</a></h3>
<p>å…³é—­å¥—æ¥å­—ï¼Œé‡Šæ”¾èµ„æºï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;www.example.com&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># å…³é—­å¥—æ¥å­—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="shutdown">shutdown()<a href="#shutdown" class="hash-link" aria-label="Direct link to shutdown()" title="Direct link to shutdown()" translate="no">â€‹</a></h3>
<p>å…³é—­è¿æ¥çš„ä¸€éƒ¨åˆ†æˆ–å…¨éƒ¨ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;www.example.com&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># SHUT_RD: å…³é—­æ¥æ”¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># SHUT_WR: å…³é—­å‘é€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># SHUT_RDWR: å…³é—­æ¥æ”¶å’Œå‘é€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">shutdown</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SHUT_RDWR</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getsockname">getsockname()<a href="#getsockname" class="hash-link" aria-label="Direct link to getsockname()" title="Direct link to getsockname()" translate="no">â€‹</a></h3>
<p>è·å–å¥—æ¥å­—è‡ªå·±çš„åœ°å€ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">bind</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8080</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è·å–ç»‘å®šåçš„åœ°å€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">addr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> port </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">getsockname</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;æœ¬åœ°åœ°å€: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">addr</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">:</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">port</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getpeername">getpeername()<a href="#getpeername" class="hash-link" aria-label="Direct link to getpeername()" title="Direct link to getpeername()" translate="no">â€‹</a></h3>
<p>è·å–å·²è¿æ¥å¥—æ¥å­—çš„è¿œç¨‹åœ°å€ï¼š</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;www.example.com&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">80</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># è·å–è¿œç¨‹åœ°å€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">addr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> port </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">getpeername</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;è¿œç¨‹åœ°å€: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">addr</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">:</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">port</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç¤ºä¾‹å¤šçº¿ç¨‹tcpå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯">ç¤ºä¾‹ï¼šå¤šçº¿ç¨‹TCPå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯<a href="#ç¤ºä¾‹å¤šçº¿ç¨‹tcpå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯" class="hash-link" aria-label="Direct link to ç¤ºä¾‹ï¼šå¤šçº¿ç¨‹TCPå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯" title="Direct link to ç¤ºä¾‹ï¼šå¤šçº¿ç¨‹TCPå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯" translate="no">â€‹</a></h2>
<p>ä½¿ç”¨æ ‡å‡†åº“çš„ <code>threading</code> æ¨¡å—å®ç°TCPå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼Œæ”¯æŒåŒæ—¶æ”¶å‘æ•°æ®ï¼š</p>
<!-- -->
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">æœåŠ¡ç«¯</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">å®¢æˆ·ç«¯</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>ä¸»çº¿ç¨‹è´Ÿè´£ç›‘å¬å®¢æˆ·ç«¯è¿æ¥ï¼Œæ¯æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼Œå°±åˆ›å»ºä¸€ä¸ªçº¿ç¨‹(handle_client)æ¥å¤„ç†è¯¥é“¾æ¥çš„æ”¶å‘æ•°æ®ã€‚</p><p>è¯¥çº¿ç¨‹(handle_client)åˆåŒ…å«ä¸¤ä¸ªçº¿ç¨‹(send_data, recv_data)æ¥å¤„ç†è¯¥é“¾æ¥çš„æ”¶å‘æ•°æ®ã€‚</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_OeMC">tcp_server.py</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> threading</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">handle_client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> client_addr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(163, 21, 21)">&quot;&quot;&quot;å¤„ç†å®¢æˆ·ç«¯è¿æ¥çš„çº¿ç¨‹å‡½æ•°&quot;&quot;&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;å®¢æˆ·ç«¯ </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">client_addr</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> å·²è¿æ¥&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)"># åˆ›å»ºå‘é€æ•°æ®çš„çº¿ç¨‹</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">send_data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                message </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">input</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;å‘ </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">client_addr</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> å‘é€: &#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">not</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                    </span><span class="token keyword" style="color:rgb(0, 0, 255)">break</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">sendall</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ConnectionResetError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> BrokenPipeError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;å®¢æˆ·ç«¯ </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">client_addr</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> æ–­å¼€è¿æ¥&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)"># åˆ›å»ºæ¥æ”¶æ•°æ®çš„çº¿ç¨‹</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">recv_data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                data </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">recv</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">not</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                    </span><span class="token keyword" style="color:rgb(0, 0, 255)">break</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;æ”¶åˆ°æ¥è‡ª </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">client_addr</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> çš„æ¶ˆæ¯: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">data</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string-interpolation interpolation">decode</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation interpolation string" style="color:rgb(163, 21, 21)">&quot;utf-8&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ConnectionResetError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> BrokenPipeError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;å®¢æˆ·ç«¯ </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">client_addr</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> æ–­å¼€è¿æ¥&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">finally</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)"># å¯åŠ¨å‘é€å’Œæ¥æ”¶çº¿ç¨‹</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    send_thread </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">Thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">target</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">send_data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> daemon</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    recv_thread </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">Thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">target</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">recv_data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> daemon</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    send_thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    recv_thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)"># ç­‰å¾…æ¥æ”¶çº¿ç¨‹ç»“æŸï¼ˆå®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼‰</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    recv_thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;å®¢æˆ·ç«¯ </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">client_addr</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)"> è¿æ¥å·²å…³é—­&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)"># åˆ›å»ºTCPå¥—æ¥å­—</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    server_sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)"># å…è®¸åœ°å€é‡ç”¨ï¼ˆé¿å… Address already in use é”™è¯¯ï¼‰</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    server_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">setsockopt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOL_SOCKET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SO_REUSEADDR</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    server_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">bind</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8888</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    server_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">listen</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;æœåŠ¡å™¨å¯åŠ¨ï¼Œç›‘å¬ 0.0.0.0:8888&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥...&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)"># æ¥å—å®¢æˆ·ç«¯è¿æ¥</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> client_addr </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> server_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">accept</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)"># ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯åˆ›å»ºæ–°çº¿ç¨‹</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            client_thread </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">Thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                target</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">handle_client</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                args</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> client_addr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                daemon</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            client_thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> KeyboardInterrupt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;\næœåŠ¡å™¨å…³é—­&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">finally</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        server_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_OeMC">tcp_client.py</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#000000;background-color:#ffffff"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> socket</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">import</span><span class="token plain"> threading</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">send_data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(163, 21, 21)">&quot;&quot;&quot;å‘é€æ•°æ®çš„çº¿ç¨‹å‡½æ•°&quot;&quot;&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            message </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(0, 112, 193)">input</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;å‘é€æ¶ˆæ¯: &#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">not</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">break</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">sendall</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ConnectionResetError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> BrokenPipeError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;æœåŠ¡å™¨æ–­å¼€è¿æ¥&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;å‘é€é”™è¯¯: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">recv_data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:rgb(163, 21, 21)">&quot;&quot;&quot;æ¥æ”¶æ•°æ®çš„çº¿ç¨‹å‡½æ•°&quot;&quot;&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            data </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">recv</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">not</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">break</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;æ”¶åˆ°æ¶ˆæ¯: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">data</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string-interpolation interpolation">decode</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation interpolation string" style="color:rgb(163, 21, 21)">&quot;utf-8&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ConnectionResetError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> BrokenPipeError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;æœåŠ¡å™¨æ–­å¼€è¿æ¥&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;æ¥æ”¶é”™è¯¯: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">finally</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)"># åˆ›å»ºTCPå¥—æ¥å­—å¹¶è¿æ¥æœåŠ¡å™¨</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    client_sock </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">AF_INET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> socket</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">SOCK_STREAM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">try</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8888</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;å·²è¿æ¥åˆ°æœåŠ¡å™¨ localhost:8888&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;å¯ä»¥å¼€å§‹å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ï¼ˆè¾“å…¥ç©ºæ¶ˆæ¯é€€å‡ºï¼‰&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)"># åˆ›å»ºå‘é€å’Œæ¥æ”¶çº¿ç¨‹</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        send_thread </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">Thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">target</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">send_data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> args</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> daemon</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        recv_thread </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> threading</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">Thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">target</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">recv_data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> args</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> daemon</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token boolean">True</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)"># å¯åŠ¨çº¿ç¨‹</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        send_thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        recv_thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)"># ç­‰å¾…å‘é€çº¿ç¨‹ç»“æŸï¼ˆç”¨æˆ·è¾“å…¥ç©ºæ¶ˆæ¯ï¼‰</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        send_thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> ConnectionRefusedError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œè¯·ç¡®ä¿æœåŠ¡å™¨å·²å¯åŠ¨&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">except</span><span class="token plain"> Exception </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">f&#x27;è¿æ¥é”™è¯¯: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token string-interpolation string" style="color:rgb(163, 21, 21)">&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">finally</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        client_sock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">print</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;å®¢æˆ·ç«¯å·²å…³é—­&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#000000"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span></span><br></span></code></pre></div></div></div></div></div><div class="margin-vert--lg" style="display:flex;align-items:center;justify-content:center"><a class="button button--link" href="https://github.com/jiangyangcreate/jiangyangcreate.github.io/blob/main/docs/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/socket.mdx" target="_blank" rel="noreferrer noopener" aria-label="edit on github" style="display:inline-flex;align-items:center"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512" height="20" width="20" style="margin-right:7px"><g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="url(#grad1)" stroke="none"><path d="M2384 5060 c-1012 -69 -1891 -738 -2235 -1703 -53 -146 -102 -349 -125 -512 -23 -157 -25 -496 -5 -655 102 -816 575 -1526 1287 -1932 164 -94 418 -200 483 -202 51 -1 94 20 116 57 18 30 19 50 16 267 -1 129 -3 236 -4 236 -1 1 -38 -4 -82 -12 -263 -43 -497 16 -646 165 -58 58 -76 86 -134 206 -94 196 -149 271 -255 348 -78 56 -120 98 -120 119 0 50 121 67 217 30 125 -47 208 -119 299 -258 126 -191 284 -276 485 -261 77 6 233 49 245 68 3 6 13 38 20 71 19 80 68 181 110 228 40 45 44 42 -86 60 -103 14 -282 60 -368 94 -362 143 -571 410 -649 829 -25 134 -25 463 0 567 36 149 103 285 195 398 l43 53 -15 47 c-52 161 -46 370 16 564 20 61 24 67 54 73 107 20 352 -68 576 -206 l98 -61 87 20 c204 47 298 57 553 57 256 0 349 -10 553 -57 l88 -20 77 48 c153 96 304 167 407 193 85 21 159 31 191 25 28 -5 33 -12 52 -72 57 -178 67 -404 23 -542 l-21 -65 20 -25 c98 -121 175 -269 212 -409 26 -98 36 -348 19 -488 -74 -608 -407 -935 -1041 -1023 -120 -16 -118 -15 -83 -53 46 -48 90 -134 115 -223 20 -74 22 -106 27 -529 7 -492 5 -482 66 -507 47 -20 102 -13 200 26 348 135 622 311 884 569 417 410 679 942 752 1527 20 159 18 498 -5 655 -173 1219 -1151 2131 -2373 2215 -161 11 -175 11 -339 0z"></path></g></svg></a><a class="button button--link" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fjiangmiemie.com%2Fdocs%2F%25E9%2580%2589%25E6%258B%25A9%25E7%25BC%2596%25E7%25A8%258B%25E8%25AF%25AD%25E8%25A8%2580%2FPython%25E6%25A0%2587%25E5%2587%2586%25E5%25BA%2593%2F13%25E7%25BD%2591%25E7%25BB%259C%25E5%2592%258C%25E8%25BF%259B%25E7%25A8%258B%25E9%2597%25B4%25E9%2580%259A%25E4%25BF%25A1%2Fsocket&amp;text=%E6%88%91%E5%88%9A%E5%88%9A%E8%AF%BB%E4%BA%86%20%22socket%22%20by%20%40jiangyangcreate" target="_blank" rel="noreferrer noopener" aria-label="share on twitter" style="display:inline-flex;align-items:center"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 24 24" height="20" width="20" style="margin-right:7px"><g fill="url(#grad1)"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></g></svg></a><a class="button button--link" href="https://jiangmiemie.com/blog/rss.xml" target="_blank" rel="noreferrer noopener" aria-label="rss reader link" style="display:inline-flex;align-items:center"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 16 16" height="20" width="20" style="margin-right:7px"><g fill="url(#grad1)"><linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#D8262C;stop-opacity:1"></stop><stop offset="100%" style="stop-color:#E6B800;stop-opacity:1"></stop></linearGradient><circle cx="3" cy="13" r="2"></circle><path d="M1 5.667v2.667A6.674 6.674 0 0 1 7.667 15h2.666c0-5.146-4.187-9.333-9.333-9.333z"></path><path d="M1 1v2.667C7.25 3.667 12.334 8.75 12.334 15H15C15 7.28 8.72 1 1 1z"></path></g></svg></a><a class="button button--link" href="mailto:jiangyangcreate@gmail.com" target="_blank" rel="noreferrer noopener" aria-label="send email" style="display:inline-flex;align-items:center"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 1024 1024" style="margin-right:7px;height:20px;width:20px"><g><path style="opacity:0.996;fill:url(#grad1)" d="M 243.5,420.5 C 189.523,379.185 135.857,337.518 82.5,295.5C 140.987,183.298 229.487,104.632 348,59.5C 432.42,30.213 518.587,23.713 606.5,40C 693.576,57.6997 769.243,96.6997 833.5,157C 787.833,202.667 742.167,248.333 696.5,294C 695.5,294.667 694.5,294.667 693.5,294C 642.378,246.775 581.711,222.942 511.5,222.5C 407.283,227.337 327.117,273.337 271,360.5C 259.938,379.624 250.771,399.624 243.5,420.5 Z"></path></g><g><path style="opacity:0.996;fill:url(#grad1)" d="M 82.5,295.5 C 135.857,337.518 189.523,379.185 243.5,420.5C 223.5,481.168 223.5,541.835 243.5,602.5C 189.523,643.815 135.857,685.482 82.5,727.5C 31.7513,624.612 18.5846,516.945 43,404.5C 51.5465,366.35 64.7132,330.016 82.5,295.5 Z"></path></g><g><path style="opacity:0.998;fill:url(#grad1)" d="M 829.5,876.5 C 777.833,835.833 726.167,795.167 674.5,754.5C 725.318,718.61 756.985,669.944 769.5,608.5C 683.503,607.5 597.503,607.167 511.5,607.5C 511.5,546.167 511.5,484.833 511.5,423.5C 662.5,423.5 813.5,423.5 964.5,423.5C 979.017,509.532 974.517,594.532 951,678.5C 928.206,755.703 887.706,821.703 829.5,876.5 Z"></path></g><g><path style="opacity:0.997;fill:url(#grad1)" d="M 243.5,602.5 C 274.71,690.744 334.043,751.577 421.5,785C 487.78,805.861 553.78,804.861 619.5,782C 638.723,774.388 657.056,765.222 674.5,754.5C 726.167,795.167 777.833,835.833 829.5,876.5C 762.129,936.339 683.462,972.839 593.5,986C 437.233,1008.45 300.566,967.451 183.5,863C 141.888,823.583 108.222,778.416 82.5,727.5C 135.857,685.482 189.523,643.815 243.5,602.5 Z"></path></g></svg></a></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/é€‰æ‹©ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ç½‘ç»œä¸é€šä¿¡</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/é€‰æ‹© ç¼–ç¨‹è¯­è¨€/Pythonæ ‡å‡†åº“/13ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡/asyncio/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">asyncio</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å¥—æ¥å­—åè®®æ—" class="table-of-contents__link toc-highlight">å¥—æ¥å­—åè®®æ—</a><ul><li><a href="#åœ°å€æ ¼å¼ç¤ºä¾‹" class="table-of-contents__link toc-highlight">åœ°å€æ ¼å¼ç¤ºä¾‹</a></li></ul></li><li><a href="#å¥—æ¥å­—ç±»å‹" class="table-of-contents__link toc-highlight">å¥—æ¥å­—ç±»å‹</a><ul><li><a href="#å·¥ä½œæµç¨‹" class="table-of-contents__link toc-highlight">å·¥ä½œæµç¨‹</a></li></ul></li><li><a href="#åˆ›å»ºå¥—æ¥å­—" class="table-of-contents__link toc-highlight">åˆ›å»ºå¥—æ¥å­—</a><ul><li><a href="#socketsocket" class="table-of-contents__link toc-highlight">socket.socket()</a></li></ul></li><li><a href="#å¥—æ¥å­—é€‰é¡¹" class="table-of-contents__link toc-highlight">å¥—æ¥å­—é€‰é¡¹</a><ul><li><a href="#setsockopt" class="table-of-contents__link toc-highlight">setsockopt()</a></li><li><a href="#getsockopt" class="table-of-contents__link toc-highlight">getsockopt()</a></li><li><a href="#setblocking" class="table-of-contents__link toc-highlight">setblocking()</a></li></ul></li><li><a href="#è¶…æ—¶å¤„ç†" class="table-of-contents__link toc-highlight">è¶…æ—¶å¤„ç†</a><ul><li><a href="#settimeout" class="table-of-contents__link toc-highlight">settimeout()</a></li><li><a href="#gettimeout" class="table-of-contents__link toc-highlight">gettimeout()</a></li></ul></li><li><a href="#åœ°å€è§£æå‡½æ•°" class="table-of-contents__link toc-highlight">åœ°å€è§£æå‡½æ•°</a><ul><li><a href="#gethostbyaddr" class="table-of-contents__link toc-highlight">gethostbyaddr()</a></li><li><a href="#getservbyname" class="table-of-contents__link toc-highlight">getservbyname()</a></li></ul></li><li><a href="#æœåŠ¡å™¨ç«¯æ“ä½œ" class="table-of-contents__link toc-highlight">æœåŠ¡å™¨ç«¯æ“ä½œ</a><ul><li><a href="#bind" class="table-of-contents__link toc-highlight">bind()</a></li><li><a href="#listenaccept" class="table-of-contents__link toc-highlight">listen()ã€accept()</a></li></ul></li><li><a href="#å®¢æˆ·ç«¯æ“ä½œ" class="table-of-contents__link toc-highlight">å®¢æˆ·ç«¯æ“ä½œ</a><ul><li><a href="#connectconnect_ex" class="table-of-contents__link toc-highlight">connect()ã€connect_ex()</a></li></ul></li><li><a href="#æ•°æ®ä¼ è¾“" class="table-of-contents__link toc-highlight">æ•°æ®ä¼ è¾“</a><ul><li><a href="#sendsendallsendto" class="table-of-contents__link toc-highlight">send()ã€sendall()ã€sendto()</a></li><li><a href="#recvrecvfrom" class="table-of-contents__link toc-highlight">recv()ã€recvfrom()</a></li></ul></li><li><a href="#å…³é—­å¥—æ¥å­—" class="table-of-contents__link toc-highlight">å…³é—­å¥—æ¥å­—</a><ul><li><a href="#close" class="table-of-contents__link toc-highlight">close()</a></li><li><a href="#shutdown" class="table-of-contents__link toc-highlight">shutdown()</a></li><li><a href="#getsockname" class="table-of-contents__link toc-highlight">getsockname()</a></li><li><a href="#getpeername" class="table-of-contents__link toc-highlight">getpeername()</a></li></ul></li><li><a href="#ç¤ºä¾‹å¤šçº¿ç¨‹tcpå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯" class="table-of-contents__link toc-highlight">ç¤ºä¾‹ï¼šå¤šçº¿ç¨‹TCPå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright"><div style="font-size: 0.75rem;">Copyright Â©  jiangyang 2025<div></div></div></div></div></footer></div>
</body>
</html>